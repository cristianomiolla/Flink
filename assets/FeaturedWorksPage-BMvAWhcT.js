const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CRZ081Ij.js","assets/index-BzcMdIz7.css"])))=>i.map(i=>d[i]);
import{a as A,b as _,i as w,r as a,j as e,S as f,L as y,P as O,_ as E}from"./index-CRZ081Ij.js";/* empty css                       */import{P as S}from"./PageHeader-3WudJlMU.js";import{E as F}from"./EmptyState-C-Wjzl4p.js";const P=a.lazy(()=>E(()=>import("./index-CRZ081Ij.js").then(t=>t.w),__vite__mapDeps([0,1])).then(t=>({default:t.AuthOverlay})));function L({onLogoClick:t}){const i=A(),{profile:d}=_(),{portfolioItems:u,loading:j,error:r}=w(),[p,m]=a.useState(!1),[c,x]=a.useState(!1),[n,v]=a.useState("all"),N=a.useCallback(()=>{m(!0)},[]),b=a.useCallback(s=>{i(`/messages/${s}`)},[i]),g=a.useCallback(s=>{d&&d.user_id===s?i("/profile"):i(`/artist/${s}`)},[i,d]),h=a.useCallback(s=>{v(s),x(!1)},[]),k=a.useCallback(s=>{switch(s){case"flash":return"Flash";case"realized":return"Realizzati";default:return"Tutti"}},[]);a.useEffect(()=>{window.scrollTo(0,0)},[]);const l=a.useMemo(()=>{let s=[...u];return n==="flash"?s=s.filter(o=>o.is_flash===!0):n==="realized"&&(s=s.filter(o=>o.is_flash===!1)),s.sort((o,C)=>{const z=o.like_count??0;return(C.like_count??0)-z})},[u,n]);return j?e.jsxs("div",{className:"page-container",children:[e.jsx(f,{onLogoClick:t,hideOnMobile:!0}),e.jsx("div",{className:"page-loading",children:e.jsx(y,{})})]}):e.jsxs("div",{className:"saved-items-page",children:[e.jsx(f,{onLogoClick:t,hideOnMobile:!0}),e.jsxs("div",{className:"container",children:[!r&&l.length===0&&e.jsx(F,{icon:"⭐",title:"Nessuna opera in evidenza",description:"Non ci sono ancora opere da mostrare. Torna più tardi per scoprire le opere più apprezzate dalla community.",action:e.jsx("button",{className:"action-btn",onClick:t,style:{marginTop:"1.5rem"},children:"Torna alla Home"})}),(l.length>0||r)&&e.jsxs("div",{className:"page-content",children:[l.length>0&&e.jsx(S,{title:"OPERE IN EVIDENZA",subtitle:l.length===1?"1 opera in evidenza":`${l.length} opere in evidenza`,actions:e.jsxs("div",{className:"filter-dropdown",children:[e.jsxs("button",{className:"action-btn","aria-expanded":c,onClick:()=>x(!c),children:[e.jsx("svg",{className:"filter-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})}),e.jsx("span",{className:"action-text",children:k(n)}),e.jsx("span",{className:"action-icon",children:e.jsx("svg",{className:`chevron-icon ${c?"open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("polyline",{points:"6,9 12,15 18,9"})})})]}),c&&e.jsxs("div",{className:"filter-dropdown-menu",children:[e.jsx("button",{className:`action-btn ${n==="all"?"active":""}`,onClick:()=>h("all"),children:e.jsx("span",{className:"action-text",children:"Tutti"})}),e.jsx("button",{className:`action-btn ${n==="flash"?"active":""}`,onClick:()=>h("flash"),children:e.jsx("span",{className:"action-text",children:"Flash"})}),e.jsx("button",{className:`action-btn ${n==="realized"?"active":""}`,onClick:()=>h("realized"),children:e.jsx("span",{className:"action-text",children:"Realizzati"})})]})]})}),r&&e.jsx("div",{className:"error-state",children:e.jsxs("div",{className:"error-content",children:[e.jsx("p",{className:"error-message",children:r}),e.jsx("button",{className:"btn btn-accent retry-btn",onClick:t,style:{marginTop:"1.5rem"},children:"Torna alla Home"})]})}),!r&&l.length>0&&e.jsx("div",{className:"portfolio-grid",children:l.map(s=>e.jsx(O,{item:s,onArtistClick:g,onAuthRequired:N,onContactArtist:b},s.id))})]})]}),p&&e.jsx(a.Suspense,{fallback:e.jsx("div",{}),children:e.jsx(P,{isOpen:p,onClose:()=>m(!1)})})]})}export{L as FeaturedWorksPage};
