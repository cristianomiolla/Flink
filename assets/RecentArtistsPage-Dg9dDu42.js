const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CRZ081Ij.js","assets/index-BzcMdIz7.css"])))=>i.map(i=>d[i]);
import{a as v,b as A,i as N,r as a,j as e,S as m,L as b,k as T,_}from"./index-CRZ081Ij.js";/* empty css                       */import{P as w}from"./PageHeader-3WudJlMU.js";import{E as y}from"./EmptyState-C-Wjzl4p.js";const O=a.lazy(()=>_(()=>import("./index-CRZ081Ij.js").then(s=>s.w),__vite__mapDeps([0,1])).then(s=>({default:s.AuthOverlay})));function E({onLogoClick:s}){const r=v(),{profile:o}=A(),{artistProfiles:l,loading:u,error:n}=N(),[d,h]=a.useState(!1),g=a.useCallback(()=>{h(!0)},[]),p=a.useCallback(t=>{r(`/messages/${t}`)},[r]),x=a.useCallback(t=>{o&&o.user_id===t?r("/profile"):r(`/artist/${t}`)},[r,o]);a.useEffect(()=>{window.scrollTo(0,0)},[]);const i=a.useMemo(()=>{if(!l||l.length===0)return[];const t=new Date,j=new Date(t.getTime()-720*60*60*1e3);return l.filter(c=>new Date(c.created_at)>j).sort((c,f)=>new Date(f.created_at).getTime()-new Date(c.created_at).getTime())},[l]);return u?e.jsxs("div",{className:"page-container",children:[e.jsx(m,{onLogoClick:s,hideOnMobile:!0}),e.jsx("div",{className:"page-loading",children:e.jsx(b,{})})]}):e.jsxs("div",{className:"saved-items-page",children:[e.jsx(m,{onLogoClick:s,hideOnMobile:!0}),e.jsxs("div",{className:"container",children:[!n&&i.length===0&&e.jsx(y,{icon:"ðŸ†•",title:"Nessun artista recente",description:"Non ci sono artisti che si sono iscritti negli ultimi 30 giorni. Torna piÃ¹ tardi per scoprire i nuovi talenti.",action:e.jsx("button",{className:"action-btn",onClick:s,style:{marginTop:"1.5rem"},children:"Torna alla Home"})}),(i.length>0||n)&&e.jsxs("div",{className:"page-content",children:[i.length>0&&e.jsx("div",{className:"header-card",children:e.jsx(w,{title:"ARTISTI ISCRITTI DA POCO",subtitle:i.length===1?"1 artista negli ultimi 30 giorni":`${i.length} artisti negli ultimi 30 giorni`})}),n&&e.jsx("div",{className:"error-state",children:e.jsxs("div",{className:"error-content",children:[e.jsx("p",{className:"error-message",children:n}),e.jsx("button",{className:"btn btn-accent retry-btn",onClick:s,style:{marginTop:"1.5rem"},children:"Torna alla Home"})]})}),!n&&i.length>0&&e.jsx("div",{className:"artist-grid",children:i.map(t=>e.jsx(T,{profile:t,onArtistClick:x,onAuthRequired:g,onContactArtist:p},t.id))})]})]}),d&&e.jsx(a.Suspense,{fallback:e.jsx("div",{}),children:e.jsx(O,{isOpen:d,onClose:()=>h(!1)})})]})}export{E as RecentArtistsPage};
