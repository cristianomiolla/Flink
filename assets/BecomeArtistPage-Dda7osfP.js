import{b as N,r as t,a as j,j as e,S as b,s as v}from"./index-wZQoyXLs.js";function E({onLogoClick:h}){const{user:r,profile:c,refreshProfile:u}=N(),[a,o]=t.useState(!1),[d,n]=t.useState(null),[f,p]=t.useState(!1),[l,i]=t.useState(!1),m=j(),x=async()=>{if(!r||!c){n("Devi essere autenticato per diventare un artista");return}if(c.profile_type==="artist"){n("Il tuo profilo Ã¨ giÃ  un profilo artista");return}o(!0),n(null);try{const{error:s}=await v.from("profiles").update({profile_type:"artist"}).eq("user_id",r.id);if(s)throw s;await u(),p(!0),setTimeout(()=>{m("/profile")},2e3)}catch(s){n(`Errore durante l'aggiornamento: ${s.message}`)}finally{o(!1)}};return t.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[l]),e.jsxs("div",{className:"become-artist-page",children:[e.jsx(b,{onLogoClick:h,hideOnMobile:!0}),e.jsxs("div",{className:"become-artist-container",children:[e.jsxs("div",{className:"hero-section",children:[e.jsx("h1",{className:"hero-title",children:"DIVENTA UN ARTISTA"}),e.jsx("p",{className:"hero-subtitle",children:"Trasforma la tua passione in una carriera professionale"}),e.jsx("div",{className:"hero-cta",children:f?e.jsxs("div",{className:"success-message",children:[e.jsx("h2",{children:"BENVENUTO TRA GLI ARTISTI!"}),e.jsx("p",{children:"Il tuo profilo Ã¨ stato aggiornato con successo. Verrai reindirizzato alla home page..."})]}):e.jsxs(e.Fragment,{children:[d&&e.jsx("div",{className:"error-message",children:d}),e.jsx("button",{className:`hero-cta-button ${a?"loading":""}`,onClick:()=>i(!0),disabled:a||!r,children:a?"AGGIORNAMENTO IN CORSO...":"DIVENTA ARTISTA ORA"}),!r&&e.jsxs("p",{className:"auth-notice",children:["Devi essere autenticato per diventare un artista.",e.jsx("button",{className:"auth-link",onClick:()=>m("/"),children:"Torna alla home per accedere"})]})]})})]}),e.jsxs("div",{className:"benefits-section",children:[e.jsxs("div",{className:"benefit-card",children:[e.jsx("div",{className:"benefit-icon",children:"ðŸ“¸"}),e.jsx("h3",{className:"benefit-title",children:"PUBBLICA I TUOI LAVORI"}),e.jsx("p",{className:"benefit-description",children:"Mostra il tuo portfolio e raggiungi migliaia di potenziali clienti. Carica le tue opere, organizza per categorie e attira nuovi clienti."})]}),e.jsxs("div",{className:"benefit-card",children:[e.jsx("div",{className:"benefit-icon",children:"ðŸ“Š"}),e.jsx("h3",{className:"benefit-title",children:"GESTIONALE PERSONALE"}),e.jsx("p",{className:"benefit-description",children:"Accedi a strumenti avanzati per organizzare le tue opere, gestire le vendite e monitorare le performance del tuo business artistico."})]}),e.jsxs("div",{className:"benefit-card",children:[e.jsx("div",{className:"benefit-icon",children:"ðŸ“‹"}),e.jsx("h3",{className:"benefit-title",children:"ADEMPIMENTI LEGALI"}),e.jsx("p",{className:"benefit-description",children:"Strumenti integrati per gestire fatturazione, contratti, consensi e tutti gli aspetti burocratici dell'attivitÃ  artistica."})]}),e.jsxs("div",{className:"benefit-card",children:[e.jsx("div",{className:"benefit-icon",children:"ðŸ’¬"}),e.jsx("h3",{className:"benefit-title",children:"COMUNICAZIONE DIRETTA"}),e.jsx("p",{className:"benefit-description",children:"Sistema di messaggistica integrato per comunicare direttamente con i clienti, gestire appuntamenti e follow-up post-tatuaggio."})]})]})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:s=>s.target===s.currentTarget&&i(!1),children:e.jsxs("div",{className:"modal-content auth-modal",children:[e.jsx("div",{className:"auth-header-sticky",children:e.jsx("button",{className:"modal-close-btn",onClick:()=>i(!1),children:"Ã—"})}),e.jsx("div",{className:"auth-modal-header"}),e.jsxs("div",{className:"auth-content",children:[e.jsxs("div",{className:"header-card",children:[e.jsx("h2",{children:"CONFERMA UPGRADE"}),e.jsx("p",{children:"Sei sicuro di voler diventare un artista? Questa azione cambierÃ  il tuo profilo da cliente ad artista"}),e.jsxs("p",{className:"confirmation-note",children:[e.jsx("strong",{children:"Nota:"})," Potrai sempre tornare indietro dalle impostazioni del profilo"]})]}),e.jsx("form",{className:"auth-form",onSubmit:s=>{s.preventDefault(),i(!1),x()},children:e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"button",className:"action-btn",onClick:()=>i(!1),children:[e.jsx("span",{className:"action-icon",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),e.jsx("span",{className:"action-text",children:"Annulla"})]}),e.jsxs("button",{type:"submit",className:`action-btn ${a?"disabled":""}`,disabled:a,children:[e.jsx("span",{className:"action-icon",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})})}),e.jsx("span",{className:"action-text",children:a?"AGGIORNAMENTO...":"CONFERMA"})]})]})})]})]})})]})}export{E as BecomeArtistPage};
