(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function py(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function gy(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var n=r.default;if(typeof n=="function"){var i=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var u=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:function(){return r[l]}})}),i}var Oc={exports:{}},Ti={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function yy(){if(um)return Ti;um=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var m in u)m!=="key"&&(d[m]=u[m])}else d=u;return u=d.ref,{$$typeof:r,type:l,key:h,ref:u!==void 0?u:null,props:d}}return Ti.Fragment=n,Ti.jsx=i,Ti.jsxs=i,Ti}var dm;function by(){return dm||(dm=1,Oc.exports=yy()),Oc.exports}var o=by(),Rc={exports:{}},Ai={},Mc={exports:{}},Dc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function _y(){return fm||(fm=1,(function(r){function n($,K){var ne=$.length;$.push(K);e:for(;0<ne;){var ge=ne-1>>>1,T=$[ge];if(0<u(T,K))$[ge]=K,$[ne]=T,ne=ge;else break e}}function i($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var K=$[0],ne=$.pop();if(ne!==K){$[0]=ne;e:for(var ge=0,T=$.length,I=T>>>1;ge<I;){var ee=2*(ge+1)-1,F=$[ee],P=ee+1,te=$[P];if(0>u(F,ne))P<T&&0>u(te,F)?($[ge]=te,$[P]=ne,ge=P):($[ge]=F,$[ee]=ne,ge=ee);else if(P<T&&0>u(te,ne))$[ge]=te,$[P]=ne,ge=P;else break e}}return K}function u($,K){var ne=$.sortIndex-K.sortIndex;return ne!==0?ne:$.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var v=[],p=[],g=1,_=null,w=3,j=!1,S=!1,E=!1,N=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function H($){for(var K=i(p);K!==null;){if(K.callback===null)l(p);else if(K.startTime<=$)l(p),K.sortIndex=K.expirationTime,n(v,K);else break;K=i(p)}}function Q($){if(E=!1,H($),!S)if(i(v)!==null)S=!0,A||(A=!0,X());else{var K=i(p);K!==null&&ve(Q,K.startTime-$)}}var A=!1,q=-1,J=5,W=-1;function me(){return N?!0:!(r.unstable_now()-W<J)}function ae(){if(N=!1,A){var $=r.unstable_now();W=$;var K=!0;try{e:{S=!1,E&&(E=!1,D(q),q=-1),j=!0;var ne=w;try{t:{for(H($),_=i(v);_!==null&&!(_.expirationTime>$&&me());){var ge=_.callback;if(typeof ge=="function"){_.callback=null,w=_.priorityLevel;var T=ge(_.expirationTime<=$);if($=r.unstable_now(),typeof T=="function"){_.callback=T,H($),K=!0;break t}_===i(v)&&l(v),H($)}else l(v);_=i(v)}if(_!==null)K=!0;else{var I=i(p);I!==null&&ve(Q,I.startTime-$),K=!1}}break e}finally{_=null,w=ne,j=!1}K=void 0}}finally{K?X():A=!1}}}var X;if(typeof M=="function")X=function(){M(ae)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,le=ue.port2;ue.port1.onmessage=ae,X=function(){le.postMessage(null)}}else X=function(){O(ae,0)};function ve($,K){q=O(function(){$(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function($){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var ne=w;w=K;try{return $()}finally{w=ne}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=w;w=$;try{return K()}finally{w=ne}},r.unstable_scheduleCallback=function($,K,ne){var ge=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ge+ne:ge):ne=ge,$){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ne+T,$={id:g++,callback:K,priorityLevel:$,startTime:ne,expirationTime:T,sortIndex:-1},ne>ge?($.sortIndex=ne,n(p,$),i(v)===null&&$===i(p)&&(E?(D(q),q=-1):E=!0,ve(Q,ne-ge))):($.sortIndex=T,n(v,$),S||j||(S=!0,A||(A=!0,X()))),$},r.unstable_shouldYield=me,r.unstable_wrapCallback=function($){var K=w;return function(){var ne=w;w=K;try{return $.apply(this,arguments)}finally{w=ne}}}})(Dc)),Dc}var hm;function xy(){return hm||(hm=1,Mc.exports=_y()),Mc.exports}var zc={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function wy(){if(mm)return ye;mm=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function N(T,I,ee){this.props=T,this.context=I,this.refs=E,this.updater=ee||j}N.prototype.isReactComponent={},N.prototype.setState=function(T,I){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,I,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function O(){}O.prototype=N.prototype;function D(T,I,ee){this.props=T,this.context=I,this.refs=E,this.updater=ee||j}var M=D.prototype=new O;M.constructor=D,S(M,N.prototype),M.isPureReactComponent=!0;var H=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function q(T,I,ee,F,P,te){return ee=te.ref,{$$typeof:r,type:T,key:I,ref:ee!==void 0?ee:null,props:te}}function J(T,I){return q(T.type,I,void 0,void 0,void 0,T.props)}function W(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function me(T){var I={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ee){return I[ee]})}var ae=/\/+/g;function X(T,I){return typeof T=="object"&&T!==null&&T.key!=null?me(""+T.key):I.toString(36)}function ue(){}function le(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ue,ue):(T.status="pending",T.then(function(I){T.status==="pending"&&(T.status="fulfilled",T.value=I)},function(I){T.status==="pending"&&(T.status="rejected",T.reason=I)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ve(T,I,ee,F,P){var te=typeof T;(te==="undefined"||te==="boolean")&&(T=null);var se=!1;if(T===null)se=!0;else switch(te){case"bigint":case"string":case"number":se=!0;break;case"object":switch(T.$$typeof){case r:case n:se=!0;break;case g:return se=T._init,ve(se(T._payload),I,ee,F,P)}}if(se)return P=P(T),se=F===""?"."+X(T,0):F,H(P)?(ee="",se!=null&&(ee=se.replace(ae,"$&/")+"/"),ve(P,I,ee,"",function(qe){return qe})):P!=null&&(W(P)&&(P=J(P,ee+(P.key==null||T&&T.key===P.key?"":(""+P.key).replace(ae,"$&/")+"/")+se)),I.push(P)),1;se=0;var ke=F===""?".":F+":";if(H(T))for(var Ne=0;Ne<T.length;Ne++)F=T[Ne],te=ke+X(F,Ne),se+=ve(F,I,ee,te,P);else if(Ne=w(T),typeof Ne=="function")for(T=Ne.call(T),Ne=0;!(F=T.next()).done;)F=F.value,te=ke+X(F,Ne++),se+=ve(F,I,ee,te,P);else if(te==="object"){if(typeof T.then=="function")return ve(le(T),I,ee,F,P);throw I=String(T),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return se}function $(T,I,ee){if(T==null)return T;var F=[],P=0;return ve(T,F,"","",function(te){return I.call(ee,te,P++)}),F}function K(T){if(T._status===-1){var I=T._result;I=I(),I.then(function(ee){(T._status===0||T._status===-1)&&(T._status=1,T._result=ee)},function(ee){(T._status===0||T._status===-1)&&(T._status=2,T._result=ee)}),T._status===-1&&(T._status=0,T._result=I)}if(T._status===1)return T._result.default;throw T._result}var ne=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function ge(){}return ye.Children={map:$,forEach:function(T,I,ee){$(T,function(){I.apply(this,arguments)},ee)},count:function(T){var I=0;return $(T,function(){I++}),I},toArray:function(T){return $(T,function(I){return I})||[]},only:function(T){if(!W(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ye.Component=N,ye.Fragment=i,ye.Profiler=u,ye.PureComponent=D,ye.StrictMode=l,ye.Suspense=v,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ye.__COMPILER_RUNTIME={__proto__:null,c:function(T){return Q.H.useMemoCache(T)}},ye.cache=function(T){return function(){return T.apply(null,arguments)}},ye.cloneElement=function(T,I,ee){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var F=S({},T.props),P=T.key,te=void 0;if(I!=null)for(se in I.ref!==void 0&&(te=void 0),I.key!==void 0&&(P=""+I.key),I)!A.call(I,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&I.ref===void 0||(F[se]=I[se]);var se=arguments.length-2;if(se===1)F.children=ee;else if(1<se){for(var ke=Array(se),Ne=0;Ne<se;Ne++)ke[Ne]=arguments[Ne+2];F.children=ke}return q(T.type,P,void 0,void 0,te,F)},ye.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:d,_context:T},T},ye.createElement=function(T,I,ee){var F,P={},te=null;if(I!=null)for(F in I.key!==void 0&&(te=""+I.key),I)A.call(I,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(P[F]=I[F]);var se=arguments.length-2;if(se===1)P.children=ee;else if(1<se){for(var ke=Array(se),Ne=0;Ne<se;Ne++)ke[Ne]=arguments[Ne+2];P.children=ke}if(T&&T.defaultProps)for(F in se=T.defaultProps,se)P[F]===void 0&&(P[F]=se[F]);return q(T,te,void 0,void 0,null,P)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(T){return{$$typeof:m,render:T}},ye.isValidElement=W,ye.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:K}},ye.memo=function(T,I){return{$$typeof:p,type:T,compare:I===void 0?null:I}},ye.startTransition=function(T){var I=Q.T,ee={};Q.T=ee;try{var F=T(),P=Q.S;P!==null&&P(ee,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(ge,ne)}catch(te){ne(te)}finally{Q.T=I}},ye.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ye.use=function(T){return Q.H.use(T)},ye.useActionState=function(T,I,ee){return Q.H.useActionState(T,I,ee)},ye.useCallback=function(T,I){return Q.H.useCallback(T,I)},ye.useContext=function(T){return Q.H.useContext(T)},ye.useDebugValue=function(){},ye.useDeferredValue=function(T,I){return Q.H.useDeferredValue(T,I)},ye.useEffect=function(T,I,ee){var F=Q.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(T,I)},ye.useId=function(){return Q.H.useId()},ye.useImperativeHandle=function(T,I,ee){return Q.H.useImperativeHandle(T,I,ee)},ye.useInsertionEffect=function(T,I){return Q.H.useInsertionEffect(T,I)},ye.useLayoutEffect=function(T,I){return Q.H.useLayoutEffect(T,I)},ye.useMemo=function(T,I){return Q.H.useMemo(T,I)},ye.useOptimistic=function(T,I){return Q.H.useOptimistic(T,I)},ye.useReducer=function(T,I,ee){return Q.H.useReducer(T,I,ee)},ye.useRef=function(T){return Q.H.useRef(T)},ye.useState=function(T){return Q.H.useState(T)},ye.useSyncExternalStore=function(T,I,ee){return Q.H.useSyncExternalStore(T,I,ee)},ye.useTransition=function(){return Q.H.useTransition()},ye.version="19.1.1",ye}var vm;function ru(){return vm||(vm=1,zc.exports=wy()),zc.exports}var Uc={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function jy(){if(pm)return ut;pm=1;var r=ru();function n(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(v,p,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:v,containerInfo:p,implementation:g}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ut.createPortal=function(v,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return d(v,p,null,g)},ut.flushSync=function(v){var p=h.T,g=l.p;try{if(h.T=null,l.p=2,v)return v()}finally{h.T=p,l.p=g,l.d.f()}},ut.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(v,p))},ut.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},ut.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var g=p.as,_=m(g,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?l.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:j}):g==="script"&&l.d.X(v,{crossOrigin:_,integrity:w,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ut.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=m(p.as,p.crossOrigin);l.d.M(v,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(v)},ut.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,_=m(g,p.crossOrigin);l.d.L(v,g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ut.preloadModule=function(v,p){if(typeof v=="string")if(p){var g=m(p.as,p.crossOrigin);l.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(v)},ut.requestFormReset=function(v){l.d.r(v)},ut.unstable_batchedUpdates=function(v,p){return v(p)},ut.useFormState=function(v,p,g){return h.H.useFormState(v,p,g)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.1.1",ut}var gm;function Sy(){if(gm)return Uc.exports;gm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Uc.exports=jy(),Uc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function Ny(){if(ym)return Ai;ym=1;var r=xy(),n=ru(),i=Sy();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(l(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(s=c.return,s!==null){a=s;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return m(c),e;if(f===s)return m(c),t;f=f.sibling}throw Error(l(188))}if(a.return!==s.return)a=c,s=f;else{for(var y=!1,b=c.child;b;){if(b===a){y=!0,a=c,s=f;break}if(b===s){y=!0,s=c,a=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===a){y=!0,a=f,s=c;break}if(b===s){y=!0,s=f,a=c;break}b=b.sibling}if(!y)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case N:return"Profiler";case E:return"StrictMode";case Q:return"Suspense";case A:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case M:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:le(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}var ve=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ge=[],T=-1;function I(e){return{current:e}}function ee(e){0>T||(e.current=ge[T],ge[T]=null,T--)}function F(e,t){T++,ge[T]=e.current,e.current=t}var P=I(null),te=I(null),se=I(null),ke=I(null);function Ne(e,t){switch(F(se,t),F(te,e),F(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bh(t),e=qh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(P),F(P,e)}function qe(){ee(P),ee(te),ee(se)}function Hi(e){e.memoizedState!==null&&F(ke,e);var t=P.current,a=qh(t,e.type);t!==a&&(F(te,e),F(P,a))}function Nn(e){te.current===e&&(ee(P),ee(te)),ke.current===e&&(ee(ke),ji._currentValue=ne)}var En=Object.prototype.hasOwnProperty,As=r.unstable_scheduleCallback,ks=r.unstable_cancelCallback,Cn=r.unstable_shouldYield,Z=r.unstable_requestPaint,re=r.unstable_now,Ye=r.unstable_getCurrentPriorityLevel,De=r.unstable_ImmediatePriority,Sa=r.unstable_UserBlockingPriority,Na=r.unstable_NormalPriority,aa=r.unstable_LowPriority,Pi=r.unstable_IdlePriority,Fv=r.log,Wv=r.unstable_setDisableYieldValue,Os=null,_t=null;function Ea(e){if(typeof Fv=="function"&&Wv(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Os,e)}catch{}}var xt=Math.clz32?Math.clz32:ap,ep=Math.log,tp=Math.LN2;function ap(e){return e>>>=0,e===0?32:31-(ep(e)/tp|0)|0}var Gi=256,Vi=4194304;function en(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yi(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var c=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~f,s!==0?c=en(s):(y&=b,y!==0?c=en(y):a||(a=b&~e,a!==0&&(c=en(a))))):(b=s&~f,b!==0?c=en(b):y!==0?c=en(y):a||(a=s&~e,a!==0&&(c=en(a)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:c}function Rs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function np(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var e=Gi;return Gi<<=1,(Gi&4194048)===0&&(Gi=256),e}function xu(){var e=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),e}function br(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ms(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sp(e,t,a,s,c,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(a=y&~a;0<a;){var G=31-xt(a),Y=1<<G;b[G]=0,C[G]=-1;var L=U[G];if(L!==null)for(U[G]=null,G=0;G<L.length;G++){var B=L[G];B!==null&&(B.lane&=-536870913)}a&=~Y}s!==0&&wu(e,s,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function wu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function ju(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-xt(a),c=1<<s;c&t|e[s]&t&&(e[s]|=t),a&=~c}}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Su(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:sm(e.type))}function ip(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var Ca=Math.random().toString(36).slice(2),ot="__reactFiber$"+Ca,vt="__reactProps$"+Ca,Tn="__reactContainer$"+Ca,wr="__reactEvents$"+Ca,lp="__reactListeners$"+Ca,rp="__reactHandles$"+Ca,Nu="__reactResources$"+Ca,Ds="__reactMarker$"+Ca;function jr(e){delete e[ot],delete e[vt],delete e[wr],delete e[lp],delete e[rp]}function An(e){var t=e[ot];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Tn]||a[ot]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Gh(e);e!==null;){if(a=e[ot])return a;e=Gh(e)}return t}e=a,a=e.parentNode}return null}function kn(e){if(e=e[ot]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function zs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function On(e){var t=e[Nu];return t||(t=e[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ds]=!0}var Eu=new Set,Cu={};function tn(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(Cu[e]=t,e=0;e<t.length;e++)Eu.add(t[e])}var op=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tu={},Au={};function cp(e){return En.call(Au,e)?!0:En.call(Tu,e)?!1:op.test(e)?Au[e]=!0:(Tu[e]=!0,!1)}function Ii(e,t,a){if(cp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ki(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function na(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}var Sr,ku;function Mn(e){if(Sr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Sr=t&&t[1]||"",ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+e+ku}var Nr=!1;function Er(e,t){if(!e||Nr)return"";Nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var L=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){L=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){L=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&L&&typeof B.stack=="string")return[B.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var C=y.split(`
`),U=b.split(`
`);for(c=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(s===C.length||c===U.length)for(s=C.length-1,c=U.length-1;1<=s&&0<=c&&C[s]!==U[c];)c--;for(;1<=s&&0<=c;s--,c--)if(C[s]!==U[c]){if(s!==1||c!==1)do if(s--,c--,0>c||C[s]!==U[c]){var G=`
`+C[s].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=s&&0<=c);break}}}finally{Nr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Mn(a):""}function up(e){switch(e.tag){case 26:case 27:case 5:return Mn(e.type);case 16:return Mn("Lazy");case 13:return Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Er(e.type,!1);case 11:return Er(e.type.render,!1);case 1:return Er(e.type,!0);case 31:return Mn("Activity");default:return""}}function Ou(e){try{var t="";do t+=up(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function At(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ru(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dp(e){var t=Ru(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qi(e){e._valueTracker||(e._valueTracker=dp(e))}function Mu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Ru(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fp=/[\n"\\]/g;function kt(e){return e.replace(fp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Cr(e,t,a,s,c,f,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+At(t)):e.value!==""+At(t)&&(e.value=""+At(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Tr(e,y,At(t)):a!=null?Tr(e,y,At(a)):s!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+At(b):e.removeAttribute("name")}function Du(e,t,a,s,c,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+At(a):"",t=t!=null?""+At(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Tr(e,t,a){t==="number"&&Xi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Dn(e,t,a,s){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&s&&(e[a].defaultSelected=!0)}else{for(a=""+At(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function zu(e,t,a){if(t!=null&&(t=""+At(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+At(a):""}function Uu(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(ve(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=At(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function zn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||hp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Bu(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&a[c]!==s&&Lu(e,c,s)}else for(var f in t)t.hasOwnProperty(f)&&Lu(e,f,t[f])}function Ar(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zi(e){return vp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var kr=null;function Or(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Un=null,Ln=null;function qu(e){var t=kn(e);if(t&&(e=t.stateNode)){var a=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Cr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var c=s[vt]||null;if(!c)throw Error(l(90));Cr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Mu(s)}break e;case"textarea":zu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Dn(e,!!a.multiple,t,!1)}}}var Rr=!1;function $u(e,t,a){if(Rr)return e(t,a);Rr=!0;try{var s=e(t);return s}finally{if(Rr=!1,(Un!==null||Ln!==null)&&(zl(),Un&&(t=Un,e=Ln,Ln=Un=null,qu(t),e)))for(t=0;t<e.length;t++)qu(e[t])}}function Us(e,t){var a=e.stateNode;if(a===null)return null;var s=a[vt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(sa)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Mr=!1}var Ta=null,Dr=null,Ji=null;function Hu(){if(Ji)return Ji;var e,t=Dr,a=t.length,s,c="value"in Ta?Ta.value:Ta.textContent,f=c.length;for(e=0;e<a&&t[e]===c[e];e++);var y=a-e;for(s=1;s<=y&&t[a-s]===c[f-s];s++);return Ji=c.slice(e,1<s?1-s:void 0)}function Fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function Pu(){return!1}function pt(e){function t(a,s,c,f,y){this._reactName=a,this._targetInst=c,this.type=s,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:Pu,this.isPropagationStopped=Pu,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=pt(an),Bs=g({},an,{view:0,detail:0}),pp=pt(Bs),zr,Ur,qs,tl=g({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(zr=e.screenX-qs.screenX,Ur=e.screenY-qs.screenY):Ur=zr=0,qs=e),zr)},movementY:function(e){return"movementY"in e?e.movementY:Ur}}),Gu=pt(tl),gp=g({},tl,{dataTransfer:0}),yp=pt(gp),bp=g({},Bs,{relatedTarget:0}),Lr=pt(bp),_p=g({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),xp=pt(_p),wp=g({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=pt(wp),Sp=g({},an,{data:0}),Vu=pt(Sp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cp[e])?!!t[e]:!1}function Br(){return Tp}var Ap=g({},Bs,{key:function(e){if(e.key){var t=Np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(e){return e.type==="keypress"?Fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kp=pt(Ap),Op=g({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yu=pt(Op),Rp=g({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),Mp=pt(Rp),Dp=g({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),zp=pt(Dp),Up=g({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lp=pt(Up),Bp=g({},an,{newState:0,oldState:0}),qp=pt(Bp),$p=[9,13,27,32],qr=sa&&"CompositionEvent"in window,$s=null;sa&&"documentMode"in document&&($s=document.documentMode);var Hp=sa&&"TextEvent"in window&&!$s,Iu=sa&&(!qr||$s&&8<$s&&11>=$s),Ku=" ",Qu=!1;function Xu(e,t){switch(e){case"keyup":return $p.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Pp(e,t){switch(e){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(Qu=!0,Ku);case"textInput":return e=t.data,e===Ku&&Qu?null:e;default:return null}}function Gp(e,t){if(Bn)return e==="compositionend"||!qr&&Xu(e,t)?(e=Hu(),Ji=Dr=Ta=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iu&&t.locale!=="ko"?null:t.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vp[e.type]:t==="textarea"}function Fu(e,t,a,s){Un?Ln?Ln.push(s):Ln=[s]:Un=s,t=Hl(t,"onChange"),0<t.length&&(a=new el("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Hs=null,Ps=null;function Yp(e){Mh(e,0)}function al(e){var t=zs(e);if(Mu(t))return e}function Wu(e,t){if(e==="change")return t}var ed=!1;if(sa){var $r;if(sa){var Hr="oninput"in document;if(!Hr){var td=document.createElement("div");td.setAttribute("oninput","return;"),Hr=typeof td.oninput=="function"}$r=Hr}else $r=!1;ed=$r&&(!document.documentMode||9<document.documentMode)}function ad(){Hs&&(Hs.detachEvent("onpropertychange",nd),Ps=Hs=null)}function nd(e){if(e.propertyName==="value"&&al(Ps)){var t=[];Fu(t,Ps,e,Or(e)),$u(Yp,t)}}function Ip(e,t,a){e==="focusin"?(ad(),Hs=t,Ps=a,Hs.attachEvent("onpropertychange",nd)):e==="focusout"&&ad()}function Kp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Ps)}function Qp(e,t){if(e==="click")return al(t)}function Xp(e,t){if(e==="input"||e==="change")return al(t)}function Zp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:Zp;function Gs(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var c=a[s];if(!En.call(t,c)||!wt(e[c],t[c]))return!1}return!0}function sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function id(e,t){var a=sd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sd(a)}}function ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Xi(e.document)}return t}function Pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jp=sa&&"documentMode"in document&&11>=document.documentMode,qn=null,Gr=null,Vs=null,Vr=!1;function od(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vr||qn==null||qn!==Xi(s)||(s=qn,"selectionStart"in s&&Pr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vs&&Gs(Vs,s)||(Vs=s,s=Hl(Gr,"onSelect"),0<s.length&&(t=new el("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=qn)))}function nn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var $n={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},Yr={},cd={};sa&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function sn(e){if(Yr[e])return Yr[e];if(!$n[e])return e;var t=$n[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in cd)return Yr[e]=t[a];return e}var ud=sn("animationend"),dd=sn("animationiteration"),fd=sn("animationstart"),Fp=sn("transitionrun"),Wp=sn("transitionstart"),eg=sn("transitioncancel"),hd=sn("transitionend"),md=new Map,Ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ir.push("scrollEnd");function qt(e,t){md.set(e,t),tn(t,[e])}var vd=new WeakMap;function Ot(e,t){if(typeof e=="object"&&e!==null){var a=vd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ou(t)},vd.set(e,t),t)}return{value:e,source:t,stack:Ou(t)}}var Rt=[],Hn=0,Kr=0;function nl(){for(var e=Hn,t=Kr=Hn=0;t<e;){var a=Rt[t];Rt[t++]=null;var s=Rt[t];Rt[t++]=null;var c=Rt[t];Rt[t++]=null;var f=Rt[t];if(Rt[t++]=null,s!==null&&c!==null){var y=s.pending;y===null?c.next=c:(c.next=y.next,y.next=c),s.pending=c}f!==0&&pd(a,c,f)}}function sl(e,t,a,s){Rt[Hn++]=e,Rt[Hn++]=t,Rt[Hn++]=a,Rt[Hn++]=s,Kr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Qr(e,t,a,s){return sl(e,t,a,s),il(e)}function Pn(e,t){return sl(e,null,null,t),il(e)}function pd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,s=f.alternate,s!==null&&(s.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-xt(a),e=f.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=a|536870912),f):null}function il(e){if(50<vi)throw vi=0,tc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Gn={};function tg(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,a,s){return new tg(e,t,a,s)}function Xr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,t){var a=e.alternate;return a===null?(a=jt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ll(e,t,a,s,c,f){var y=0;if(s=e,typeof e=="function")Xr(e)&&(y=1);else if(typeof e=="string")y=ny(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=jt(31,a,t,c),e.elementType=W,e.lanes=f,e;case S:return ln(a.children,c,f,t);case E:y=8,c|=24;break;case N:return e=jt(12,a,t,c|2),e.elementType=N,e.lanes=f,e;case Q:return e=jt(13,a,t,c),e.elementType=Q,e.lanes=f,e;case A:return e=jt(19,a,t,c),e.elementType=A,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:case M:y=10;break e;case D:y=9;break e;case H:y=11;break e;case q:y=14;break e;case J:y=16,s=null;break e}y=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=jt(y,a,t,c),t.elementType=e,t.type=s,t.lanes=f,t}function ln(e,t,a,s){return e=jt(7,e,s,t),e.lanes=a,e}function Zr(e,t,a){return e=jt(6,e,null,t),e.lanes=a,e}function Jr(e,t,a){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vn=[],Yn=0,rl=null,ol=0,Mt=[],Dt=0,rn=null,la=1,ra="";function on(e,t){Vn[Yn++]=ol,Vn[Yn++]=rl,rl=e,ol=t}function yd(e,t,a){Mt[Dt++]=la,Mt[Dt++]=ra,Mt[Dt++]=rn,rn=e;var s=la;e=ra;var c=32-xt(s)-1;s&=~(1<<c),a+=1;var f=32-xt(t)+c;if(30<f){var y=c-c%5;f=(s&(1<<y)-1).toString(32),s>>=y,c-=y,la=1<<32-xt(t)+c|a<<c|s,ra=f+e}else la=1<<f|a<<c|s,ra=e}function Fr(e){e.return!==null&&(on(e,1),yd(e,1,0))}function Wr(e){for(;e===rl;)rl=Vn[--Yn],Vn[Yn]=null,ol=Vn[--Yn],Vn[Yn]=null;for(;e===rn;)rn=Mt[--Dt],Mt[Dt]=null,ra=Mt[--Dt],Mt[Dt]=null,la=Mt[--Dt],Mt[Dt]=null}var dt=null,Pe=null,Ce=!1,cn=null,Qt=!1,eo=Error(l(519));function un(e){var t=Error(l(418,""));throw Ks(Ot(t,e)),eo}function bd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ot]=e,t[vt]=s,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<gi.length;a++)we(gi[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Du(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Qi(t);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Uu(t,s.value,s.defaultValue,s.children),Qi(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Lh(t.textContent,a)?(s.popover!=null&&(we("beforetoggle",t),we("toggle",t)),s.onScroll!=null&&we("scroll",t),s.onScrollEnd!=null&&we("scrollend",t),s.onClick!=null&&(t.onclick=Pl),t=!0):t=!1,t||un(e)}function _d(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:dt=dt.return}}function Ys(e){if(e!==dt)return!1;if(!Ce)return _d(e),Ce=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||gc(e.type,e.memoizedProps)),a=!a),a&&Pe&&un(e),_d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Pe=Ht(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Pe=null}}else t===27?(t=Pe,Va(e.type)?(e=xc,xc=null,Pe=e):Pe=t):Pe=dt?Ht(e.stateNode.nextSibling):null;return!0}function Is(){Pe=dt=null,Ce=!1}function xd(){var e=cn;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),cn=null),e}function Ks(e){cn===null?cn=[e]:cn.push(e)}var to=I(null),dn=null,oa=null;function Aa(e,t,a){F(to,t._currentValue),t._currentValue=a}function ca(e){e._currentValue=to.current,ee(to)}function ao(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function no(e,t,a,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=c;for(var C=0;C<t.length;C++)if(b.context===t[C]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),ao(f.return,a,e),s||(y=null);break e}f=b.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(l(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),ao(y,a,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Qs(e,t,a,s){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var b=c.type;wt(c.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(c===ke.current){if(y=c.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ji):e=[ji])}c=c.return}e!==null&&no(t,e,a,s),t.flags|=262144}function cl(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fn(e){dn=e,oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return wd(dn,e)}function ul(e,t){return dn===null&&fn(e),wd(e,t)}function wd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},oa===null){if(e===null)throw Error(l(308));oa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oa=oa.next=t;return a}var ag=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ng=r.unstable_scheduleCallback,sg=r.unstable_NormalPriority,Ze={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function so(){return{controller:new ag,data:new Map,refCount:0}}function Xs(e){e.refCount--,e.refCount===0&&ng(sg,function(){e.controller.abort()})}var Zs=null,io=0,In=0,Kn=null;function ig(e,t){if(Zs===null){var a=Zs=[];io=0,In=oc(),Kn={status:"pending",value:void 0,then:function(s){a.push(s)}}}return io++,t.then(jd,jd),t}function jd(){if(--io===0&&Zs!==null){Kn!==null&&(Kn.status="fulfilled");var e=Zs;Zs=null,In=0,Kn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function lg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),s}var Sd=$.S;$.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ig(e,t),Sd!==null&&Sd(e,t)};var hn=I(null);function lo(){var e=hn.current;return e!==null?e:Ue.pooledCache}function dl(e,t){t===null?F(hn,hn.current):F(hn,t.pool)}function Nd(){var e=lo();return e===null?null:{parent:Ze._currentValue,pool:e}}var Js=Error(l(460)),Ed=Error(l(474)),fl=Error(l(542)),ro={then:function(){}};function Cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hl(){}function Td(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(hl,hl),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e;default:if(typeof t.status=="string")t.then(hl,hl);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e}throw Fs=t,Js}}var Fs=null;function Ad(){if(Fs===null)throw Error(l(459));var e=Fs;return Fs=null,e}function kd(e){if(e===Js||e===fl)throw Error(l(483))}var ka=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Te&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=il(e),pd(e,null,a),t}return sl(e,s,t,a),il(e)}function Ws(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ju(e,a)}}function uo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=t:f=f.next=t}else c=f=t;a={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var fo=!1;function ei(){if(fo){var e=Kn;if(e!==null)throw e}}function ti(e,t,a,s){fo=!1;var c=e.updateQueue;ka=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var C=b,U=C.next;C.next=null,y===null?f=U:y.next=U,y=C;var G=e.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==y&&(b===null?G.firstBaseUpdate=U:b.next=U,G.lastBaseUpdate=C))}if(f!==null){var Y=c.baseState;y=0,G=U=C=null,b=f;do{var L=b.lane&-536870913,B=L!==b.lane;if(B?(Se&L)===L:(s&L)===L){L!==0&&L===In&&(fo=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=e,de=b;L=t;var Me=a;switch(de.tag){case 1:if(he=de.payload,typeof he=="function"){Y=he.call(Me,Y,L);break e}Y=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,L=typeof he=="function"?he.call(Me,Y,L):he,L==null)break e;Y=g({},Y,L);break e;case 2:ka=!0}}L=b.callback,L!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[L]:B.push(L))}else B={lane:L,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(U=G=B,C=Y):G=G.next=B,y|=L;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;B=b,b=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(C=Y),c.baseState=C,c.firstBaseUpdate=U,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),$a|=y,e.lanes=y,e.memoizedState=Y}}function Od(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Rd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Od(a[e],t)}var Qn=I(null),ml=I(0);function Md(e,t){e=pa,F(ml,e),F(Qn,t),pa=e|t.baseLanes}function ho(){F(ml,pa),F(Qn,Qn.current)}function mo(){pa=ml.current,ee(Qn),ee(ml)}var Ma=0,be=null,Oe=null,Qe=null,vl=!1,Xn=!1,mn=!1,pl=0,ai=0,Zn=null,rg=0;function Ie(){throw Error(l(321))}function vo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!wt(e[a],t[a]))return!1;return!0}function po(e,t,a,s,c,f){return Ma=f,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?gf:yf,mn=!1,f=a(s,c),mn=!1,Xn&&(f=zd(t,a,s,c)),Dd(e),f}function Dd(e){$.H=wl;var t=Oe!==null&&Oe.next!==null;if(Ma=0,Qe=Oe=be=null,vl=!1,ai=0,Zn=null,t)throw Error(l(300));e===null||tt||(e=e.dependencies,e!==null&&cl(e)&&(tt=!0))}function zd(e,t,a,s){be=e;var c=0;do{if(Xn&&(Zn=null),ai=0,Xn=!1,25<=c)throw Error(l(301));if(c+=1,Qe=Oe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=mg,f=t(a,s)}while(Xn);return f}function og(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?ni(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(be.flags|=1024),t}function go(){var e=pl!==0;return pl=0,e}function yo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function bo(e){if(vl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vl=!1}Ma=0,Qe=Oe=be=null,Xn=!1,ai=pl=0,Zn=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?be.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Xe(){if(Oe===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Qe===null?be.memoizedState:Qe.next;if(t!==null)Qe=t,Oe=e;else{if(e===null)throw be.alternate===null?Error(l(467)):Error(l(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Qe===null?be.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function _o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ni(e){var t=ai;return ai+=1,Zn===null&&(Zn=[]),e=Td(Zn,e,t),t=be,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?gf:yf),e}function gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ni(e);if(e.$$typeof===M)return ct(e)}throw Error(l(438,String(e)))}function xo(e){var t=null,a=be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=_o(),be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=me;return t.index++,a}function ua(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=Xe();return wo(t,Oe,e)}function wo(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var c=e.baseQueue,f=s.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}t.baseQueue=c=f,s.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var b=y=null,C=null,U=t,G=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(Se&Y)===Y:(Ma&Y)===Y){var L=U.revertLane;if(L===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===In&&(G=!0);else if((Ma&L)===L){U=U.next,L===In&&(G=!0);continue}else Y={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=Y,y=f):C=C.next=Y,be.lanes|=L,$a|=L;Y=U.action,mn&&a(f,Y),f=U.hasEagerState?U.eagerState:a(f,Y)}else L={lane:Y,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=L,y=f):C=C.next=L,be.lanes|=Y,$a|=Y;U=U.next}while(U!==null&&U!==t);if(C===null?y=f:C.next=b,!wt(f,e.memoizedState)&&(tt=!0,G&&(a=Kn,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=C,s.lastRenderedState=f}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function jo(e){var t=Xe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,c=a.pending,f=t.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);wt(f,t.memoizedState)||(tt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,s]}function Ud(e,t,a){var s=be,c=Xe(),f=Ce;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=t();var y=!wt((Oe||c).memoizedState,a);y&&(c.memoizedState=a,tt=!0),c=c.queue;var b=qd.bind(null,s,c,e);if(si(2048,8,b,[e]),c.getSnapshot!==t||y||Qe!==null&&Qe.memoizedState.tag&1){if(s.flags|=2048,Jn(9,bl(),Bd.bind(null,s,c,a,t),null),Ue===null)throw Error(l(349));f||(Ma&124)!==0||Ld(s,t,a)}return a}function Ld(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=be.updateQueue,t===null?(t=_o(),be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Bd(e,t,a,s){t.value=a,t.getSnapshot=s,$d(t)&&Hd(e)}function qd(e,t,a){return a(function(){$d(t)&&Hd(e)})}function $d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!wt(e,a)}catch{return!0}}function Hd(e){var t=Pn(e,2);t!==null&&Tt(t,e,2)}function So(e){var t=gt();if(typeof e=="function"){var a=e;if(e=a(),mn){Ea(!0);try{a()}finally{Ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},t}function Pd(e,t,a,s){return e.baseState=a,wo(e,Oe,typeof s=="function"?s:ua)}function cg(e,t,a,s,c){if(xl(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};$.T!==null?a(!0):f.isTransition=!1,s(f),a=t.pending,a===null?(f.next=t.pending=f,Gd(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Gd(e,t){var a=t.action,s=t.payload,c=e.state;if(t.isTransition){var f=$.T,y={};$.T=y;try{var b=a(c,s),C=$.S;C!==null&&C(y,b),Vd(e,t,b)}catch(U){No(e,t,U)}finally{$.T=f}}else try{f=a(c,s),Vd(e,t,f)}catch(U){No(e,t,U)}}function Vd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Yd(e,t,s)},function(s){return No(e,t,s)}):Yd(e,t,a)}function Yd(e,t,a){t.status="fulfilled",t.value=a,Id(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Gd(e,a)))}function No(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Id(t),t=t.next;while(t!==s)}e.action=null}function Id(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Kd(e,t){return t}function Qd(e,t){if(Ce){var a=Ue.formState;if(a!==null){e:{var s=be;if(Ce){if(Pe){t:{for(var c=Pe,f=Qt;c.nodeType!==8;){if(!f){c=null;break t}if(c=Ht(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Pe=Ht(c.nextSibling),s=c.data==="F!";break e}}un(s)}s=!1}s&&(t=a[0])}}return a=gt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:t},a.queue=s,a=mf.bind(null,be,s),s.dispatch=a,s=So(!1),f=ko.bind(null,be,!1,s.queue),s=gt(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,a=cg.bind(null,be,c,f,a),c.dispatch=a,s.memoizedState=e,[t,a,!1]}function Xd(e){var t=Xe();return Zd(t,Oe,e)}function Zd(e,t,a){if(t=wo(e,t,Kd)[0],e=yl(ua)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ni(t)}catch(y){throw y===Js?fl:y}else s=t;t=Xe();var c=t.queue,f=c.dispatch;return a!==t.memoizedState&&(be.flags|=2048,Jn(9,bl(),ug.bind(null,c,a),null)),[s,f,e]}function ug(e,t){e.action=t}function Jd(e){var t=Xe(),a=Oe;if(a!==null)return Zd(t,a,e);Xe(),t=t.memoizedState,a=Xe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Jn(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=be.updateQueue,t===null&&(t=_o(),be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function bl(){return{destroy:void 0,resource:void 0}}function Fd(){return Xe().memoizedState}function _l(e,t,a,s){var c=gt();s=s===void 0?null:s,be.flags|=e,c.memoizedState=Jn(1|t,bl(),a,s)}function si(e,t,a,s){var c=Xe();s=s===void 0?null:s;var f=c.memoizedState.inst;Oe!==null&&s!==null&&vo(s,Oe.memoizedState.deps)?c.memoizedState=Jn(t,f,a,s):(be.flags|=e,c.memoizedState=Jn(1|t,f,a,s))}function Wd(e,t){_l(8390656,8,e,t)}function ef(e,t){si(2048,8,e,t)}function tf(e,t){return si(4,2,e,t)}function af(e,t){return si(4,4,e,t)}function nf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sf(e,t,a){a=a!=null?a.concat([e]):null,si(4,4,nf.bind(null,t,e),a)}function Eo(){}function lf(e,t){var a=Xe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&vo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function rf(e,t){var a=Xe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&vo(t,s[1]))return s[0];if(s=e(),mn){Ea(!0);try{e()}finally{Ea(!1)}}return a.memoizedState=[s,t],s}function Co(e,t,a){return a===void 0||(Ma&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=uh(),be.lanes|=e,$a|=e,a)}function of(e,t,a,s){return wt(a,t)?a:Qn.current!==null?(e=Co(e,a,s),wt(e,t)||(tt=!0),e):(Ma&42)===0?(tt=!0,e.memoizedState=a):(e=uh(),be.lanes|=e,$a|=e,t)}function cf(e,t,a,s,c){var f=K.p;K.p=f!==0&&8>f?f:8;var y=$.T,b={};$.T=b,ko(e,!1,t,a);try{var C=c(),U=$.S;if(U!==null&&U(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=lg(C,s);ii(e,t,G,Ct(e))}else ii(e,t,s,Ct(e))}catch(Y){ii(e,t,{then:function(){},status:"rejected",reason:Y},Ct())}finally{K.p=f,$.T=y}}function dg(){}function To(e,t,a,s){if(e.tag!==5)throw Error(l(476));var c=uf(e).queue;cf(e,c,t,ne,a===null?dg:function(){return df(e),a(s)})}function uf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function df(e){var t=uf(e).next.queue;ii(e,t,{},Ct())}function Ao(){return ct(ji)}function ff(){return Xe().memoizedState}function hf(){return Xe().memoizedState}function fg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ct();e=Oa(a);var s=Ra(t,e,a);s!==null&&(Tt(s,t,a),Ws(s,t,a)),t={cache:so()},e.payload=t;return}t=t.return}}function hg(e,t,a){var s=Ct();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xl(e)?vf(t,a):(a=Qr(e,t,a,s),a!==null&&(Tt(a,e,s),pf(a,t,s)))}function mf(e,t,a){var s=Ct();ii(e,t,a,s)}function ii(e,t,a,s){var c={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xl(e))vf(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,b=f(y,a);if(c.hasEagerState=!0,c.eagerState=b,wt(b,y))return sl(e,t,c,0),Ue===null&&nl(),!1}catch{}finally{}if(a=Qr(e,t,c,s),a!==null)return Tt(a,e,s),pf(a,t,s),!0}return!1}function ko(e,t,a,s){if(s={lane:2,revertLane:oc(),action:s,hasEagerState:!1,eagerState:null,next:null},xl(e)){if(t)throw Error(l(479))}else t=Qr(e,a,s,2),t!==null&&Tt(t,e,2)}function xl(e){var t=e.alternate;return e===be||t!==null&&t===be}function vf(e,t){Xn=vl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function pf(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ju(e,a)}}var wl={readContext:ct,use:gl,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},gf={readContext:ct,use:gl,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Wd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,_l(4194308,4,nf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return _l(4194308,4,e,t)},useInsertionEffect:function(e,t){_l(4,2,e,t)},useMemo:function(e,t){var a=gt();t=t===void 0?null:t;var s=e();if(mn){Ea(!0);try{e()}finally{Ea(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=gt();if(a!==void 0){var c=a(t);if(mn){Ea(!0);try{a(t)}finally{Ea(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=hg.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=So(e);var t=e.queue,a=mf.bind(null,be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Eo,useDeferredValue:function(e,t){var a=gt();return Co(a,e,t)},useTransition:function(){var e=So(!1);return e=cf.bind(null,be,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=be,c=gt();if(Ce){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Ue===null)throw Error(l(349));(Se&124)!==0||Ld(s,t,a)}c.memoizedState=a;var f={value:a,getSnapshot:t};return c.queue=f,Wd(qd.bind(null,s,f,e),[e]),s.flags|=2048,Jn(9,bl(),Bd.bind(null,s,f,a,t),null),a},useId:function(){var e=gt(),t=Ue.identifierPrefix;if(Ce){var a=ra,s=la;a=(s&~(1<<32-xt(s)-1)).toString(32)+a,t=""+t+"R"+a,a=pl++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=rg++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ao,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ko.bind(null,be,!0,a),a.dispatch=t,[e,t]},useMemoCache:xo,useCacheRefresh:function(){return gt().memoizedState=fg.bind(null,be)}},yf={readContext:ct,use:gl,useCallback:lf,useContext:ct,useEffect:ef,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:af,useMemo:rf,useReducer:yl,useRef:Fd,useState:function(){return yl(ua)},useDebugValue:Eo,useDeferredValue:function(e,t){var a=Xe();return of(a,Oe.memoizedState,e,t)},useTransition:function(){var e=yl(ua)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:ni(e),t]},useSyncExternalStore:Ud,useId:ff,useHostTransitionStatus:Ao,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var a=Xe();return Pd(a,Oe,e,t)},useMemoCache:xo,useCacheRefresh:hf},mg={readContext:ct,use:gl,useCallback:lf,useContext:ct,useEffect:ef,useImperativeHandle:sf,useInsertionEffect:tf,useLayoutEffect:af,useMemo:rf,useReducer:jo,useRef:Fd,useState:function(){return jo(ua)},useDebugValue:Eo,useDeferredValue:function(e,t){var a=Xe();return Oe===null?Co(a,e,t):of(a,Oe.memoizedState,e,t)},useTransition:function(){var e=jo(ua)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:ni(e),t]},useSyncExternalStore:Ud,useId:ff,useHostTransitionStatus:Ao,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var a=Xe();return Oe!==null?Pd(a,Oe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xo,useCacheRefresh:hf},Fn=null,li=0;function jl(e){var t=li;return li+=1,Fn===null&&(Fn=[]),Td(Fn,e,t)}function ri(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sl(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function bf(e){var t=e._init;return t(e._payload)}function _f(e){function t(R,k){if(e){var z=R.deletions;z===null?(R.deletions=[k],R.flags|=16):z.push(k)}}function a(R,k){if(!e)return null;for(;k!==null;)t(R,k),k=k.sibling;return null}function s(R){for(var k=new Map;R!==null;)R.key!==null?k.set(R.key,R):k.set(R.index,R),R=R.sibling;return k}function c(R,k){return R=ia(R,k),R.index=0,R.sibling=null,R}function f(R,k,z){return R.index=z,e?(z=R.alternate,z!==null?(z=z.index,z<k?(R.flags|=67108866,k):z):(R.flags|=67108866,k)):(R.flags|=1048576,k)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,k,z,V){return k===null||k.tag!==6?(k=Zr(z,R.mode,V),k.return=R,k):(k=c(k,z),k.return=R,k)}function C(R,k,z,V){var ie=z.type;return ie===S?G(R,k,z.props.children,V,z.key):k!==null&&(k.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&bf(ie)===k.type)?(k=c(k,z.props),ri(k,z),k.return=R,k):(k=ll(z.type,z.key,z.props,null,R.mode,V),ri(k,z),k.return=R,k)}function U(R,k,z,V){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Jr(z,R.mode,V),k.return=R,k):(k=c(k,z.children||[]),k.return=R,k)}function G(R,k,z,V,ie){return k===null||k.tag!==7?(k=ln(z,R.mode,V,ie),k.return=R,k):(k=c(k,z),k.return=R,k)}function Y(R,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Zr(""+k,R.mode,z),k.return=R,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return z=ll(k.type,k.key,k.props,null,R.mode,z),ri(z,k),z.return=R,z;case j:return k=Jr(k,R.mode,z),k.return=R,k;case J:var V=k._init;return k=V(k._payload),Y(R,k,z)}if(ve(k)||X(k))return k=ln(k,R.mode,z,null),k.return=R,k;if(typeof k.then=="function")return Y(R,jl(k),z);if(k.$$typeof===M)return Y(R,ul(R,k),z);Sl(R,k)}return null}function L(R,k,z,V){var ie=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ie!==null?null:b(R,k,""+z,V);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===ie?C(R,k,z,V):null;case j:return z.key===ie?U(R,k,z,V):null;case J:return ie=z._init,z=ie(z._payload),L(R,k,z,V)}if(ve(z)||X(z))return ie!==null?null:G(R,k,z,V,null);if(typeof z.then=="function")return L(R,k,jl(z),V);if(z.$$typeof===M)return L(R,k,ul(R,z),V);Sl(R,z)}return null}function B(R,k,z,V,ie){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return R=R.get(z)||null,b(k,R,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return R=R.get(V.key===null?z:V.key)||null,C(k,R,V,ie);case j:return R=R.get(V.key===null?z:V.key)||null,U(k,R,V,ie);case J:var _e=V._init;return V=_e(V._payload),B(R,k,z,V,ie)}if(ve(V)||X(V))return R=R.get(z)||null,G(k,R,V,ie,null);if(typeof V.then=="function")return B(R,k,z,jl(V),ie);if(V.$$typeof===M)return B(R,k,z,ul(k,V),ie);Sl(k,V)}return null}function he(R,k,z,V){for(var ie=null,_e=null,oe=k,fe=k=0,nt=null;oe!==null&&fe<z.length;fe++){oe.index>fe?(nt=oe,oe=null):nt=oe.sibling;var Ee=L(R,oe,z[fe],V);if(Ee===null){oe===null&&(oe=nt);break}e&&oe&&Ee.alternate===null&&t(R,oe),k=f(Ee,k,fe),_e===null?ie=Ee:_e.sibling=Ee,_e=Ee,oe=nt}if(fe===z.length)return a(R,oe),Ce&&on(R,fe),ie;if(oe===null){for(;fe<z.length;fe++)oe=Y(R,z[fe],V),oe!==null&&(k=f(oe,k,fe),_e===null?ie=oe:_e.sibling=oe,_e=oe);return Ce&&on(R,fe),ie}for(oe=s(oe);fe<z.length;fe++)nt=B(oe,R,fe,z[fe],V),nt!==null&&(e&&nt.alternate!==null&&oe.delete(nt.key===null?fe:nt.key),k=f(nt,k,fe),_e===null?ie=nt:_e.sibling=nt,_e=nt);return e&&oe.forEach(function(Xa){return t(R,Xa)}),Ce&&on(R,fe),ie}function de(R,k,z,V){if(z==null)throw Error(l(151));for(var ie=null,_e=null,oe=k,fe=k=0,nt=null,Ee=z.next();oe!==null&&!Ee.done;fe++,Ee=z.next()){oe.index>fe?(nt=oe,oe=null):nt=oe.sibling;var Xa=L(R,oe,Ee.value,V);if(Xa===null){oe===null&&(oe=nt);break}e&&oe&&Xa.alternate===null&&t(R,oe),k=f(Xa,k,fe),_e===null?ie=Xa:_e.sibling=Xa,_e=Xa,oe=nt}if(Ee.done)return a(R,oe),Ce&&on(R,fe),ie;if(oe===null){for(;!Ee.done;fe++,Ee=z.next())Ee=Y(R,Ee.value,V),Ee!==null&&(k=f(Ee,k,fe),_e===null?ie=Ee:_e.sibling=Ee,_e=Ee);return Ce&&on(R,fe),ie}for(oe=s(oe);!Ee.done;fe++,Ee=z.next())Ee=B(oe,R,fe,Ee.value,V),Ee!==null&&(e&&Ee.alternate!==null&&oe.delete(Ee.key===null?fe:Ee.key),k=f(Ee,k,fe),_e===null?ie=Ee:_e.sibling=Ee,_e=Ee);return e&&oe.forEach(function(vy){return t(R,vy)}),Ce&&on(R,fe),ie}function Me(R,k,z,V){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var ie=z.key;k!==null;){if(k.key===ie){if(ie=z.type,ie===S){if(k.tag===7){a(R,k.sibling),V=c(k,z.props.children),V.return=R,R=V;break e}}else if(k.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&bf(ie)===k.type){a(R,k.sibling),V=c(k,z.props),ri(V,z),V.return=R,R=V;break e}a(R,k);break}else t(R,k);k=k.sibling}z.type===S?(V=ln(z.props.children,R.mode,V,z.key),V.return=R,R=V):(V=ll(z.type,z.key,z.props,null,R.mode,V),ri(V,z),V.return=R,R=V)}return y(R);case j:e:{for(ie=z.key;k!==null;){if(k.key===ie)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(R,k.sibling),V=c(k,z.children||[]),V.return=R,R=V;break e}else{a(R,k);break}else t(R,k);k=k.sibling}V=Jr(z,R.mode,V),V.return=R,R=V}return y(R);case J:return ie=z._init,z=ie(z._payload),Me(R,k,z,V)}if(ve(z))return he(R,k,z,V);if(X(z)){if(ie=X(z),typeof ie!="function")throw Error(l(150));return z=ie.call(z),de(R,k,z,V)}if(typeof z.then=="function")return Me(R,k,jl(z),V);if(z.$$typeof===M)return Me(R,k,ul(R,z),V);Sl(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(R,k.sibling),V=c(k,z),V.return=R,R=V):(a(R,k),V=Zr(z,R.mode,V),V.return=R,R=V),y(R)):a(R,k)}return function(R,k,z,V){try{li=0;var ie=Me(R,k,z,V);return Fn=null,ie}catch(oe){if(oe===Js||oe===fl)throw oe;var _e=jt(29,oe,null,R.mode);return _e.lanes=V,_e.return=R,_e}finally{}}}var Wn=_f(!0),xf=_f(!1),zt=I(null),Xt=null;function Da(e){var t=e.alternate;F(Je,Je.current&1),F(zt,e),Xt===null&&(t===null||Qn.current!==null||t.memoizedState!==null)&&(Xt=e)}function wf(e){if(e.tag===22){if(F(Je,Je.current),F(zt,e),Xt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Xt=e)}}else za()}function za(){F(Je,Je.current),F(zt,zt.current)}function da(e){ee(zt),Xt===e&&(Xt=null),ee(Je)}var Je=I(0);function Nl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_c(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Oo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:g({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ro={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ct(),c=Oa(s);c.payload=t,a!=null&&(c.callback=a),t=Ra(e,c,s),t!==null&&(Tt(t,e,s),Ws(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ct(),c=Oa(s);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=Ra(e,c,s),t!==null&&(Tt(t,e,s),Ws(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ct(),s=Oa(a);s.tag=2,t!=null&&(s.callback=t),t=Ra(e,s,a),t!==null&&(Tt(t,e,a),Ws(t,e,a))}};function jf(e,t,a,s,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,y):t.prototype&&t.prototype.isPureReactComponent?!Gs(a,s)||!Gs(c,f):!0}function Sf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function vn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=g({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var El=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Nf(e){El(e)}function Ef(e){console.error(e)}function Cf(e){El(e)}function Cl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Tf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Mo(e,t,a){return a=Oa(a),a.tag=3,a.payload={element:null},a.callback=function(){Cl(e,t)},a}function Af(e){return e=Oa(e),e.tag=3,e}function kf(e,t,a,s){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;e.payload=function(){return c(f)},e.callback=function(){Tf(t,a,s)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Tf(t,a,s),typeof c!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function vg(e,t,a,s,c){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Qs(t,a,c,!0),a=zt.current,a!==null){switch(a.tag){case 13:return Xt===null?nc():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=c,s===ro?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),ic(e,s,c)),!1;case 22:return a.flags|=65536,s===ro?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),ic(e,s,c)),!1}throw Error(l(435,a.tag))}return ic(e,s,c),nc(),!1}if(Ce)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==eo&&(e=Error(l(422),{cause:s}),Ks(Ot(e,a)))):(s!==eo&&(t=Error(l(423),{cause:s}),Ks(Ot(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Ot(s,a),c=Mo(e.stateNode,s,c),uo(e,c),Ge!==4&&(Ge=2)),!1;var f=Error(l(520),{cause:s});if(f=Ot(f,a),mi===null?mi=[f]:mi.push(f),Ge!==4&&(Ge=2),t===null)return!0;s=Ot(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Mo(a.stateNode,s,e),uo(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ha===null||!Ha.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Af(c),kf(c,e,a,s),uo(a,c),!1}a=a.return}while(a!==null);return!1}var Of=Error(l(461)),tt=!1;function it(e,t,a,s){t.child=e===null?xf(t,null,a,s):Wn(t,e.child,a,s)}function Rf(e,t,a,s,c){a=a.render;var f=t.ref;if("ref"in s){var y={};for(var b in s)b!=="ref"&&(y[b]=s[b])}else y=s;return fn(t),s=po(e,t,a,y,f,c),b=go(),e!==null&&!tt?(yo(e,t,c),fa(e,t,c)):(Ce&&b&&Fr(t),t.flags|=1,it(e,t,s,c),t.child)}function Mf(e,t,a,s,c){if(e===null){var f=a.type;return typeof f=="function"&&!Xr(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,Df(e,t,f,s,c)):(e=ll(a.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Ho(e,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Gs,a(y,s)&&e.ref===t.ref)return fa(e,t,c)}return t.flags|=1,e=ia(f,s),e.ref=t.ref,e.return=t,t.child=e}function Df(e,t,a,s,c){if(e!==null){var f=e.memoizedProps;if(Gs(f,s)&&e.ref===t.ref)if(tt=!1,t.pendingProps=s=f,Ho(e,c))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,fa(e,t,c)}return Do(e,t,a,s,c)}function zf(e,t,a){var s=t.pendingProps,c=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=f!==null?f.baseLanes|a:a,e!==null){for(c=t.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;t.childLanes=f&~s}else t.childLanes=0,t.child=null;return Uf(e,t,s,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&dl(t,f!==null?f.cachePool:null),f!==null?Md(t,f):ho(),wf(t);else return t.lanes=t.childLanes=536870912,Uf(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(dl(t,f.cachePool),Md(t,f),za(),t.memoizedState=null):(e!==null&&dl(t,null),ho(),za());return it(e,t,c,a),t.child}function Uf(e,t,a,s){var c=lo();return c=c===null?null:{parent:Ze._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&dl(t,null),ho(),wf(t),e!==null&&Qs(e,t,s,!0),null}function Tl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Do(e,t,a,s,c){return fn(t),a=po(e,t,a,s,void 0,c),s=go(),e!==null&&!tt?(yo(e,t,c),fa(e,t,c)):(Ce&&s&&Fr(t),t.flags|=1,it(e,t,a,c),t.child)}function Lf(e,t,a,s,c,f){return fn(t),t.updateQueue=null,a=zd(t,s,a,c),Dd(e),s=go(),e!==null&&!tt?(yo(e,t,f),fa(e,t,f)):(Ce&&s&&Fr(t),t.flags|=1,it(e,t,a,f),t.child)}function Bf(e,t,a,s,c){if(fn(t),t.stateNode===null){var f=Gn,y=a.contextType;typeof y=="object"&&y!==null&&(f=ct(y)),f=new a(s,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ro,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=s,f.state=t.memoizedState,f.refs={},oo(t),y=a.contextType,f.context=typeof y=="object"&&y!==null?ct(y):Gn,f.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Oo(t,a,y,s),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ro.enqueueReplaceState(f,f.state,null),ti(t,s,f,c),ei(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,C=vn(a,b);f.props=C;var U=f.context,G=a.contextType;y=Gn,typeof G=="object"&&G!==null&&(y=ct(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||U!==y)&&Sf(t,f,s,y),ka=!1;var L=t.memoizedState;f.state=L,ti(t,s,f,c),ei(),U=t.memoizedState,b||L!==U||ka?(typeof Y=="function"&&(Oo(t,a,Y,s),U=t.memoizedState),(C=ka||jf(t,a,C,s,L,U,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),f.props=s,f.state=U,f.context=y,s=C):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,co(e,t),y=t.memoizedProps,G=vn(a,y),f.props=G,Y=t.pendingProps,L=f.context,U=a.contextType,C=Gn,typeof U=="object"&&U!==null&&(C=ct(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||L!==C)&&Sf(t,f,s,C),ka=!1,L=t.memoizedState,f.state=L,ti(t,s,f,c),ei();var B=t.memoizedState;y!==Y||L!==B||ka||e!==null&&e.dependencies!==null&&cl(e.dependencies)?(typeof b=="function"&&(Oo(t,a,b,s),B=t.memoizedState),(G=ka||jf(t,a,G,s,L,B,C)||e!==null&&e.dependencies!==null&&cl(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,B,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,B,C)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),f.props=s,f.state=B,f.context=C,s=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return f=s,Tl(e,t),s=(t.flags&128)!==0,f||s?(f=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&s?(t.child=Wn(t,e.child,null,c),t.child=Wn(t,null,a,c)):it(e,t,a,c),t.memoizedState=f.state,e=t.child):e=fa(e,t,c),e}function qf(e,t,a,s){return Is(),t.flags|=256,it(e,t,a,s),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:Nd()}}function Lo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ut),e}function $f(e,t,a){var s=t.pendingProps,c=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(c?Da(t):za(),Ce){var b=Pe,C;if(C=b){e:{for(C=b,b=Qt;C.nodeType!==8;){if(!b){b=null;break e}if(C=Ht(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(t.memoizedState={dehydrated:b,treeContext:rn!==null?{id:la,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},C=jt(18,null,null,0),C.stateNode=b,C.return=t,t.child=C,dt=t,Pe=null,C=!0):C=!1}C||un(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return _c(b)?t.lanes=32:t.lanes=536870912,null;da(t)}return b=s.children,s=s.fallback,c?(za(),c=t.mode,b=Al({mode:"hidden",children:b},c),s=ln(s,c,a,null),b.return=t,s.return=t,b.sibling=s,t.child=b,c=t.child,c.memoizedState=Uo(a),c.childLanes=Lo(e,y,a),t.memoizedState=zo,s):(Da(t),Bo(t,b))}if(C=e.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(f)t.flags&256?(Da(t),t.flags&=-257,t=qo(e,t,a)):t.memoizedState!==null?(za(),t.child=e.child,t.flags|=128,t=null):(za(),c=s.fallback,b=t.mode,s=Al({mode:"visible",children:s.children},b),c=ln(c,b,a,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,Wn(t,e.child,null,a),s=t.child,s.memoizedState=Uo(a),s.childLanes=Lo(e,y,a),t.memoizedState=zo,t=c);else if(Da(t),_c(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var U=y.dgst;y=U,s=Error(l(419)),s.stack="",s.digest=y,Ks({value:s,source:null,stack:null}),t=qo(e,t,a)}else if(tt||Qs(e,t,a,!1),y=(a&e.childLanes)!==0,tt||y){if(y=Ue,y!==null&&(s=a&-a,s=(s&42)!==0?1:_r(s),s=(s&(y.suspendedLanes|a))!==0?0:s,s!==0&&s!==C.retryLane))throw C.retryLane=s,Pn(e,s),Tt(y,e,s),Of;b.data==="$?"||nc(),t=qo(e,t,a)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Pe=Ht(b.nextSibling),dt=t,Ce=!0,cn=null,Qt=!1,e!==null&&(Mt[Dt++]=la,Mt[Dt++]=ra,Mt[Dt++]=rn,la=e.id,ra=e.overflow,rn=t),t=Bo(t,s.children),t.flags|=4096);return t}return c?(za(),c=s.fallback,b=t.mode,C=e.child,U=C.sibling,s=ia(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,U!==null?c=ia(U,c):(c=ln(c,b,a,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,b=e.child.memoizedState,b===null?b=Uo(a):(C=b.cachePool,C!==null?(U=Ze._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=Nd(),b={baseLanes:b.baseLanes|a,cachePool:C}),c.memoizedState=b,c.childLanes=Lo(e,y,a),t.memoizedState=zo,s):(Da(t),a=e.child,e=a.sibling,a=ia(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function Bo(e,t){return t=Al({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Al(e,t){return e=jt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,t,a){return Wn(t,e.child,null,a),e=Bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hf(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ao(e.return,t,a)}function $o(e,t,a,s,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=a,f.tailMode=c)}function Pf(e,t,a){var s=t.pendingProps,c=s.revealOrder,f=s.tail;if(it(e,t,s.children,a),s=Je.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hf(e,a,t);else if(e.tag===19)Hf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(F(Je,s),c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&Nl(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),$o(t,!1,c,a,f);break;case"backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Nl(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}$o(t,!0,a,null,f);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qs(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ho(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cl(e)))}function pg(e,t,a){switch(t.tag){case 3:Ne(t,t.stateNode.containerInfo),Aa(t,Ze,e.memoizedState.cache),Is();break;case 27:case 5:Hi(t);break;case 4:Ne(t,t.stateNode.containerInfo);break;case 10:Aa(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Da(t),t.flags|=128,null):(a&t.child.childLanes)!==0?$f(e,t,a):(Da(t),e=fa(e,t,a),e!==null?e.sibling:null);Da(t);break;case 19:var c=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Qs(e,t,a,!1),s=(a&t.childLanes)!==0),c){if(s)return Pf(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(Je,Je.current),s)break;return null;case 22:case 23:return t.lanes=0,zf(e,t,a);case 24:Aa(t,Ze,e.memoizedState.cache)}return fa(e,t,a)}function Gf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Ho(e,a)&&(t.flags&128)===0)return tt=!1,pg(e,t,a);tt=(e.flags&131072)!==0}else tt=!1,Ce&&(t.flags&1048576)!==0&&yd(t,ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,c=s._init;if(s=c(s._payload),t.type=s,typeof s=="function")Xr(s)?(e=vn(s,e),t.tag=1,t=Bf(null,t,s,e,a)):(t.tag=0,t=Do(null,t,s,e,a));else{if(s!=null){if(c=s.$$typeof,c===H){t.tag=11,t=Rf(null,t,s,e,a);break e}else if(c===q){t.tag=14,t=Mf(null,t,s,e,a);break e}}throw t=le(s)||s,Error(l(306,t,""))}}return t;case 0:return Do(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,c=vn(s,t.pendingProps),Bf(e,t,s,c,a);case 3:e:{if(Ne(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var f=t.memoizedState;c=f.element,co(e,t),ti(t,s,null,a);var y=t.memoizedState;if(s=y.cache,Aa(t,Ze,s),s!==f.cache&&no(t,[Ze],a,!0),ei(),s=y.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=qf(e,t,s,a);break e}else if(s!==c){c=Ot(Error(l(424)),t),Ks(c),t=qf(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Ht(e.firstChild),dt=t,Ce=!0,cn=null,Qt=!0,a=xf(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Is(),s===c){t=fa(e,t,a);break e}it(e,t,s,a)}t=t.child}return t;case 26:return Tl(e,t),e===null?(a=Kh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ce||(a=t.type,e=t.pendingProps,s=Gl(se.current).createElement(a),s[ot]=t,s[vt]=e,rt(s,a,e),et(s),t.stateNode=s):t.memoizedState=Kh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Hi(t),e===null&&Ce&&(s=t.stateNode=Vh(t.type,t.pendingProps,se.current),dt=t,Qt=!0,c=Pe,Va(t.type)?(xc=c,Pe=Ht(s.firstChild)):Pe=c),it(e,t,t.pendingProps.children,a),Tl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((c=s=Pe)&&(s=Vg(s,t.type,t.pendingProps,Qt),s!==null?(t.stateNode=s,dt=t,Pe=Ht(s.firstChild),Qt=!1,c=!0):c=!1),c||un(t)),Hi(t),c=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,s=f.children,gc(c,f)?s=null:y!==null&&gc(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=po(e,t,og,null,null,a),ji._currentValue=c),Tl(e,t),it(e,t,s,a),t.child;case 6:return e===null&&Ce&&((e=a=Pe)&&(a=Yg(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,dt=t,Pe=null,e=!0):e=!1),e||un(t)),null;case 13:return $f(e,t,a);case 4:return Ne(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Wn(t,null,s,a):it(e,t,s,a),t.child;case 11:return Rf(e,t,t.type,t.pendingProps,a);case 7:return it(e,t,t.pendingProps,a),t.child;case 8:return it(e,t,t.pendingProps.children,a),t.child;case 12:return it(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Aa(t,t.type,s.value),it(e,t,s.children,a),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,fn(t),c=ct(c),s=s(c),t.flags|=1,it(e,t,s,a),t.child;case 14:return Mf(e,t,t.type,t.pendingProps,a);case 15:return Df(e,t,t.type,t.pendingProps,a);case 19:return Pf(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},e===null?(a=Al(s,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ia(e.child,s),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return zf(e,t,a);case 24:return fn(t),s=ct(Ze),e===null?(c=lo(),c===null&&(c=Ue,f=so(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),t.memoizedState={parent:s,cache:c},oo(t),Aa(t,Ze,c)):((e.lanes&a)!==0&&(co(e,t),ti(t,null,null,a),ei()),c=e.memoizedState,f=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Aa(t,Ze,s)):(s=f.cache,Aa(t,Ze,s),s!==c.cache&&no(t,[Ze],a,!0))),it(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ha(e){e.flags|=4}function Vf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fh(t)){if(t=zt.current,t!==null&&((Se&4194048)===Se?Xt!==null:(Se&62914560)!==Se&&(Se&536870912)===0||t!==Xt))throw Fs=ro,Ed;e.flags|=8192}}function kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xu():536870912,e.lanes|=t,ns|=t)}function oi(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function gg(e,t,a){var s=t.pendingProps;switch(Wr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ca(Ze),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ys(t)?ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xd())),$e(t),null;case 26:return a=t.memoizedState,e===null?(ha(t),a!==null?($e(t),Vf(t,a)):($e(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ha(t),$e(t),Vf(t,a)):($e(t),t.flags&=-16777217):(e.memoizedProps!==s&&ha(t),$e(t),t.flags&=-16777217),null;case 27:Nn(t),a=se.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ha(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}e=P.current,Ys(t)?bd(t):(e=Vh(c,s,a),t.stateNode=e,ha(t))}return $e(t),null;case 5:if(Nn(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ha(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}if(e=P.current,Ys(t))bd(t);else{switch(c=Gl(se.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?c.createElement("select",{is:s.is}):c.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?c.createElement(a,{is:s.is}):c.createElement(a)}}e[ot]=t,e[vt]=s;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(rt(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ha(t)}}return $e(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ha(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=se.current,Ys(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,c=dt,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[ot]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Lh(e.nodeValue,a)),e||un(t)}else e=Gl(e).createTextNode(s),e[ot]=t,t.stateNode=e}return $e(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ys(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[ot]=t}else Is(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),c=!1}else c=xd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(da(t),t):(da(t),null)}if(da(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool);var f=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),kl(t,t.updateQueue),$e(t),null;case 4:return qe(),e===null&&fc(t.stateNode.containerInfo),$e(t),null;case 10:return ca(t.type),$e(t),null;case 19:if(ee(Je),c=t.memoizedState,c===null)return $e(t),null;if(s=(t.flags&128)!==0,f=c.rendering,f===null)if(s)oi(c,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Nl(e),f!==null){for(t.flags|=128,oi(c,!1),e=f.updateQueue,t.updateQueue=e,kl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)gd(a,e),a=a.sibling;return F(Je,Je.current&1|2),t.child}e=e.sibling}c.tail!==null&&re()>Ml&&(t.flags|=128,s=!0,oi(c,!1),t.lanes=4194304)}else{if(!s)if(e=Nl(f),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,kl(t,e),oi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ce)return $e(t),null}else 2*re()-c.renderingStartTime>Ml&&a!==536870912&&(t.flags|=128,s=!0,oi(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(e=c.last,e!==null?e.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=re(),t.sibling=null,e=Je.current,F(Je,s?e&1|2:e&1),t):($e(t),null);case 22:case 23:return da(t),mo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),a=t.updateQueue,a!==null&&kl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&ee(hn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ca(Ze),$e(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function yg(e,t){switch(Wr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ca(Ze),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Nn(t),null;case 13:if(da(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(Je),null;case 4:return qe(),null;case 10:return ca(t.type),null;case 22:case 23:return da(t),mo(),e!==null&&ee(hn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ca(Ze),null;case 25:return null;default:return null}}function Yf(e,t){switch(Wr(t),t.tag){case 3:ca(Ze),qe();break;case 26:case 27:case 5:Nn(t);break;case 4:qe();break;case 13:da(t);break;case 19:ee(Je);break;case 10:ca(t.type);break;case 22:case 23:da(t),mo(),e!==null&&ee(hn);break;case 24:ca(Ze)}}function ci(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var c=s.next;a=c;do{if((a.tag&e)===e){s=void 0;var f=a.create,y=a.inst;s=f(),y.destroy=s}a=a.next}while(a!==c)}}catch(b){ze(t,t.return,b)}}function Ua(e,t,a){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var f=c.next;s=f;do{if((s.tag&e)===e){var y=s.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,c=t;var C=a,U=b;try{U()}catch(G){ze(c,C,G)}}}s=s.next}while(s!==f)}}catch(G){ze(t,t.return,G)}}function If(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Rd(t,a)}catch(s){ze(e,e.return,s)}}}function Kf(e,t,a){a.props=vn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){ze(e,t,s)}}function ui(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(c){ze(e,t,c)}}function Zt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(c){ze(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ze(e,t,c)}else a.current=null}function Qf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(c){ze(e,e.return,c)}}function Po(e,t,a){try{var s=e.stateNode;qg(s,e.type,a,t),s[vt]=t}catch(c){ze(e,e.return,c)}}function Xf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Va(e.type)||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Pl));else if(s!==4&&(s===27&&Va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Vo(e,t,a),e=e.sibling;e!==null;)Vo(e,t,a),e=e.sibling}function Ol(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ol(e,t,a),e=e.sibling;e!==null;)Ol(e,t,a),e=e.sibling}function Zf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);rt(t,s,a),t[ot]=e,t[vt]=a}catch(f){ze(e,e.return,f)}}var ma=!1,Ke=!1,Yo=!1,Jf=typeof WeakSet=="function"?WeakSet:Set,at=null;function bg(e,t){if(e=e.containerInfo,vc=Xl,e=rd(e),Pr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,b=-1,C=-1,U=0,G=0,Y=e,L=null;t:for(;;){for(var B;Y!==a||c!==0&&Y.nodeType!==3||(b=y+c),Y!==f||s!==0&&Y.nodeType!==3||(C=y+s),Y.nodeType===3&&(y+=Y.nodeValue.length),(B=Y.firstChild)!==null;)L=Y,Y=B;for(;;){if(Y===e)break t;if(L===a&&++U===c&&(b=y),L===f&&++G===s&&(C=y),(B=Y.nextSibling)!==null)break;Y=L,L=Y.parentNode}Y=B}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(pc={focusedElem:e,selectionRange:a},Xl=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,c=f.memoizedProps,f=f.memoizedState,s=a.stateNode;try{var he=vn(a.type,c,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(he,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(de){ze(a,a.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)bc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function Ff(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:La(e,a),s&4&&ci(5,a);break;case 1:if(La(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){ze(a,a.return,y)}else{var c=vn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ze(a,a.return,y)}}s&64&&If(a),s&512&&ui(a,a.return);break;case 3:if(La(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Rd(e,t)}catch(y){ze(a,a.return,y)}}break;case 27:t===null&&s&4&&Zf(a);case 26:case 5:La(e,a),t===null&&s&4&&Qf(a),s&512&&ui(a,a.return);break;case 12:La(e,a);break;case 13:La(e,a),s&4&&th(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Tg.bind(null,a),Ig(e,a))));break;case 22:if(s=a.memoizedState!==null||ma,!s){t=t!==null&&t.memoizedState!==null||Ke,c=ma;var f=Ke;ma=s,(Ke=t)&&!f?Ba(e,a,(a.subtreeFlags&8772)!==0):La(e,a),ma=c,Ke=f}break;case 30:break;default:La(e,a)}}function Wf(e){var t=e.alternate;t!==null&&(e.alternate=null,Wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,yt=!1;function va(e,t,a){for(a=a.child;a!==null;)eh(e,t,a),a=a.sibling}function eh(e,t,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Os,a)}catch{}switch(a.tag){case 26:Ke||Zt(a,t),va(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ke||Zt(a,t);var s=Be,c=yt;Va(a.type)&&(Be=a.stateNode,yt=!1),va(e,t,a),bi(a.stateNode),Be=s,yt=c;break;case 5:Ke||Zt(a,t);case 6:if(s=Be,c=yt,Be=null,va(e,t,a),Be=s,yt=c,Be!==null)if(yt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(a.stateNode)}catch(f){ze(a,t,f)}else try{Be.removeChild(a.stateNode)}catch(f){ze(a,t,f)}break;case 18:Be!==null&&(yt?(e=Be,Ph(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ci(e)):Ph(Be,a.stateNode));break;case 4:s=Be,c=yt,Be=a.stateNode.containerInfo,yt=!0,va(e,t,a),Be=s,yt=c;break;case 0:case 11:case 14:case 15:Ke||Ua(2,a,t),Ke||Ua(4,a,t),va(e,t,a);break;case 1:Ke||(Zt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Kf(a,t,s)),va(e,t,a);break;case 21:va(e,t,a);break;case 22:Ke=(s=Ke)||a.memoizedState!==null,va(e,t,a),Ke=s;break;default:va(e,t,a)}}function th(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ci(e)}catch(a){ze(t,t.return,a)}}function _g(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jf),t;default:throw Error(l(435,e.tag))}}function Io(e,t){var a=_g(e);t.forEach(function(s){var c=Ag.bind(null,e,s);a.has(s)||(a.add(s),s.then(c,c))})}function St(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var c=a[s],f=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Va(b.type)){Be=b.stateNode,yt=!1;break e}break;case 5:Be=b.stateNode,yt=!1;break e;case 3:case 4:Be=b.stateNode.containerInfo,yt=!0;break e}b=b.return}if(Be===null)throw Error(l(160));eh(f,y,c),Be=null,yt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)ah(t,e),t=t.sibling}var $t=null;function ah(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),Nt(e),s&4&&(Ua(3,e,e.return),ci(3,e),Ua(5,e,e.return));break;case 1:St(t,e),Nt(e),s&512&&(Ke||a===null||Zt(a,a.return)),s&64&&ma&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var c=$t;if(St(t,e),Nt(e),s&512&&(Ke||a===null||Zt(a,a.return)),s&4){var f=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ds]||f[ot]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(s),c.head.insertBefore(f,c.querySelector("head > title"))),rt(f,s,a),f[ot]=e,et(f),s=f;break e;case"link":var y=Zh("link","href",c).get(s+(a.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(b,1);break t}}f=c.createElement(s),rt(f,s,a),c.head.appendChild(f);break;case"meta":if(y=Zh("meta","content",c).get(s+(a.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(b,1);break t}}f=c.createElement(s),rt(f,s,a),c.head.appendChild(f);break;default:throw Error(l(468,s))}f[ot]=e,et(f),s=f}e.stateNode=s}else Jh(c,e.type,e.stateNode);else e.stateNode=Xh(c,s,e.memoizedProps);else f!==s?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,s===null?Jh(c,e.type,e.stateNode):Xh(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Po(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(t,e),Nt(e),s&512&&(Ke||a===null||Zt(a,a.return)),a!==null&&s&4&&Po(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(t,e),Nt(e),s&512&&(Ke||a===null||Zt(a,a.return)),e.flags&32){c=e.stateNode;try{zn(c,"")}catch(B){ze(e,e.return,B)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,Po(e,c,a!==null?a.memoizedProps:c)),s&1024&&(Yo=!0);break;case 6:if(St(t,e),Nt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(B){ze(e,e.return,B)}}break;case 3:if(Il=null,c=$t,$t=Vl(t.containerInfo),St(t,e),$t=c,Nt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Ci(t.containerInfo)}catch(B){ze(e,e.return,B)}Yo&&(Yo=!1,nh(e));break;case 4:s=$t,$t=Vl(e.stateNode.containerInfo),St(t,e),Nt(e),$t=s;break;case 12:St(t,e),Nt(e);break;case 13:St(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fo=re()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Io(e,s)));break;case 22:c=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=ma,G=Ke;if(ma=U||c,Ke=G||C,St(t,e),Ke=G,ma=U,Nt(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||C||ma||Ke||pn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){C=a=t;try{if(f=C.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=C.stateNode;var Y=C.memoizedProps.style,L=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(B){ze(C,C.return,B)}}}else if(t.tag===6){if(a===null){C=t;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(B){ze(C,C.return,B)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Io(e,a))));break;case 19:St(t,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Io(e,s)));break;case 30:break;case 21:break;default:St(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Xf(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var c=a.stateNode,f=Go(e);Ol(e,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(zn(y,""),a.flags&=-33);var b=Go(e);Ol(e,b,y);break;case 3:case 4:var C=a.stateNode.containerInfo,U=Go(e);Vo(e,U,C);break;default:throw Error(l(161))}}catch(G){ze(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;nh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function La(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ff(e,t.alternate,t),t=t.sibling}function pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ua(4,t,t.return),pn(t);break;case 1:Zt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Kf(t,t.return,a),pn(t);break;case 27:bi(t.stateNode);case 26:case 5:Zt(t,t.return),pn(t);break;case 22:t.memoizedState===null&&pn(t);break;case 30:pn(t);break;default:pn(t)}e=e.sibling}}function Ba(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ba(c,f,a),ci(4,f);break;case 1:if(Ba(c,f,a),s=f,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){ze(s,s.return,U)}if(s=f,c=s.updateQueue,c!==null){var b=s.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Od(C[c],b)}catch(U){ze(s,s.return,U)}}a&&y&64&&If(f),ui(f,f.return);break;case 27:Zf(f);case 26:case 5:Ba(c,f,a),a&&s===null&&y&4&&Qf(f),ui(f,f.return);break;case 12:Ba(c,f,a);break;case 13:Ba(c,f,a),a&&y&4&&th(c,f);break;case 22:f.memoizedState===null&&Ba(c,f,a),ui(f,f.return);break;case 30:break;default:Ba(c,f,a)}t=t.sibling}}function Ko(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xs(a))}function Qo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xs(e))}function Jt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sh(e,t,a,s),t=t.sibling}function sh(e,t,a,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,a,s),c&2048&&ci(9,t);break;case 1:Jt(e,t,a,s);break;case 3:Jt(e,t,a,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xs(e)));break;case 12:if(c&2048){Jt(e,t,a,s),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ze(t,t.return,C)}}else Jt(e,t,a,s);break;case 13:Jt(e,t,a,s);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?Jt(e,t,a,s):di(e,t):f._visibility&2?Jt(e,t,a,s):(f._visibility|=2,es(e,t,a,s,(t.subtreeFlags&10256)!==0)),c&2048&&Ko(y,t);break;case 24:Jt(e,t,a,s),c&2048&&Qo(t.alternate,t);break;default:Jt(e,t,a,s)}}function es(e,t,a,s,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,y=t,b=a,C=s,U=y.flags;switch(y.tag){case 0:case 11:case 15:es(f,y,b,C,c),ci(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?es(f,y,b,C,c):di(f,y):(G._visibility|=2,es(f,y,b,C,c)),c&&U&2048&&Ko(y.alternate,y);break;case 24:es(f,y,b,C,c),c&&U&2048&&Qo(y.alternate,y);break;default:es(f,y,b,C,c)}t=t.sibling}}function di(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,c=s.flags;switch(s.tag){case 22:di(a,s),c&2048&&Ko(s.alternate,s);break;case 24:di(a,s),c&2048&&Qo(s.alternate,s);break;default:di(a,s)}t=t.sibling}}var fi=8192;function ts(e){if(e.subtreeFlags&fi)for(e=e.child;e!==null;)ih(e),e=e.sibling}function ih(e){switch(e.tag){case 26:ts(e),e.flags&fi&&e.memoizedState!==null&&iy($t,e.memoizedState,e.memoizedProps);break;case 5:ts(e);break;case 3:case 4:var t=$t;$t=Vl(e.stateNode.containerInfo),ts(e),$t=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=fi,fi=16777216,ts(e),fi=t):ts(e));break;default:ts(e)}}function lh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];at=s,oh(s,e)}lh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rh(e),e=e.sibling}function rh(e){switch(e.tag){case 0:case 11:case 15:hi(e),e.flags&2048&&Ua(9,e,e.return);break;case 3:hi(e);break;case 12:hi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rl(e)):hi(e);break;default:hi(e)}}function Rl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];at=s,oh(s,e)}lh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ua(8,t,t.return),Rl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Rl(t));break;default:Rl(t)}e=e.sibling}}function oh(e,t){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:Ua(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Xs(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,at=s;else e:for(a=e;at!==null;){s=at;var c=s.sibling,f=s.return;if(Wf(s),s===a){at=null;break e}if(c!==null){c.return=f,at=c;break e}at=f}}}var xg={getCacheForType:function(e){var t=ct(Ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},wg=typeof WeakMap=="function"?WeakMap:Map,Te=0,Ue=null,xe=null,Se=0,Ae=0,Et=null,qa=!1,as=!1,Xo=!1,pa=0,Ge=0,$a=0,gn=0,Zo=0,Ut=0,ns=0,mi=null,bt=null,Jo=!1,Fo=0,Ml=1/0,Dl=null,Ha=null,lt=0,Pa=null,ss=null,is=0,Wo=0,ec=null,ch=null,vi=0,tc=null;function Ct(){if((Te&2)!==0&&Se!==0)return Se&-Se;if($.T!==null){var e=In;return e!==0?e:oc()}return Su()}function uh(){Ut===0&&(Ut=(Se&536870912)===0||Ce?_u():536870912);var e=zt.current;return e!==null&&(e.flags|=32),Ut}function Tt(e,t,a){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Ga(e,Se,Ut,!1)),Ms(e,a),((Te&2)===0||e!==Ue)&&(e===Ue&&((Te&2)===0&&(gn|=a),Ge===4&&Ga(e,Se,Ut,!1)),Ft(e))}function dh(e,t,a){if((Te&6)!==0)throw Error(l(327));var s=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Rs(e,t),c=s?Ng(e,t):sc(e,t,!0),f=s;do{if(c===0){as&&!s&&Ga(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!jg(a)){c=sc(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var b=e;c=mi;var C=b.current.memoizedState.isDehydrated;if(C&&(ls(b,y).flags|=256),y=sc(b,y,!1),y!==2){if(Xo&&!C){b.errorRecoveryDisabledLanes|=f,gn|=f,c=4;break e}f=bt,bt=c,f!==null&&(bt===null?bt=f:bt.push.apply(bt,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ls(e,0),Ga(e,t,0,!0);break}e:{switch(s=e,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ga(s,t,Ut,!qa);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Fo+300-re(),10<c)){if(Ga(s,t,Ut,!qa),Yi(s,0,!0)!==0)break e;s.timeoutHandle=$h(fh.bind(null,s,a,bt,Dl,Jo,t,Ut,gn,ns,qa,f,2,-0,0),c);break e}fh(s,a,bt,Dl,Jo,t,Ut,gn,ns,qa,f,0,-0,0)}}break}while(!0);Ft(e)}function fh(e,t,a,s,c,f,y,b,C,U,G,Y,L,B){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(wi={stylesheets:null,count:0,unsuspend:sy},ih(t),Y=ly(),Y!==null)){e.cancelPendingCommit=Y(bh.bind(null,e,t,f,a,s,c,y,b,C,G,1,L,B)),Ga(e,f,y,!U);return}bh(e,t,f,a,s,c,y,b,C)}function jg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var c=a[s],f=c.getSnapshot;c=c.value;try{if(!wt(f(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,a,s){t&=~Zo,t&=~gn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var f=31-xt(c),y=1<<f;s[f]=-1,c&=~y}a!==0&&wu(e,a,t)}function zl(){return(Te&6)===0?(pi(0),!1):!0}function ac(){if(xe!==null){if(Ae===0)var e=xe.return;else e=xe,oa=dn=null,bo(e),Fn=null,li=0,e=xe;for(;e!==null;)Yf(e.alternate,e),e=e.return;xe=null}}function ls(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Hg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ac(),Ue=e,xe=a=ia(e.current,null),Se=t,Ae=0,Et=null,qa=!1,as=Rs(e,t),Xo=!1,ns=Ut=Zo=gn=$a=Ge=0,bt=mi=null,Jo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-xt(s),f=1<<c;t|=e[c],s&=~f}return pa=t,nl(),a}function hh(e,t){be=null,$.H=wl,t===Js||t===fl?(t=Ad(),Ae=3):t===Ed?(t=Ad(),Ae=4):Ae=t===Of?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,xe===null&&(Ge=1,Cl(e,Ot(t,e.current)))}function mh(){var e=$.H;return $.H=wl,e===null?wl:e}function vh(){var e=$.A;return $.A=xg,e}function nc(){Ge=4,qa||(Se&4194048)!==Se&&zt.current!==null||(as=!0),($a&134217727)===0&&(gn&134217727)===0||Ue===null||Ga(Ue,Se,Ut,!1)}function sc(e,t,a){var s=Te;Te|=2;var c=mh(),f=vh();(Ue!==e||Se!==t)&&(Dl=null,ls(e,t)),t=!1;var y=Ge;e:do try{if(Ae!==0&&xe!==null){var b=xe,C=Et;switch(Ae){case 8:ac(),y=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var U=Ae;if(Ae=0,Et=null,rs(e,b,C,U),a&&as){y=0;break e}break;default:U=Ae,Ae=0,Et=null,rs(e,b,C,U)}}Sg(),y=Ge;break}catch(G){hh(e,G)}while(!0);return t&&e.shellSuspendCounter++,oa=dn=null,Te=s,$.H=c,$.A=f,xe===null&&(Ue=null,Se=0,nl()),y}function Sg(){for(;xe!==null;)ph(xe)}function Ng(e,t){var a=Te;Te|=2;var s=mh(),c=vh();Ue!==e||Se!==t?(Dl=null,Ml=re()+500,ls(e,t)):as=Rs(e,t);e:do try{if(Ae!==0&&xe!==null){t=xe;var f=Et;t:switch(Ae){case 1:Ae=0,Et=null,rs(e,t,f,1);break;case 2:case 9:if(Cd(f)){Ae=0,Et=null,gh(t);break}t=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),Ft(e)},f.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Cd(f)?(Ae=0,Et=null,gh(t)):(Ae=0,Et=null,rs(e,t,f,7));break;case 5:var y=null;switch(xe.tag){case 26:y=xe.memoizedState;case 5:case 27:var b=xe;if(!y||Fh(y)){Ae=0,Et=null;var C=b.sibling;if(C!==null)xe=C;else{var U=b.return;U!==null?(xe=U,Ul(U)):xe=null}break t}}Ae=0,Et=null,rs(e,t,f,5);break;case 6:Ae=0,Et=null,rs(e,t,f,6);break;case 8:ac(),Ge=6;break e;default:throw Error(l(462))}}Eg();break}catch(G){hh(e,G)}while(!0);return oa=dn=null,$.H=s,$.A=c,Te=a,xe!==null?0:(Ue=null,Se=0,nl(),Ge)}function Eg(){for(;xe!==null&&!Cn();)ph(xe)}function ph(e){var t=Gf(e.alternate,e,pa);e.memoizedProps=e.pendingProps,t===null?Ul(e):xe=t}function gh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Lf(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Lf(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:bo(t);default:Yf(a,t),t=xe=gd(t,pa),t=Gf(a,t,pa)}e.memoizedProps=e.pendingProps,t===null?Ul(e):xe=t}function rs(e,t,a,s){oa=dn=null,bo(t),Fn=null,li=0;var c=t.return;try{if(vg(e,c,t,a,Se)){Ge=1,Cl(e,Ot(a,e.current)),xe=null;return}}catch(f){if(c!==null)throw xe=c,f;Ge=1,Cl(e,Ot(a,e.current)),xe=null;return}t.flags&32768?(Ce||s===1?e=!0:as||(Se&536870912)!==0?e=!1:(qa=e=!0,(s===2||s===9||s===3||s===6)&&(s=zt.current,s!==null&&s.tag===13&&(s.flags|=16384))),yh(t,e)):Ul(t)}function Ul(e){var t=e;do{if((t.flags&32768)!==0){yh(t,qa);return}e=t.return;var a=gg(t.alternate,t,pa);if(a!==null){xe=a;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ge===0&&(Ge=5)}function yh(e,t){do{var a=yg(e.alternate,e);if(a!==null){a.flags&=32767,xe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=a}while(e!==null);Ge=6,xe=null}function bh(e,t,a,s,c,f,y,b,C){e.cancelPendingCommit=null;do Ll();while(lt!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=Kr,sp(e,a,f,y,b,C),e===Ue&&(xe=Ue=null,Se=0),ss=t,Pa=e,is=a,Wo=f,ec=c,ch=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kg(Na,function(){return Sh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=$.T,$.T=null,c=K.p,K.p=2,y=Te,Te|=4;try{bg(e,t,a)}finally{Te=y,K.p=c,$.T=s}}lt=1,_h(),xh(),wh()}}function _h(){if(lt===1){lt=0;var e=Pa,t=ss,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var s=K.p;K.p=2;var c=Te;Te|=4;try{ah(t,e);var f=pc,y=rd(e.containerInfo),b=f.focusedElem,C=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&ld(b.ownerDocument.documentElement,b)){if(C!==null&&Pr(b)){var U=C.start,G=C.end;if(G===void 0&&(G=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(G,b.value.length);else{var Y=b.ownerDocument||document,L=Y&&Y.defaultView||window;if(L.getSelection){var B=L.getSelection(),he=b.textContent.length,de=Math.min(C.start,he),Me=C.end===void 0?de:Math.min(C.end,he);!B.extend&&de>Me&&(y=Me,Me=de,de=y);var R=id(b,de),k=id(b,Me);if(R&&k&&(B.rangeCount!==1||B.anchorNode!==R.node||B.anchorOffset!==R.offset||B.focusNode!==k.node||B.focusOffset!==k.offset)){var z=Y.createRange();z.setStart(R.node,R.offset),B.removeAllRanges(),de>Me?(B.addRange(z),B.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),B.addRange(z))}}}}for(Y=[],B=b;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var V=Y[b];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Xl=!!vc,pc=vc=null}finally{Te=c,K.p=s,$.T=a}}e.current=t,lt=2}}function xh(){if(lt===2){lt=0;var e=Pa,t=ss,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var s=K.p;K.p=2;var c=Te;Te|=4;try{Ff(e,t.alternate,t)}finally{Te=c,K.p=s,$.T=a}}lt=3}}function wh(){if(lt===4||lt===3){lt=0,Z();var e=Pa,t=ss,a=is,s=ch;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,ss=Pa=null,jh(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ha=null),xr(a),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Os,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=$.T,c=K.p,K.p=2,$.T=null;try{for(var f=e.onRecoverableError,y=0;y<s.length;y++){var b=s[y];f(b.value,{componentStack:b.stack})}}finally{$.T=t,K.p=c}}(is&3)!==0&&Ll(),Ft(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===tc?vi++:(vi=0,tc=e):vi=0,pi(0)}}function jh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xs(t)))}function Ll(e){return _h(),xh(),wh(),Sh()}function Sh(){if(lt!==5)return!1;var e=Pa,t=Wo;Wo=0;var a=xr(is),s=$.T,c=K.p;try{K.p=32>a?32:a,$.T=null,a=ec,ec=null;var f=Pa,y=is;if(lt=0,ss=Pa=null,is=0,(Te&6)!==0)throw Error(l(331));var b=Te;if(Te|=4,rh(f.current),sh(f,f.current,y,a),Te=b,pi(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Os,f)}catch{}return!0}finally{K.p=c,$.T=s,jh(e,t)}}function Nh(e,t,a){t=Ot(a,t),t=Mo(e.stateNode,t,2),e=Ra(e,t,2),e!==null&&(Ms(e,2),Ft(e))}function ze(e,t,a){if(e.tag===3)Nh(e,e,a);else for(;t!==null;){if(t.tag===3){Nh(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ha===null||!Ha.has(s))){e=Ot(a,e),a=Af(2),s=Ra(t,a,2),s!==null&&(kf(a,s,t,e),Ms(s,2),Ft(s));break}}t=t.return}}function ic(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new wg;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(a)||(Xo=!0,c.add(a),e=Cg.bind(null,e,t,a),t.then(e,e))}function Cg(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(Se&a)===a&&(Ge===4||Ge===3&&(Se&62914560)===Se&&300>re()-Fo?(Te&2)===0&&ls(e,0):Zo|=a,ns===Se&&(ns=0)),Ft(e)}function Eh(e,t){t===0&&(t=xu()),e=Pn(e,t),e!==null&&(Ms(e,t),Ft(e))}function Tg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Eh(e,a)}function Ag(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Eh(e,a)}function kg(e,t){return As(e,t)}var Bl=null,os=null,lc=!1,ql=!1,rc=!1,yn=0;function Ft(e){e!==os&&e.next===null&&(os===null?Bl=os=e:os=os.next=e),ql=!0,lc||(lc=!0,Rg())}function pi(e,t){if(!rc&&ql){rc=!0;do for(var a=!1,s=Bl;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var f=0;else{var y=s.suspendedLanes,b=s.pingedLanes;f=(1<<31-xt(42|e)+1)-1,f&=c&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,kh(s,f))}else f=Se,f=Yi(s,s===Ue?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Rs(s,f)||(a=!0,kh(s,f));s=s.next}while(a);rc=!1}}function Og(){Ch()}function Ch(){ql=lc=!1;var e=0;yn!==0&&($g()&&(e=yn),yn=0);for(var t=re(),a=null,s=Bl;s!==null;){var c=s.next,f=Th(s,t);f===0?(s.next=null,a===null?Bl=c:a.next=c,c===null&&(os=a)):(a=s,(e!==0||(f&3)!==0)&&(ql=!0)),s=c}pi(e)}function Th(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-xt(f),b=1<<y,C=c[y];C===-1?((b&a)===0||(b&s)!==0)&&(c[y]=np(b,t)):C<=t&&(e.expiredLanes|=b),f&=~b}if(t=Ue,a=Se,a=Yi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ks(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Rs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&ks(s),xr(a)){case 2:case 8:a=Sa;break;case 32:a=Na;break;case 268435456:a=Pi;break;default:a=Na}return s=Ah.bind(null,e),a=As(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&ks(s),e.callbackPriority=2,e.callbackNode=null,2}function Ah(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ll()&&e.callbackNode!==a)return null;var s=Se;return s=Yi(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(dh(e,s,t),Th(e,re()),e.callbackNode!=null&&e.callbackNode===a?Ah.bind(null,e):null)}function kh(e,t){if(Ll())return null;dh(e,t,!0)}function Rg(){Pg(function(){(Te&6)!==0?As(De,Og):Ch()})}function oc(){return yn===0&&(yn=_u()),yn}function Oh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zi(""+e)}function Rh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Mg(e,t,a,s,c){if(t==="submit"&&a&&a.stateNode===c){var f=Oh((c[vt]||null).action),y=s.submitter;y&&(t=(t=y[vt]||null)?Oh(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var b=new el("action","action",null,s,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(yn!==0){var C=y?Rh(c,y):new FormData(c);To(a,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(b.preventDefault(),C=y?Rh(c,y):new FormData(c),To(a,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var cc=0;cc<Ir.length;cc++){var uc=Ir[cc],Dg=uc.toLowerCase(),zg=uc[0].toUpperCase()+uc.slice(1);qt(Dg,"on"+zg)}qt(ud,"onAnimationEnd"),qt(dd,"onAnimationIteration"),qt(fd,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(Fp,"onTransitionRun"),qt(Wp,"onTransitionStart"),qt(eg,"onTransitionCancel"),qt(hd,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ug=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gi));function Mh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],c=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var y=s.length-1;0<=y;y--){var b=s[y],C=b.instance,U=b.currentTarget;if(b=b.listener,C!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=U;try{f(c)}catch(G){El(G)}c.currentTarget=null,f=C}else for(y=0;y<s.length;y++){if(b=s[y],C=b.instance,U=b.currentTarget,b=b.listener,C!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=U;try{f(c)}catch(G){El(G)}c.currentTarget=null,f=C}}}}function we(e,t){var a=t[wr];a===void 0&&(a=t[wr]=new Set);var s=e+"__bubble";a.has(s)||(Dh(t,e,2,!1),a.add(s))}function dc(e,t,a){var s=0;t&&(s|=4),Dh(a,e,s,t)}var $l="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[$l]){e[$l]=!0,Eu.forEach(function(a){a!=="selectionchange"&&(Ug.has(a)||dc(a,!1,e),dc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$l]||(t[$l]=!0,dc("selectionchange",!1,t))}}function Dh(e,t,a,s){switch(sm(t)){case 2:var c=cy;break;case 8:c=uy;break;default:c=Ec}a=c.bind(null,t,a,e),c=void 0,!Mr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function hc(e,t,a,s,c){var f=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var b=s.stateNode.containerInfo;if(b===c)break;if(y===4)for(y=s.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;b!==null;){if(y=An(b),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){s=f=y;continue e}b=b.parentNode}}s=s.return}$u(function(){var U=f,G=Or(a),Y=[];e:{var L=md.get(e);if(L!==void 0){var B=el,he=e;switch(e){case"keypress":if(Fi(a)===0)break e;case"keydown":case"keyup":B=kp;break;case"focusin":he="focus",B=Lr;break;case"focusout":he="blur",B=Lr;break;case"beforeblur":case"afterblur":B=Lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Mp;break;case ud:case dd:case fd:B=xp;break;case hd:B=zp;break;case"scroll":case"scrollend":B=pp;break;case"wheel":B=Lp;break;case"copy":case"cut":case"paste":B=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Yu;break;case"toggle":case"beforetoggle":B=qp}var de=(t&4)!==0,Me=!de&&(e==="scroll"||e==="scrollend"),R=de?L!==null?L+"Capture":null:L;de=[];for(var k=U,z;k!==null;){var V=k;if(z=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||z===null||R===null||(V=Us(k,R),V!=null&&de.push(yi(k,V,z))),Me)break;k=k.return}0<de.length&&(L=new B(L,he,null,a,G),Y.push({event:L,listeners:de}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",L&&a!==kr&&(he=a.relatedTarget||a.fromElement)&&(An(he)||he[Tn]))break e;if((B||L)&&(L=G.window===G?G:(L=G.ownerDocument)?L.defaultView||L.parentWindow:window,B?(he=a.relatedTarget||a.toElement,B=U,he=he?An(he):null,he!==null&&(Me=d(he),de=he.tag,he!==Me||de!==5&&de!==27&&de!==6)&&(he=null)):(B=null,he=U),B!==he)){if(de=Gu,V="onMouseLeave",R="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(de=Yu,V="onPointerLeave",R="onPointerEnter",k="pointer"),Me=B==null?L:zs(B),z=he==null?L:zs(he),L=new de(V,k+"leave",B,a,G),L.target=Me,L.relatedTarget=z,V=null,An(G)===U&&(de=new de(R,k+"enter",he,a,G),de.target=z,de.relatedTarget=Me,V=de),Me=V,B&&he)t:{for(de=B,R=he,k=0,z=de;z;z=cs(z))k++;for(z=0,V=R;V;V=cs(V))z++;for(;0<k-z;)de=cs(de),k--;for(;0<z-k;)R=cs(R),z--;for(;k--;){if(de===R||R!==null&&de===R.alternate)break t;de=cs(de),R=cs(R)}de=null}else de=null;B!==null&&zh(Y,L,B,de,!1),he!==null&&Me!==null&&zh(Y,Me,he,de,!0)}}e:{if(L=U?zs(U):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var ie=Wu;else if(Ju(L))if(ed)ie=Xp;else{ie=Kp;var _e=Ip}else B=L.nodeName,!B||B.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&Ar(U.elementType)&&(ie=Wu):ie=Qp;if(ie&&(ie=ie(e,U))){Fu(Y,ie,a,G);break e}_e&&_e(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&Tr(L,"number",L.value)}switch(_e=U?zs(U):window,e){case"focusin":(Ju(_e)||_e.contentEditable==="true")&&(qn=_e,Gr=U,Vs=null);break;case"focusout":Vs=Gr=qn=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":Vr=!1,od(Y,a,G);break;case"selectionchange":if(Jp)break;case"keydown":case"keyup":od(Y,a,G)}var oe;if(qr)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Bn?Xu(e,a)&&(fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&(Iu&&a.locale!=="ko"&&(Bn||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Bn&&(oe=Hu()):(Ta=G,Dr="value"in Ta?Ta.value:Ta.textContent,Bn=!0)),_e=Hl(U,fe),0<_e.length&&(fe=new Vu(fe,e,null,a,G),Y.push({event:fe,listeners:_e}),oe?fe.data=oe:(oe=Zu(a),oe!==null&&(fe.data=oe)))),(oe=Hp?Pp(e,a):Gp(e,a))&&(fe=Hl(U,"onBeforeInput"),0<fe.length&&(_e=new Vu("onBeforeInput","beforeinput",null,a,G),Y.push({event:_e,listeners:fe}),_e.data=oe)),Mg(Y,e,U,a,G)}Mh(Y,t)})}function yi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Hl(e,t){for(var a=t+"Capture",s=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Us(e,a),c!=null&&s.unshift(yi(e,c,f)),c=Us(e,t),c!=null&&s.push(yi(e,c,f))),e.tag===3)return s;e=e.return}return[]}function cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zh(e,t,a,s,c){for(var f=t._reactName,y=[];a!==null&&a!==s;){var b=a,C=b.alternate,U=b.stateNode;if(b=b.tag,C!==null&&C===s)break;b!==5&&b!==26&&b!==27||U===null||(C=U,c?(U=Us(a,f),U!=null&&y.unshift(yi(a,U,C))):c||(U=Us(a,f),U!=null&&y.push(yi(a,U,C)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var Lg=/\r\n?/g,Bg=/\u0000|\uFFFD/g;function Uh(e){return(typeof e=="string"?e:""+e).replace(Lg,`
`).replace(Bg,"")}function Lh(e,t){return t=Uh(t),Uh(e)===t}function Pl(){}function Re(e,t,a,s,c,f){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||zn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&zn(e,""+s);break;case"className":Ki(e,"class",s);break;case"tabIndex":Ki(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,a,s);break;case"style":Bu(e,s,f);break;case"data":if(t!=="object"){Ki(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Zi(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Re(e,t,"name",c.name,c,null),Re(e,t,"formEncType",c.formEncType,c,null),Re(e,t,"formMethod",c.formMethod,c,null),Re(e,t,"formTarget",c.formTarget,c,null)):(Re(e,t,"encType",c.encType,c,null),Re(e,t,"method",c.method,c,null),Re(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Zi(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Pl);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Zi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":we("beforetoggle",e),we("toggle",e),Ii(e,"popover",s);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ii(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mp.get(a)||a,Ii(e,a,s))}}function mc(e,t,a,s,c,f){switch(a){case"style":Bu(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?zn(e,s):(typeof s=="number"||typeof s=="bigint")&&zn(e,""+s);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Pl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),f=e[vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof s=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,c);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ii(e,a,s)}}}function rt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var s=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,f,y,a,null)}}c&&Re(e,t,"srcSet",a.srcSet,a,null),s&&Re(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var b=f=y=c=null,C=null,U=null;for(s in a)if(a.hasOwnProperty(s)){var G=a[s];if(G!=null)switch(s){case"name":c=G;break;case"type":y=G;break;case"checked":C=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,t));break;default:Re(e,t,s,G,a,null)}}Du(e,f,b,C,U,y,c,!1),Qi(e);return;case"select":we("invalid",e),s=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(b=a[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":s=b;default:Re(e,t,c,b,a,null)}t=f,a=y,e.multiple=!!s,t!=null?Dn(e,!!s,t,!1):a!=null&&Dn(e,!!s,a,!0);return;case"textarea":we("invalid",e),f=c=s=null;for(y in a)if(a.hasOwnProperty(y)&&(b=a[y],b!=null))switch(y){case"value":s=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Re(e,t,y,b,a,null)}Uu(e,s,c,f),Qi(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(s=a[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Re(e,t,C,s,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(s=0;s<gi.length;s++)we(gi[s],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,U,s,a,null)}return;default:if(Ar(t)){for(G in a)a.hasOwnProperty(G)&&(s=a[G],s!==void 0&&mc(e,t,G,s,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null&&Re(e,t,b,s,a,null))}function qg(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,b=null,C=null,U=null,G=null;for(B in a){var Y=a[B];if(a.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=Y;default:s.hasOwnProperty(B)||Re(e,t,B,null,s,Y)}}for(var L in s){var B=s[L];if(Y=a[L],s.hasOwnProperty(L)&&(B!=null||Y!=null))switch(L){case"type":f=B;break;case"name":c=B;break;case"checked":U=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==Y&&Re(e,t,L,B,s,Y)}}Cr(e,y,b,C,U,G,f,c);return;case"select":B=y=b=L=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":B=C;default:s.hasOwnProperty(f)||Re(e,t,f,null,s,C)}for(c in s)if(f=s[c],C=a[c],s.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":L=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==C&&Re(e,t,c,f,s,C)}t=b,a=y,s=B,L!=null?Dn(e,!!a,L,!1):!!s!=!!a&&(t!=null?Dn(e,!!a,t,!0):Dn(e,!!a,a?[]:"",!1));return;case"textarea":B=L=null;for(b in a)if(c=a[b],a.hasOwnProperty(b)&&c!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Re(e,t,b,null,s,c)}for(y in s)if(c=s[y],f=a[y],s.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":L=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&Re(e,t,y,c,s,f)}zu(e,L,B);return;case"option":for(var he in a)if(L=a[he],a.hasOwnProperty(he)&&L!=null&&!s.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Re(e,t,he,null,s,L)}for(C in s)if(L=s[C],B=a[C],s.hasOwnProperty(C)&&L!==B&&(L!=null||B!=null))switch(C){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Re(e,t,C,L,s,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)L=a[de],a.hasOwnProperty(de)&&L!=null&&!s.hasOwnProperty(de)&&Re(e,t,de,null,s,L);for(U in s)if(L=s[U],B=a[U],s.hasOwnProperty(U)&&L!==B&&(L!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:Re(e,t,U,L,s,B)}return;default:if(Ar(t)){for(var Me in a)L=a[Me],a.hasOwnProperty(Me)&&L!==void 0&&!s.hasOwnProperty(Me)&&mc(e,t,Me,void 0,s,L);for(G in s)L=s[G],B=a[G],!s.hasOwnProperty(G)||L===B||L===void 0&&B===void 0||mc(e,t,G,L,s,B);return}}for(var R in a)L=a[R],a.hasOwnProperty(R)&&L!=null&&!s.hasOwnProperty(R)&&Re(e,t,R,null,s,L);for(Y in s)L=s[Y],B=a[Y],!s.hasOwnProperty(Y)||L===B||L==null&&B==null||Re(e,t,Y,L,s,B)}var vc=null,pc=null;function Gl(e){return e.nodeType===9?e:e.ownerDocument}function Bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yc=null;function $g(){var e=window.event;return e&&e.type==="popstate"?e===yc?!1:(yc=e,!0):(yc=null,!1)}var $h=typeof setTimeout=="function"?setTimeout:void 0,Hg=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,Pg=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh<"u"?function(e){return Hh.resolve(null).then(e).catch(Gg)}:$h;function Gg(e){setTimeout(function(){throw e})}function Va(e){return e==="head"}function Ph(e,t){var a=t,s=0,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<s&&8>s){a=s;var y=e.ownerDocument;if(a&1&&bi(y.documentElement),a&2&&bi(y.body),a&4)for(a=y.head,bi(a),y=a.firstChild;y;){var b=y.nextSibling,C=y.nodeName;y[Ds]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=b}}if(c===0){e.removeChild(f),Ci(t);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:s=a.charCodeAt(0)-48;else s=0;a=f}while(a);Ci(t)}function bc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bc(a),jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Vg(e,t,a,s){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ds])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function Yg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ht(e.nextSibling),e===null))return null;return e}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ig(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var xc=null;function Gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Vh(e,t,a){switch(t=Gl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function bi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jr(e)}var Lt=new Map,Yh=new Set;function Vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=K.d;K.d={f:Kg,r:Qg,D:Xg,C:Zg,L:Jg,m:Fg,X:ey,S:Wg,M:ty};function Kg(){var e=ga.f(),t=zl();return e||t}function Qg(e){var t=kn(e);t!==null&&t.tag===5&&t.type==="form"?df(t):ga.r(e)}var us=typeof document>"u"?null:document;function Ih(e,t,a){var s=us;if(s&&typeof t=="string"&&t){var c=kt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Yh.has(c)||(Yh.add(c),e={rel:e,crossOrigin:a,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),rt(t,"link",e),et(t),s.head.appendChild(t)))}}function Xg(e){ga.D(e),Ih("dns-prefetch",e,null)}function Zg(e,t){ga.C(e,t),Ih("preconnect",e,t)}function Jg(e,t,a){ga.L(e,t,a);var s=us;if(s&&e&&t){var c='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+kt(a.imageSizes)+'"]')):c+='[href="'+kt(e)+'"]';var f=c;switch(t){case"style":f=ds(e);break;case"script":f=fs(e)}Lt.has(f)||(e=g({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Lt.set(f,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(_i(f))||t==="script"&&s.querySelector(xi(f))||(t=s.createElement("link"),rt(t,"link",e),et(t),s.head.appendChild(t)))}}function Fg(e,t){ga.m(e,t);var a=us;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+kt(s)+'"][href="'+kt(e)+'"]',f=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fs(e)}if(!Lt.has(f)&&(e=g({rel:"modulepreload",href:e},t),Lt.set(f,e),a.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xi(f)))return}s=a.createElement("link"),rt(s,"link",e),et(s),a.head.appendChild(s)}}}function Wg(e,t,a){ga.S(e,t,a);var s=us;if(s&&e){var c=On(s).hoistableStyles,f=ds(e);t=t||"default";var y=c.get(f);if(!y){var b={loading:0,preload:null};if(y=s.querySelector(_i(f)))b.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Lt.get(f))&&wc(e,a);var C=y=s.createElement("link");et(C),rt(C,"link",e),C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Yl(y,t,s)}y={type:"stylesheet",instance:y,count:1,state:b},c.set(f,y)}}}function ey(e,t){ga.X(e,t);var a=us;if(a&&e){var s=On(a).hoistableScripts,c=fs(e),f=s.get(c);f||(f=a.querySelector(xi(c)),f||(e=g({src:e,async:!0},t),(t=Lt.get(c))&&jc(e,t),f=a.createElement("script"),et(f),rt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function ty(e,t){ga.M(e,t);var a=us;if(a&&e){var s=On(a).hoistableScripts,c=fs(e),f=s.get(c);f||(f=a.querySelector(xi(c)),f||(e=g({src:e,async:!0,type:"module"},t),(t=Lt.get(c))&&jc(e,t),f=a.createElement("script"),et(f),rt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function Kh(e,t,a,s){var c=(c=se.current)?Vl(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ds(a.href),a=On(c).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ds(a.href);var f=On(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(_i(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Lt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Lt.set(e,a),f||ay(c,e,a,y.state))),t&&s===null)throw Error(l(528,""));return y}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fs(a),a=On(c).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ds(e){return'href="'+kt(e)+'"'}function _i(e){return'link[rel="stylesheet"]['+e+"]"}function Qh(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function ay(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),rt(t,"link",a),et(t),e.head.appendChild(t))}function fs(e){return'[src="'+kt(e)+'"]'}function xi(e){return"script[async]"+e}function Xh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+kt(a.href)+'"]');if(s)return t.instance=s,et(s),s;var c=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),rt(s,"style",c),Yl(s,a.precedence,e),t.instance=s;case"stylesheet":c=ds(a.href);var f=e.querySelector(_i(c));if(f)return t.state.loading|=4,t.instance=f,et(f),f;s=Qh(a),(c=Lt.get(c))&&wc(s,c),f=(e.ownerDocument||e).createElement("link"),et(f);var y=f;return y._p=new Promise(function(b,C){y.onload=b,y.onerror=C}),rt(f,"link",s),t.state.loading|=4,Yl(f,a.precedence,e),t.instance=f;case"script":return f=fs(a.src),(c=e.querySelector(xi(f)))?(t.instance=c,et(c),c):(s=a,(c=Lt.get(f))&&(s=g({},a),jc(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),et(c),rt(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Yl(s,a.precedence,e));return t.instance}function Yl(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,f=c,y=0;y<s.length;y++){var b=s[y];if(b.dataset.precedence===t)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function wc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Il=null;function Zh(e,t,a){if(Il===null){var s=new Map,c=Il=new Map;c.set(a,s)}else c=Il,s=c.get(a),s||(s=new Map,c.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Ds]||f[ot]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var b=s.get(y);b?b.push(f):s.set(y,[f])}}return s}function Jh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ny(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Fh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var wi=null;function sy(){}function iy(e,t,a){if(wi===null)throw Error(l(475));var s=wi;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=ds(a.href),f=e.querySelector(_i(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Kl.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=f,et(f);return}f=e.ownerDocument||e,a=Qh(a),(c=Lt.get(c))&&wc(a,c),f=f.createElement("link"),et(f);var y=f;y._p=new Promise(function(b,C){y.onload=b,y.onerror=C}),rt(f,"link",a),t.instance=f}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=Kl.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function ly(){if(wi===null)throw Error(l(475));var e=wi;return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Kl(){if(this.count--,this.count===0){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ql=null;function Sc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ql=new Map,t.forEach(ry,e),Ql=null,Kl.call(e))}function ry(e,t){if(!(t.state.loading&4)){var a=Ql.get(e);if(a)var s=a.get(null);else{a=new Map,Ql.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),s=y)}s&&a.set(null,s)}c=t.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||s,f===s&&a.set(null,c),a.set(y,c),this.count++,s=Kl.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ji={$$typeof:M,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function oy(e,t,a,s,c,f,y,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Wh(e,t,a,s,c,f,y,b,C,U,G,Y){return e=new oy(e,t,a,y,b,C,U,Y),t=1,f===!0&&(t|=24),f=jt(3,null,null,t),e.current=f,f.stateNode=e,t=so(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:s,isDehydrated:a,cache:t},oo(f),e}function em(e){return e?(e=Gn,e):Gn}function tm(e,t,a,s,c,f){c=em(c),s.context===null?s.context=c:s.pendingContext=c,s=Oa(t),s.payload={element:a},f=f===void 0?null:f,f!==null&&(s.callback=f),a=Ra(e,s,t),a!==null&&(Tt(a,e,t),Ws(a,e,t))}function am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Nc(e,t){am(e,t),(e=e.alternate)&&am(e,t)}function nm(e){if(e.tag===13){var t=Pn(e,67108864);t!==null&&Tt(t,e,67108864),Nc(e,67108864)}}var Xl=!0;function cy(e,t,a,s){var c=$.T;$.T=null;var f=K.p;try{K.p=2,Ec(e,t,a,s)}finally{K.p=f,$.T=c}}function uy(e,t,a,s){var c=$.T;$.T=null;var f=K.p;try{K.p=8,Ec(e,t,a,s)}finally{K.p=f,$.T=c}}function Ec(e,t,a,s){if(Xl){var c=Cc(s);if(c===null)hc(e,t,s,Zl,a),im(e,s);else if(fy(c,e,t,a,s))s.stopPropagation();else if(im(e,s),t&4&&-1<dy.indexOf(e)){for(;c!==null;){var f=kn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=en(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var C=1<<31-xt(y);b.entanglements[1]|=C,y&=~C}Ft(f),(Te&6)===0&&(Ml=re()+500,pi(0))}}break;case 13:b=Pn(f,2),b!==null&&Tt(b,f,2),zl(),Nc(f,2)}if(f=Cc(s),f===null&&hc(e,t,s,Zl,a),f===c)break;c=f}c!==null&&s.stopPropagation()}else hc(e,t,s,null,a)}}function Cc(e){return e=Or(e),Tc(e)}var Zl=null;function Tc(e){if(Zl=null,e=An(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zl=e,null}function sm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case De:return 2;case Sa:return 8;case Na:case aa:return 32;case Pi:return 268435456;default:return 32}default:return 32}}var Ac=!1,Ya=null,Ia=null,Ka=null,Si=new Map,Ni=new Map,Qa=[],dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function im(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(t.pointerId)}}function Ei(e,t,a,s,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:f,targetContainers:[c]},t!==null&&(t=kn(t),t!==null&&nm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function fy(e,t,a,s,c){switch(t){case"focusin":return Ya=Ei(Ya,e,t,a,s,c),!0;case"dragenter":return Ia=Ei(Ia,e,t,a,s,c),!0;case"mouseover":return Ka=Ei(Ka,e,t,a,s,c),!0;case"pointerover":var f=c.pointerId;return Si.set(f,Ei(Si.get(f)||null,e,t,a,s,c)),!0;case"gotpointercapture":return f=c.pointerId,Ni.set(f,Ei(Ni.get(f)||null,e,t,a,s,c)),!0}return!1}function lm(e){var t=An(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,ip(e.priority,function(){if(a.tag===13){var s=Ct();s=_r(s);var c=Pn(a,s);c!==null&&Tt(c,a,s),Nc(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Cc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);kr=s,a.target.dispatchEvent(s),kr=null}else return t=kn(a),t!==null&&nm(t),e.blockedOn=a,!1;t.shift()}return!0}function rm(e,t,a){Jl(e)&&a.delete(t)}function hy(){Ac=!1,Ya!==null&&Jl(Ya)&&(Ya=null),Ia!==null&&Jl(Ia)&&(Ia=null),Ka!==null&&Jl(Ka)&&(Ka=null),Si.forEach(rm),Ni.forEach(rm)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ac||(Ac=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hy)))}var Wl=null;function om(e){Wl!==e&&(Wl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(Tc(s||a)===null)continue;break}var f=kn(a);f!==null&&(e.splice(t,3),t-=3,To(f,{pending:!0,data:c,method:a.method,action:s},s,c))}}))}function Ci(e){function t(C){return Fl(C,e)}Ya!==null&&Fl(Ya,e),Ia!==null&&Fl(Ia,e),Ka!==null&&Fl(Ka,e),Si.forEach(t),Ni.forEach(t);for(var a=0;a<Qa.length;a++){var s=Qa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Qa.length&&(a=Qa[0],a.blockedOn===null);)lm(a),a.blockedOn===null&&Qa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var c=a[s],f=a[s+1],y=c[vt]||null;if(typeof f=="function")y||om(a);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[vt]||null)b=y.formAction;else if(Tc(c)!==null)continue}else b=y.action;typeof b=="function"?a[s+1]=b:(a.splice(s,3),s-=3),om(a)}}}function kc(e){this._internalRoot=e}er.prototype.render=kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Ct();tm(a,s,e,t,null,null)},er.prototype.unmount=kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tm(e.current,2,null,e,null,null),zl(),t[Tn]=null}};function er(e){this._internalRoot=e}er.prototype.unstable_scheduleHydration=function(e){if(e){var t=Su();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Qa.length&&t!==0&&t<Qa[a].priority;a++);Qa.splice(a,0,e),a===0&&lm(e)}};var cm=n.version;if(cm!=="19.1.1")throw Error(l(527,cm,"19.1.1"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var my={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tr.isDisabled&&tr.supportsFiber)try{Os=tr.inject(my),_t=tr}catch{}}return Ai.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,s="",c=Nf,f=Ef,y=Cf,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=Wh(e,1,!1,null,null,a,s,c,f,y,b,null),e[Tn]=t.current,fc(e),new kc(t)},Ai.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var s=!1,c="",f=Nf,y=Ef,b=Cf,C=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),t=Wh(e,1,!0,t,a??null,s,c,f,y,b,C,U),t.context=em(null),a=t.current,s=Ct(),s=_r(s),c=Oa(s),c.callback=null,Ra(a,c,s),a=s,t.current.lanes=a,Ms(t,a),Ft(t),e[Tn]=t.current,fc(e),new er(t)},Ai.version="19.1.1",Ai}var bm;function Ey(){if(bm)return Rc.exports;bm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Rc.exports=Ny(),Rc.exports}var Cy=Ey(),x=ru();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _m="popstate";function Ty(r={}){function n(l,u){let{pathname:d,search:h,hash:m}=l.location;return Kc("",{pathname:d,search:h,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){return typeof u=="string"?u:zi(u)}return ky(n,i,null,r)}function He(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function It(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Ay(){return Math.random().toString(36).substring(2,10)}function xm(r,n){return{usr:r.state,key:r.key,idx:n}}function Kc(r,n,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Es(n):n,state:i,key:n&&n.key||l||Ay()}}function zi({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Es(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function ky(r,n,i,l={}){let{window:u=document.defaultView,v5Compat:d=!1}=l,h=u.history,m="POP",v=null,p=g();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function g(){return(h.state||{idx:null}).idx}function _(){m="POP";let N=g(),O=N==null?null:N-p;p=N,v&&v({action:m,location:E.location,delta:O})}function w(N,O){m="PUSH";let D=Kc(E.location,N,O);p=g()+1;let M=xm(D,p),H=E.createHref(D);try{h.pushState(M,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;u.location.assign(H)}d&&v&&v({action:m,location:E.location,delta:1})}function j(N,O){m="REPLACE";let D=Kc(E.location,N,O);p=g();let M=xm(D,p),H=E.createHref(D);h.replaceState(M,"",H),d&&v&&v({action:m,location:E.location,delta:0})}function S(N){return Oy(N)}let E={get action(){return m},get location(){return r(u,h)},listen(N){if(v)throw new Error("A history only accepts one active listener");return u.addEventListener(_m,_),v=N,()=>{u.removeEventListener(_m,_),v=null}},createHref(N){return n(u,N)},createURL:S,encodeLocation(N){let O=S(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:j,go(N){return h.go(N)}};return E}function Oy(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),He(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:zi(r);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function av(r,n,i="/"){return Ry(r,n,i,!1)}function Ry(r,n,i,l){let u=typeof n=="string"?Es(n):n,d=wa(u.pathname||"/",i);if(d==null)return null;let h=nv(r);My(h);let m=null;for(let v=0;m==null&&v<h.length;++v){let p=Vy(d);m=Py(h[v],p,l)}return m}function nv(r,n=[],i=[],l="",u=!1){let d=(h,m,v=u,p)=>{let g={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(l)&&v)return;He(g.relativePath.startsWith(l),`Absolute route path "${g.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(l.length)}let _=_a([l,g.relativePath]),w=i.concat(g);h.children&&h.children.length>0&&(He(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),nv(h.children,n,w,_,v)),!(h.path==null&&!h.index)&&n.push({path:_,score:$y(_,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))d(h,m);else for(let v of sv(h.path))d(h,m,!0,v)}),n}function sv(r){let n=r.split("/");if(n.length===0)return[];let[i,...l]=n,u=i.endsWith("?"),d=i.replace(/\?$/,"");if(l.length===0)return u?[d,""]:[d];let h=sv(l.join("/")),m=[];return m.push(...h.map(v=>v===""?d:[d,v].join("/"))),u&&m.push(...h),m.map(v=>r.startsWith("/")&&v===""?"/":v)}function My(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:Hy(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var Dy=/^:[\w-]+$/,zy=3,Uy=2,Ly=1,By=10,qy=-2,wm=r=>r==="*";function $y(r,n){let i=r.split("/"),l=i.length;return i.some(wm)&&(l+=qy),n&&(l+=Uy),i.filter(u=>!wm(u)).reduce((u,d)=>u+(Dy.test(d)?zy:d===""?Ly:By),l)}function Hy(r,n){return r.length===n.length&&r.slice(0,-1).every((l,u)=>l===n[u])?r[r.length-1]-n[n.length-1]:0}function Py(r,n,i=!1){let{routesMeta:l}=r,u={},d="/",h=[];for(let m=0;m<l.length;++m){let v=l[m],p=m===l.length-1,g=d==="/"?n:n.slice(d.length)||"/",_=dr({path:v.relativePath,caseSensitive:v.caseSensitive,end:p},g),w=v.route;if(!_&&p&&i&&!l[l.length-1].route.index&&(_=dr({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},g)),!_)return null;Object.assign(u,_.params),h.push({params:u,pathname:_a([d,_.pathname]),pathnameBase:Qy(_a([d,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(d=_a([d,_.pathnameBase]))}return h}function dr(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=Gy(r.path,r.caseSensitive,r.end),u=n.match(i);if(!u)return null;let d=u[0],h=d.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((p,{paramName:g,isOptional:_},w)=>{if(g==="*"){let S=m[w]||"";h=d.slice(0,d.length-S.length).replace(/(.)\/+$/,"$1")}const j=m[w];return _&&!j?p[g]=void 0:p[g]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:h,pattern:r}}function Gy(r,n=!1,i=!0){It(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,v)=>(l.push({paramName:m,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function Vy(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return It(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function wa(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}function Yy(r,n="/"){let{pathname:i,search:l="",hash:u=""}=typeof r=="string"?Es(r):r;return{pathname:i?i.startsWith("/")?i:Iy(i,n):n,search:Xy(l),hash:Zy(u)}}function Iy(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Lc(r,n,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ky(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function iv(r){let n=Ky(r);return n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase)}function lv(r,n,i,l=!1){let u;typeof r=="string"?u=Es(r):(u={...r},He(!u.pathname||!u.pathname.includes("?"),Lc("?","pathname","search",u)),He(!u.pathname||!u.pathname.includes("#"),Lc("#","pathname","hash",u)),He(!u.search||!u.search.includes("#"),Lc("#","search","hash",u)));let d=r===""||u.pathname==="",h=d?"/":u.pathname,m;if(h==null)m=i;else{let _=n.length-1;if(!l&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),_-=1;u.pathname=w.join("/")}m=_>=0?n[_]:"/"}let v=Yy(u,m),p=h&&h!=="/"&&h.endsWith("/"),g=(d||h===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(p||g)&&(v.pathname+="/"),v}var _a=r=>r.join("/").replace(/\/\/+/g,"/"),Qy=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Xy=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Zy=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Jy(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var rv=["POST","PUT","PATCH","DELETE"];new Set(rv);var Fy=["GET",...rv];new Set(Fy);var Cs=x.createContext(null);Cs.displayName="DataRouter";var mr=x.createContext(null);mr.displayName="DataRouterState";x.createContext(!1);var ov=x.createContext({isTransitioning:!1});ov.displayName="ViewTransition";var Wy=x.createContext(new Map);Wy.displayName="Fetchers";var e0=x.createContext(null);e0.displayName="Await";var ea=x.createContext(null);ea.displayName="Navigation";var Li=x.createContext(null);Li.displayName="Location";var ta=x.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var ou=x.createContext(null);ou.displayName="RouteError";function t0(r,{relative:n}={}){He(Bi(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=x.useContext(ea),{hash:u,pathname:d,search:h}=qi(r,{relative:n}),m=d;return i!=="/"&&(m=d==="/"?i:_a([i,d])),l.createHref({pathname:m,search:h,hash:u})}function Bi(){return x.useContext(Li)!=null}function ja(){return He(Bi(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Li).location}var cv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uv(r){x.useContext(ea).static||x.useLayoutEffect(r)}function mt(){let{isDataRoute:r}=x.useContext(ta);return r?m0():a0()}function a0(){He(Bi(),"useNavigate() may be used only in the context of a <Router> component.");let r=x.useContext(Cs),{basename:n,navigator:i}=x.useContext(ea),{matches:l}=x.useContext(ta),{pathname:u}=ja(),d=JSON.stringify(iv(l)),h=x.useRef(!1);return uv(()=>{h.current=!0}),x.useCallback((v,p={})=>{if(It(h.current,cv),!h.current)return;if(typeof v=="number"){i.go(v);return}let g=lv(v,JSON.parse(d),u,p.relative==="path");r==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:_a([n,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[n,i,d,u,r])}x.createContext(null);function dv(){let{matches:r}=x.useContext(ta),n=r[r.length-1];return n?n.params:{}}function qi(r,{relative:n}={}){let{matches:i}=x.useContext(ta),{pathname:l}=ja(),u=JSON.stringify(iv(i));return x.useMemo(()=>lv(r,JSON.parse(u),l,n==="path"),[r,u,l,n])}function n0(r,n){return fv(r,n)}function fv(r,n,i,l,u){He(Bi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=x.useContext(ea),{matches:h}=x.useContext(ta),m=h[h.length-1],v=m?m.params:{},p=m?m.pathname:"/",g=m?m.pathnameBase:"/",_=m&&m.route;{let D=_&&_.path||"";hv(p,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=ja(),j;if(n){let D=typeof n=="string"?Es(n):n;He(g==="/"||D.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),j=D}else j=w;let S=j.pathname||"/",E=S;if(g!=="/"){let D=g.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=av(r,{pathname:E});It(_||N!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),It(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=o0(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},v,D.params),pathname:_a([g,d.encodeLocation?d.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:_a([g,d.encodeLocation?d.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,i,l,u);return n&&O?x.createElement(Li.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},O):O}function s0(){let r=h0(),n=Jy(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:d},"ErrorBoundary")," or"," ",x.createElement("code",{style:d},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),i?x.createElement("pre",{style:u},i):null,h)}var i0=x.createElement(s0,null),l0=class extends x.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.unstable_onError?this.props.unstable_onError(r,n):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?x.createElement(ta.Provider,{value:this.props.routeContext},x.createElement(ou.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r0({routeContext:r,match:n,children:i}){let l=x.useContext(Cs);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ta.Provider,{value:r},i)}function o0(r,n=[],i=null,l=null,u=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let d=r,h=i?.errors;if(h!=null){let p=d.findIndex(g=>g.route.id&&h?.[g.route.id]!==void 0);He(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let m=!1,v=-1;if(i)for(let p=0;p<d.length;p++){let g=d[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(v=p),g.route.id){let{loaderData:_,errors:w}=i,j=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||j){m=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((p,g,_)=>{let w,j=!1,S=null,E=null;i&&(w=h&&g.route.id?h[g.route.id]:void 0,S=g.route.errorElement||i0,m&&(v<0&&_===0?(hv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,E=null):v===_&&(j=!0,E=g.route.hydrateFallbackElement||null)));let N=n.concat(d.slice(0,_+1)),O=()=>{let D;return w?D=S:j?D=E:g.route.Component?D=x.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=p,x.createElement(r0,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:i!=null},children:D})};return i&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?x.createElement(l0,{location:i.location,revalidation:i.revalidation,component:S,error:w,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:l}):O()},null)}function cu(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c0(r){let n=x.useContext(Cs);return He(n,cu(r)),n}function u0(r){let n=x.useContext(mr);return He(n,cu(r)),n}function d0(r){let n=x.useContext(ta);return He(n,cu(r)),n}function uu(r){let n=d0(r),i=n.matches[n.matches.length-1];return He(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function f0(){return uu("useRouteId")}function h0(){let r=x.useContext(ou),n=u0("useRouteError"),i=uu("useRouteError");return r!==void 0?r:n.errors?.[i]}function m0(){let{router:r}=c0("useNavigate"),n=uu("useNavigate"),i=x.useRef(!1);return uv(()=>{i.current=!0}),x.useCallback(async(u,d={})=>{It(i.current,cv),i.current&&(typeof u=="number"?r.navigate(u):await r.navigate(u,{fromRouteId:n,...d}))},[r,n])}var jm={};function hv(r,n,i){!n&&!jm[r]&&(jm[r]=!0,It(!1,i))}x.memo(v0);function v0({routes:r,future:n,state:i,unstable_onError:l}){return fv(r,void 0,i,l,n)}function Pt(r){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p0({basename:r="/",children:n=null,location:i,navigationType:l="POP",navigator:u,static:d=!1}){He(!Bi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=x.useMemo(()=>({basename:h,navigator:u,static:d,future:{}}),[h,u,d]);typeof i=="string"&&(i=Es(i));let{pathname:v="/",search:p="",hash:g="",state:_=null,key:w="default"}=i,j=x.useMemo(()=>{let S=wa(v,h);return S==null?null:{location:{pathname:S,search:p,hash:g,state:_,key:w},navigationType:l}},[h,v,p,g,_,w,l]);return It(j!=null,`<Router basename="${h}"> is not able to match the URL "${v}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:x.createElement(ea.Provider,{value:m},x.createElement(Li.Provider,{children:n,value:j}))}function g0({children:r,location:n}){return n0(Qc(r),n)}function Qc(r,n=[]){let i=[];return x.Children.forEach(r,(l,u)=>{if(!x.isValidElement(l))return;let d=[...n,u];if(l.type===x.Fragment){i.push.apply(i,Qc(l.props.children,d));return}He(l.type===Pt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Qc(l.props.children,d)),i.push(h)}),i}var cr="get",ur="application/x-www-form-urlencoded";function vr(r){return r!=null&&typeof r.tagName=="string"}function y0(r){return vr(r)&&r.tagName.toLowerCase()==="button"}function b0(r){return vr(r)&&r.tagName.toLowerCase()==="form"}function _0(r){return vr(r)&&r.tagName.toLowerCase()==="input"}function x0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function w0(r,n){return r.button===0&&(!n||n==="_self")&&!x0(r)}function Xc(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((n,i)=>{let l=r[i];return n.concat(Array.isArray(l)?l.map(u=>[i,u]):[[i,l]])},[]))}function j0(r,n){let i=Xc(r);return n&&n.forEach((l,u)=>{i.has(u)||n.getAll(u).forEach(d=>{i.append(u,d)})}),i}var ar=null;function S0(){if(ar===null)try{new FormData(document.createElement("form"),0),ar=!1}catch{ar=!0}return ar}var N0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bc(r){return r!=null&&!N0.has(r)?(It(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ur}"`),null):r}function E0(r,n){let i,l,u,d,h;if(b0(r)){let m=r.getAttribute("action");l=m?wa(m,n):null,i=r.getAttribute("method")||cr,u=Bc(r.getAttribute("enctype"))||ur,d=new FormData(r)}else if(y0(r)||_0(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||m.getAttribute("action");if(l=v?wa(v,n):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||cr,u=Bc(r.getAttribute("formenctype"))||Bc(m.getAttribute("enctype"))||ur,d=new FormData(m,r),!S0()){let{name:p,type:g,value:_}=r;if(g==="image"){let w=p?`${p}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else p&&d.append(p,_)}}else{if(vr(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=cr,l=null,u=ur,h=r}return d&&u==="text/plain"&&(h=d,d=void 0),{action:l,method:i.toLowerCase(),encType:u,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function du(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function C0(r,n,i){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${i}`:n&&wa(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function T0(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function k0(r,n,i){let l=await Promise.all(r.map(async u=>{let d=n.routes[u.route.id];if(d){let h=await T0(d,i);return h.links?h.links():[]}return[]}));return D0(l.flat(1).filter(A0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Sm(r,n,i,l,u,d){let h=(v,p)=>i[p]?v.route.id!==i[p].route.id:!0,m=(v,p)=>i[p].pathname!==v.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==v.params["*"];return d==="assets"?n.filter((v,p)=>h(v,p)||m(v,p)):d==="data"?n.filter((v,p)=>{let g=l.routes[v.route.id];if(!g||!g.hasLoader)return!1;if(h(v,p)||m(v,p))return!0;if(v.route.shouldRevalidate){let _=v.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function O0(r,n,{includeHydrateFallback:i}={}){return R0(r.map(l=>{let u=n.routes[l.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function R0(r){return[...new Set(r)]}function M0(r){let n={},i=Object.keys(r).sort();for(let l of i)n[l]=r[l];return n}function D0(r,n){let i=new Set;return new Set(n),r.reduce((l,u)=>{let d=JSON.stringify(M0(u));return i.has(d)||(i.add(d),l.push({key:d,link:u})),l},[])}function mv(){let r=x.useContext(Cs);return du(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function z0(){let r=x.useContext(mr);return du(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var fu=x.createContext(void 0);fu.displayName="FrameworkContext";function vv(){let r=x.useContext(fu);return du(r,"You must render this element inside a <HydratedRouter> element"),r}function U0(r,n){let i=x.useContext(fu),[l,u]=x.useState(!1),[d,h]=x.useState(!1),{onFocus:m,onBlur:v,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=n,w=x.useRef(null);x.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let E=O=>{O.forEach(D=>{h(D.isIntersecting)})},N=new IntersectionObserver(E,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[r]),x.useEffect(()=>{if(l){let E=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(E)}}},[l]);let j=()=>{u(!0)},S=()=>{u(!1),h(!1)};return i?r!=="intent"?[d,w,{}]:[d,w,{onFocus:ki(m,j),onBlur:ki(v,S),onMouseEnter:ki(p,j),onMouseLeave:ki(g,S),onTouchStart:ki(_,j)}]:[!1,w,{}]}function ki(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function L0({page:r,...n}){let{router:i}=mv(),l=x.useMemo(()=>av(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?x.createElement(q0,{page:r,matches:l,...n}):null}function B0(r){let{manifest:n,routeModules:i}=vv(),[l,u]=x.useState([]);return x.useEffect(()=>{let d=!1;return k0(r,n,i).then(h=>{d||u(h)}),()=>{d=!0}},[r,n,i]),l}function q0({page:r,matches:n,...i}){let l=ja(),{manifest:u,routeModules:d}=vv(),{basename:h}=mv(),{loaderData:m,matches:v}=z0(),p=x.useMemo(()=>Sm(r,n,v,u,l,"data"),[r,n,v,u,l]),g=x.useMemo(()=>Sm(r,n,v,u,l,"assets"),[r,n,v,u,l]),_=x.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let S=new Set,E=!1;if(n.forEach(O=>{let D=u.routes[O.route.id];!D||!D.hasLoader||(!p.some(M=>M.route.id===O.route.id)&&O.route.id in m&&d[O.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:S.add(O.route.id))}),S.size===0)return[];let N=C0(r,h,"data");return E&&S.size>0&&N.searchParams.set("_routes",n.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[h,m,l,u,p,n,r,d]),w=x.useMemo(()=>O0(g,u),[g,u]),j=B0(g);return x.createElement(x.Fragment,null,_.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...i})),w.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...i})),j.map(({key:S,link:E})=>x.createElement("link",{key:S,nonce:i.nonce,...E})))}function $0(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pv&&(window.__reactRouterVersion="7.8.2")}catch{}function H0({basename:r,children:n,window:i}){let l=x.useRef();l.current==null&&(l.current=Ty({window:i,v5Compat:!0}));let u=l.current,[d,h]=x.useState({action:u.action,location:u.location}),m=x.useCallback(v=>{x.startTransition(()=>h(v))},[h]);return x.useLayoutEffect(()=>u.listen(m),[u,m]),x.createElement(p0,{basename:r,children:n,location:d.location,navigationType:d.action,navigator:u})}var gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yv=x.forwardRef(function({onClick:n,discover:i="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:m,target:v,to:p,preventScrollReset:g,viewTransition:_,...w},j){let{basename:S}=x.useContext(ea),E=typeof p=="string"&&gv.test(p),N,O=!1;if(typeof p=="string"&&E&&(N=p,pv))try{let W=new URL(window.location.href),me=p.startsWith("//")?new URL(W.protocol+p):new URL(p),ae=wa(me.pathname,S);me.origin===W.origin&&ae!=null?p=ae+me.search+me.hash:O=!0}catch{It(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=t0(p,{relative:u}),[M,H,Q]=U0(l,w),A=Y0(p,{replace:h,state:m,target:v,preventScrollReset:g,relative:u,viewTransition:_});function q(W){n&&n(W),W.defaultPrevented||A(W)}let J=x.createElement("a",{...w,...Q,href:N||D,onClick:O||d?n:q,ref:$0(j,H),target:v,"data-discover":!E&&i==="render"?"true":void 0});return M&&!E?x.createElement(x.Fragment,null,J,x.createElement(L0,{page:D})):J});yv.displayName="Link";var P0=x.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:l="",end:u=!1,style:d,to:h,viewTransition:m,children:v,...p},g){let _=qi(h,{relative:p.relative}),w=ja(),j=x.useContext(mr),{navigator:S,basename:E}=x.useContext(ea),N=j!=null&&J0(_)&&m===!0,O=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,D=w.pathname,M=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(D=D.toLowerCase(),M=M?M.toLowerCase():null,O=O.toLowerCase()),M&&E&&(M=wa(M,E)||M);const H=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Q=D===O||!u&&D.startsWith(O)&&D.charAt(H)==="/",A=M!=null&&(M===O||!u&&M.startsWith(O)&&M.charAt(O.length)==="/"),q={isActive:Q,isPending:A,isTransitioning:N},J=Q?n:void 0,W;typeof l=="function"?W=l(q):W=[l,Q?"active":null,A?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let me=typeof d=="function"?d(q):d;return x.createElement(yv,{...p,"aria-current":J,className:W,ref:g,style:me,to:h,viewTransition:m},typeof v=="function"?v(q):v)});P0.displayName="NavLink";var G0=x.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:l,replace:u,state:d,method:h=cr,action:m,onSubmit:v,relative:p,preventScrollReset:g,viewTransition:_,...w},j)=>{let S=X0(),E=Z0(m,{relative:p}),N=h.toLowerCase()==="get"?"get":"post",O=typeof m=="string"&&gv.test(m),D=M=>{if(v&&v(M),M.defaultPrevented)return;M.preventDefault();let H=M.nativeEvent.submitter,Q=H?.getAttribute("formmethod")||h;S(H||M.currentTarget,{fetcherKey:n,method:Q,navigate:i,replace:u,state:d,relative:p,preventScrollReset:g,viewTransition:_})};return x.createElement("form",{ref:j,method:N,action:E,onSubmit:l?v:D,...w,"data-discover":!O&&r==="render"?"true":void 0})});G0.displayName="Form";function V0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bv(r){let n=x.useContext(Cs);return He(n,V0(r)),n}function Y0(r,{target:n,replace:i,state:l,preventScrollReset:u,relative:d,viewTransition:h}={}){let m=mt(),v=ja(),p=qi(r,{relative:d});return x.useCallback(g=>{if(w0(g,n)){g.preventDefault();let _=i!==void 0?i:zi(v)===zi(p);m(r,{replace:_,state:l,preventScrollReset:u,relative:d,viewTransition:h})}},[v,m,p,i,l,n,r,u,d,h])}function I0(r){It(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=x.useRef(Xc(r)),i=x.useRef(!1),l=ja(),u=x.useMemo(()=>j0(l.search,i.current?null:n.current),[l.search]),d=mt(),h=x.useCallback((m,v)=>{const p=Xc(typeof m=="function"?m(new URLSearchParams(u)):m);i.current=!0,d("?"+p,v)},[d,u]);return[u,h]}var K0=0,Q0=()=>`__${String(++K0)}__`;function X0(){let{router:r}=bv("useSubmit"),{basename:n}=x.useContext(ea),i=f0();return x.useCallback(async(l,u={})=>{let{action:d,method:h,encType:m,formData:v,body:p}=E0(l,n);if(u.navigate===!1){let g=u.fetcherKey||Q0();await r.fetch(g,i,u.action||d,{preventScrollReset:u.preventScrollReset,formData:v,body:p,formMethod:u.method||h,formEncType:u.encType||m,flushSync:u.flushSync})}else await r.navigate(u.action||d,{preventScrollReset:u.preventScrollReset,formData:v,body:p,formMethod:u.method||h,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,n,i])}function Z0(r,{relative:n}={}){let{basename:i}=x.useContext(ea),l=x.useContext(ta);He(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),d={...qi(r||".",{relative:n})},h=ja();if(r==null){d.search=h.search;let m=new URLSearchParams(d.search),v=m.getAll("index");if(v.some(g=>g==="")){m.delete("index"),v.filter(_=>_).forEach(_=>m.append("index",_));let g=m.toString();d.search=g?`?${g}`:""}}return(!r||r===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:_a([i,d.pathname])),zi(d)}function J0(r,{relative:n}={}){let i=x.useContext(ov);He(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=bv("useViewTransitionState"),u=qi(r,{relative:n});if(!i.isTransitioning)return!1;let d=wa(i.currentLocation.pathname,l)||i.currentLocation.pathname,h=wa(i.nextLocation.pathname,l)||i.nextLocation.pathname;return dr(u.pathname,h)!=null||dr(u.pathname,d)!=null}const F0="modulepreload",W0=function(r){return"/Skunk/"+r},Nm={},Kt=function(n,i,l){let u=Promise.resolve();if(i&&i.length>0){let v=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");u=v(i.map(p=>{if(p=W0(p),p in Nm)return;Nm[p]=!0;const g=p.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":F0,g||(w.as="script"),w.crossOrigin="",w.href=p,m&&w.setAttribute("nonce",m),document.head.appendChild(w),g)return new Promise((j,S)=>{w.addEventListener("load",j),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return u.then(h=>{for(const m of h||[])m.status==="rejected"&&d(m.reason);return n().catch(d)})},Em=["Milano","Roma","Torino","Napoli","Bologna","Firenze","Venezia","Palermo","Genova","Bari"];function Cm({value:r,onChange:n,onKeyPress:i}){const[l,u]=x.useState(!1),[d,h]=x.useState(r),m=Em.filter(w=>w.toLowerCase().includes(d.toLowerCase())),v=w=>{const j=w.target.value;h(j),n(j),u(j.length>0&&m.length>0)},p=w=>{h(w),n(w),u(!1)},g=()=>{u(d.length===0||m.length>0)},_=()=>{setTimeout(()=>u(!1),200)};return o.jsxs("div",{className:"location-select",children:[o.jsx("input",{type:"text",className:"location-input",placeholder:"Citt",value:d,onChange:v,onFocus:g,onBlur:_,onKeyPress:i}),l&&o.jsx("div",{className:"location-dropdown",children:m.length>0?m.map(w=>o.jsx("div",{className:"location-option",onClick:()=>p(w),children:w},w)):d.length>0?o.jsx("div",{className:"location-option disabled",children:"Nessuna citt trovata"}):Em.map(w=>o.jsx("div",{className:"location-option",onClick:()=>p(w),children:w},w))})]})}const eb=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...i)=>Kt(async()=>{const{default:l}=await Promise.resolve().then(()=>Ts);return{default:l}},[]).then(({default:l})=>l(...i)):n=fetch,(...i)=>n(...i)};class hu extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class tb extends hu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Tm extends hu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Am extends hu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Zc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Zc||(Zc={}));var ab=function(r,n,i,l){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(g){try{p(l.next(g))}catch(_){h(_)}}function v(g){try{p(l.throw(g))}catch(_){h(_)}}function p(g){g.done?d(g.value):u(g.value).then(m,v)}p((l=l.apply(r,n||[])).next())})};class nb{constructor(n,{headers:i={},customFetch:l,region:u=Zc.Any}={}){this.url=n,this.headers=i,this.region=u,this.fetch=eb(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,i={}){var l;return ab(this,void 0,void 0,function*(){try{const{headers:u,method:d,body:h}=i;let m={},{region:v}=i;v||(v=this.region);const p=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,p.searchParams.set("forceFunctionRegion",v));let g;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=h):typeof h=="string"?(m["Content-Type"]="text/plain",g=h):typeof FormData<"u"&&h instanceof FormData?g=h:(m["Content-Type"]="application/json",g=JSON.stringify(h)));const _=yield this.fetch(p.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:g}).catch(E=>{throw new tb(E)}),w=_.headers.get("x-relay-error");if(w&&w==="true")throw new Tm(_);if(!_.ok)throw new Am(_);let j=((l=_.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),S;return j==="application/json"?S=yield _.json():j==="application/octet-stream"?S=yield _.blob():j==="text/event-stream"?S=_:j==="multipart/form-data"?S=yield _.formData():S=yield _.text(),{data:S,error:null,response:_}}catch(u){return{data:null,error:u,response:u instanceof Am||u instanceof Tm?u.context:void 0}}})}}var st={},hs={},ms={},vs={},ps={},gs={},sb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ns=sb();const ib=Ns.fetch,_v=Ns.fetch.bind(Ns),xv=Ns.Headers,lb=Ns.Request,rb=Ns.Response,Ts=Object.freeze(Object.defineProperty({__proto__:null,Headers:xv,Request:lb,Response:rb,default:_v,fetch:ib},Symbol.toStringTag,{value:"Module"})),ob=gy(Ts);var nr={},km;function wv(){if(km)return nr;km=1,Object.defineProperty(nr,"__esModule",{value:!0});class r extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return nr.default=r,nr}var Om;function jv(){if(Om)return gs;Om=1;var r=gs&&gs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(gs,"__esModule",{value:!0});const n=r(ob),i=r(wv());class l{constructor(d){var h,m;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(m=d.isMaybeSingle)!==null&&m!==void 0?m:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let v=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,_,w,j;let S=null,E=null,N=null,O=p.status,D=p.statusText;if(p.ok){if(this.method!=="HEAD"){const A=await p.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?E=A:E=JSON.parse(A))}const H=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),Q=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");H&&Q&&Q.length>1&&(N=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,N=null,O=406,D="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const H=await p.text();try{S=JSON.parse(H),Array.isArray(S)&&p.status===404&&(E=[],S=null,O=200,D="OK")}catch{p.status===404&&H===""?(O=204,D="No Content"):S={message:H}}if(S&&this.isMaybeSingle&&(!((j=S?.details)===null||j===void 0)&&j.includes("0 rows"))&&(S=null,O=200,D="OK"),S&&this.shouldThrowOnError)throw new i.default(S)}return{error:S,data:E,count:N,status:O,statusText:D}});return this.shouldThrowOnError||(v=v.catch(p=>{var g,_,w;return{error:{message:`${(g=p?.name)!==null&&g!==void 0?g:"FetchError"}: ${p?.message}`,details:`${(_=p?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(w=p?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),v.then(d,h)}returns(){return this}overrideTypes(){return this}}return gs.default=l,gs}var Rm;function Sv(){if(Rm)return ps;Rm=1;var r=ps&&ps.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ps,"__esModule",{value:!0});const n=r(jv());class i extends n.default{select(u){let d=!1;const h=(u??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:h,foreignTable:m,referencedTable:v=m}={}){const p=v?`${v}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${u}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${u}`),this}range(u,d,{foreignTable:h,referencedTable:m=h}={}){const v=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(v,`${u}`),this.url.searchParams.set(p,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:h=!1,buffers:m=!1,wal:v=!1,format:p="text"}={}){var g;const _=[u?"analyze":null,d?"verbose":null,h?"settings":null,m?"buffers":null,v?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return ps.default=i,ps}var Mm;function mu(){if(Mm)return vs;Mm=1;var r=vs&&vs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(vs,"__esModule",{value:!0});const n=r(Sv());class i extends n.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const h=Array.from(new Set(d)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:h,type:m}={}){let v="";m==="plain"?v="pl":m==="phrase"?v="ph":m==="websearch"&&(v="w");const p=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${v}fts${p}.${d}`),this}match(u){return Object.entries(u).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(u,d,h){return this.url.searchParams.append(u,`not.${d}.${h}`),this}or(u,{foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,d,h){return this.url.searchParams.append(u,`${d}.${h}`),this}}return vs.default=i,vs}var Dm;function Nv(){if(Dm)return ms;Dm=1;var r=ms&&ms.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ms,"__esModule",{value:!0});const n=r(mu());class i{constructor(u,{headers:d={},schema:h,fetch:m}){this.url=u,this.headers=new Headers(d),this.schema=h,this.fetch=m}select(u,{head:d=!1,count:h}={}){const m=d?"HEAD":"GET";let v=!1;const p=(u??"*").split("").map(g=>/\s/.test(g)&&!v?"":(g==='"'&&(v=!v),g)).join("");return this.url.searchParams.set("select",p),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:h=!0}={}){var m;const v="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const p=u.reduce((g,_)=>g.concat(Object.keys(_)),[]);if(p.length>0){const g=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",g.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:h=!1,count:m,defaultToNull:v=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const _=u.reduce((w,j)=>w.concat(Object.keys(j)),[]);if(_.length>0){const w=[...new Set(_)].map(j=>`"${j}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(u,{count:d}={}){var h;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var d;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return ms.default=i,ms}var zm;function cb(){if(zm)return hs;zm=1;var r=hs&&hs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(hs,"__esModule",{value:!0});const n=r(Nv()),i=r(mu());class l{constructor(d,{headers:h={},schema:m,fetch:v}={}){this.url=d,this.headers=new Headers(h),this.schemaName=m,this.fetch=v}from(d){const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:v=!1,count:p}={}){var g;let _;const w=new URL(`${this.url}/rpc/${d}`);let j;m||v?(_=m?"HEAD":"GET",Object.entries(h).filter(([E,N])=>N!==void 0).map(([E,N])=>[E,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([E,N])=>{w.searchParams.append(E,N)})):(_="POST",j=h);const S=new Headers(this.headers);return p&&S.set("Prefer",`count=${p}`),new i.default({method:_,url:w,headers:S,schema:this.schemaName,body:j,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return hs.default=l,hs}var Um;function ub(){if(Um)return st;Um=1;var r=st&&st.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(st,"__esModule",{value:!0}),st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const n=r(cb());st.PostgrestClient=n.default;const i=r(Nv());st.PostgrestQueryBuilder=i.default;const l=r(mu());st.PostgrestFilterBuilder=l.default;const u=r(Sv());st.PostgrestTransformBuilder=u.default;const d=r(jv());st.PostgrestBuilder=d.default;const h=r(wv());return st.PostgrestError=h.default,st.default={PostgrestClient:n.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:h.default},st}var db=ub();const fb=py(db),{PostgrestClient:hb,PostgrestQueryBuilder:Bx,PostgrestFilterBuilder:qx,PostgrestTransformBuilder:$x,PostgrestBuilder:Hx,PostgrestError:Px}=fb;class mb{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const i=parseInt(process.versions.node.split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const vb="2.15.1",pb=`realtime-js/${vb}`,gb="1.0.0",Jc=1e4,yb=1e3,bb=100;var Ri;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ri||(Ri={}));var Fe;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Fe||(Fe={}));var Vt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Vt||(Vt={}));var Fc;(function(r){r.websocket="websocket"})(Fc||(Fc={}));var wn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(wn||(wn={}));class _b{constructor(){this.HEADER_LENGTH=1}decode(n,i){return n.constructor===ArrayBuffer?i(this._binaryDecode(n)):i(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const i=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,i,l)}_decodeBroadcast(n,i,l){const u=i.getUint8(1),d=i.getUint8(2);let h=this.HEADER_LENGTH+2;const m=l.decode(n.slice(h,h+u));h=h+u;const v=l.decode(n.slice(h,h+d));h=h+d;const p=JSON.parse(l.decode(n.slice(h,n.byteLength)));return{ref:null,topic:m,event:v,payload:p}}}class Ev{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Le||(Le={}));const Lm=(r,n,i={})=>{var l;const u=(l=i.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(n).reduce((d,h)=>(d[h]=xb(h,r,n,u),d),{})},xb=(r,n,i,l)=>{const u=n.find(m=>m.name===r),d=u?.type,h=i[r];return d&&!l.includes(d)?Cv(d,h):Wc(h)},Cv=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return Nb(n,i)}switch(r){case Le.bool:return wb(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return jb(n);case Le.json:case Le.jsonb:return Sb(n);case Le.timestamp:return Eb(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Wc(n);default:return Wc(n)}},Wc=r=>r,wb=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},jb=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},Sb=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(n){return console.log(`JSON parse error: ${n}`),r}return r},Nb=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let d;const h=r.slice(1,i);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>Cv(n,m))}return r},Eb=r=>typeof r=="string"?r.replace(" ","T"):r,Tv=r=>{let n=r;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class qc{constructor(n,i,l={},u=Jc){this.channel=n,this.event=i,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Bm;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Bm||(Bm={}));class Mi{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mi.syncState(this.state,u,d,h),this.pendingDiffs.forEach(v=>{this.state=Mi.syncDiff(this.state,v,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Mi.syncDiff(this.state,u,d,h),m())}),this.onJoin((u,d,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:h})}),this.onLeave((u,d,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,u){const d=this.cloneDeep(n),h=this.transformState(i),m={},v={};return this.map(d,(p,g)=>{h[p]||(v[p]=g)}),this.map(h,(p,g)=>{const _=d[p];if(_){const w=g.map(N=>N.presence_ref),j=_.map(N=>N.presence_ref),S=g.filter(N=>j.indexOf(N.presence_ref)<0),E=_.filter(N=>w.indexOf(N.presence_ref)<0);S.length>0&&(m[p]=S),E.length>0&&(v[p]=E)}else m[p]=g}),this.syncDiff(d,{joins:m,leaves:v},l,u)}static syncDiff(n,i,l,u){const{joins:d,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(m,v)=>{var p;const g=(p=n[m])!==null&&p!==void 0?p:[];if(n[m]=this.cloneDeep(v),g.length>0){const _=n[m].map(j=>j.presence_ref),w=g.filter(j=>_.indexOf(j.presence_ref)<0);n[m].unshift(...w)}l(m,g,v)}),this.map(h,(m,v)=>{let p=n[m];if(!p)return;const g=v.map(_=>_.presence_ref);p=p.filter(_=>g.indexOf(_.presence_ref)<0),n[m]=p,u(m,p,v),p.length===0&&delete n[m]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const u=n[l];return"metas"in u?i[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=u,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(qm||(qm={}));var Di;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Di||(Di={}));var ba;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ba||(ba={}));class vu{constructor(n,i={config:{}},l){this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new qc(this,Vt.join,this.params,this.timeout),this.rejoinTimer=new Ev(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vt.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Mi(this),this.broadcastEndpointURL=Tv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,i=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:d,presence:h,private:m}}=this.params,v=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&u!==void 0?u:[],p=!!this.bindings[Di.PRESENCE]&&this.bindings[Di.PRESENCE].length>0,g={},_={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(ba.CHANNEL_ERROR,w)),this._onClose(()=>n?.(ba.CLOSED)),this.updateJoinPayload(Object.assign({config:_},g)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket.setAuth(),w===void 0){n?.(ba.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(j=S?.length)!==null&&j!==void 0?j:0,N=[];for(let O=0;O<E;O++){const D=S[O],{filter:{event:M,schema:H,table:Q,filter:A}}=D,q=w&&w[O];if(q&&q.event===M&&q.schema===H&&q.table===Q&&q.filter===A)N.push(Object.assign(Object.assign({},D),{id:q.id}));else{this.unsubscribe(),this.state=Fe.errored,n?.(ba.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,n&&n(ba.SUBSCRIBED);return}}).receive("error",w=>{this.state=Fe.errored,n?.(ba.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(ba.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===Fe.joined&&n===Di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,i,l)}async send(n,i={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){const{event:d,payload:h}=n,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,v;const p=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||v===void 0)&&v.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Fe.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new qc(this,Vt.leave,{},n),l.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(d),h}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new qc(this,n,i,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>bb){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var u,d;const h=n.toLocaleLowerCase(),{close:m,error:v,leave:p,join:g}=Vt;if(l&&[m,v,p,g].indexOf(h)>=0&&l!==this._joinRef())return;let w=this._onMessage(h,i,l);if(i&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(j=>{var S,E,N;return((S=j.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(E=j.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(j=>j.callback(w,l)):(d=this.bindings[h])===null||d===void 0||d.filter(j=>{var S,E,N,O,D,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const H=j.id,Q=(S=j.filter)===null||S===void 0?void 0:S.event;return H&&((E=i.ids)===null||E===void 0?void 0:E.includes(H))&&(Q==="*"||Q?.toLocaleLowerCase()===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const H=(D=(O=j?.filter)===null||O===void 0?void 0:O.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return H==="*"||H===((M=i?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:E,table:N,commit_timestamp:O,type:D,errors:M}=S;w=Object.assign(Object.assign({},{schema:E,table:N,commit_timestamp:O,eventType:D,new:{},old:{},errors:M}),this._getPayloadRecords(S))}j.callback(w,l)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const u=n.toLocaleLowerCase(),d={type:u,filter:i,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&vu.isEqual(u.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Vt.close,{},n)}_onError(n){this._on(Vt.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Lm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Lm(n.columns,n.old_record)),i}}const $m=()=>{},sr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cb=[1e3,2e3,5e3,1e4],Tb=1e4,Ab=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kb{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jc,this.transport=null,this.heartbeatIntervalMs=sr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$m,this.ref=0,this.reconnectTimer=null,this.logger=$m,this.conn=null,this.sendBuffer=[],this.serializer=new _b,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...h)=>Kt(async()=>{const{default:m}=await Promise.resolve().then(()=>Ts);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Fc.websocket}`,this.httpEndpoint=Tv(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mb.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gb}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},n?this.conn.close(n,i??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ri.connecting:return wn.Connecting;case Ri.open:return wn.Open;case Ri.closing:return wn.Closing;default:return wn.Closed}}isConnected(){return this.connectionState()===wn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new vu(`realtime:${n}`,i,this);return this.channels.push(d),d}}push(n){const{topic:i,event:l,payload:u,ref:d}=n,h=()=>{this.encode(n,m=>{var v;(v=this.conn)===null||v===void 0||v.send(m)})};this.log("push",`${i} ${l} (${d})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(yb,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},sr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{i.topic==="phoenix"&&i.event==="phx_reply"&&this.heartbeatCallback(i.payload.status==="ok"?"ok":"error"),i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:d,ref:h}=i,m=h?`(${h})`:"",v=d.status||"";this.log("receive",`${v} ${l} ${u} ${m}`.trim(),d),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,d,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Vt.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${n}${l}${u}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([Ab],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i;n?i=n:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(l=>{const u={access_token:i,version:pb};i&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Vt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Ev(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,u,d,h,m,v,p;if(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Jc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:sr.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n?.reconnectAfterMs)!==null&&m!==void 0?m:(g=>Cb[g-1]||Tb),this.encode=(v=n?.encode)!==null&&v!==void 0?v:((g,_)=>_(JSON.stringify(g))),this.decode=(p=n?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class pu extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function We(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Ob extends pu{constructor(n,i,l){super(n),this.name="StorageApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eu extends pu{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}var Rb=function(r,n,i,l){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(g){try{p(l.next(g))}catch(_){h(_)}}function v(g){try{p(l.throw(g))}catch(_){h(_)}}function p(g){g.done?d(g.value):u(g.value).then(m,v)}p((l=l.apply(r,n||[])).next())})};const Av=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...i)=>Kt(async()=>{const{default:l}=await Promise.resolve().then(()=>Ts);return{default:l}},void 0).then(({default:l})=>l(...i)):n=fetch,(...i)=>n(...i)},Mb=()=>Rb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kt(()=>Promise.resolve().then(()=>Ts),void 0)).Response:Response}),tu=r=>{if(Array.isArray(r))return r.map(i=>tu(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,l])=>{const u=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=tu(l)}),n},Db=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Sn=function(r,n,i,l){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(g){try{p(l.next(g))}catch(_){h(_)}}function v(g){try{p(l.throw(g))}catch(_){h(_)}}function p(g){g.done?d(g.value):u(g.value).then(m,v)}p((l=l.apply(r,n||[])).next())})};const $c=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),zb=(r,n,i)=>Sn(void 0,void 0,void 0,function*(){const l=yield Mb();r instanceof l&&!i?.noResolveJson?r.json().then(u=>{const d=r.status||500,h=u?.statusCode||d+"";n(new Ob($c(u),d,h))}).catch(u=>{n(new eu($c(u),u))}):n(new eu($c(r),r))}),Ub=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"||!l?u:(Db(l)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),i))};function $i(r,n,i,l,u,d){return Sn(this,void 0,void 0,function*(){return new Promise((h,m)=>{r(i,Ub(n,l,u,d)).then(v=>{if(!v.ok)throw v;return l?.noResolveJson?v:v.json()}).then(v=>h(v)).catch(v=>zb(v,m,l))})})}function fr(r,n,i,l){return Sn(this,void 0,void 0,function*(){return $i(r,"GET",n,i,l)})}function Wt(r,n,i,l,u){return Sn(this,void 0,void 0,function*(){return $i(r,"POST",n,l,u,i)})}function au(r,n,i,l,u){return Sn(this,void 0,void 0,function*(){return $i(r,"PUT",n,l,u,i)})}function Lb(r,n,i,l){return Sn(this,void 0,void 0,function*(){return $i(r,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),l)})}function kv(r,n,i,l,u){return Sn(this,void 0,void 0,function*(){return $i(r,"DELETE",n,l,u,i)})}var ft=function(r,n,i,l){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(g){try{p(l.next(g))}catch(_){h(_)}}function v(g){try{p(l.throw(g))}catch(_){h(_)}}function p(g){g.done?d(g.value):u(g.value).then(m,v)}p((l=l.apply(r,n||[])).next())})};const Bb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qb{constructor(n,i={},l,u){this.url=n,this.headers=i,this.bucketId=l,this.fetch=Av(u)}uploadOrUpdate(n,i,l,u){return ft(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Hm),u);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const v=h.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),v&&d.append("metadata",this.encodeMetadata(v)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",h.cacheControl),v&&d.append("metadata",this.encodeMetadata(v))):(d=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,v&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),u?.headers&&(m=Object.assign(Object.assign({},m),u.headers));const p=this._removeEmptyFolders(i),g=this._getFinalPath(p),_=yield(n=="PUT"?au:Wt)(this.fetch,`${this.url}/object/${g}`,d,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(d){if(We(d))return{data:null,error:d};throw d}})}upload(n,i,l){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,l)})}uploadToSignedUrl(n,i,l,u){return ft(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",i);try{let v;const p=Object.assign({upsert:Hm.upsert},u),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(v=new FormData,v.append("cacheControl",p.cacheControl),v.append("",l)):typeof FormData<"u"&&l instanceof FormData?(v=l,v.append("cacheControl",p.cacheControl)):(v=l,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const _=yield au(this.fetch,m.toString(),v,{headers:g});return{data:{path:d,fullPath:_.Key},error:null}}catch(v){if(We(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(n,i){return ft(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const u=Object.assign({},this.headers);i?.upsert&&(u["x-upsert"]="true");const d=yield Wt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),h=new URL(this.url+d.url),m=h.searchParams.get("token");if(!m)throw new pu("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}update(n,i,l){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,l)})}move(n,i,l){return ft(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}copy(n,i,l){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}createSignedUrl(n,i,l){return ft(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),d=yield Wt(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:i},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}createSignedUrls(n,i,l){return ft(this,void 0,void 0,function*(){try{const u=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}download(n,i){return ft(this,void 0,void 0,function*(){const u=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),h=d?`?${d}`:"";try{const m=this._getFinalPath(n);return{data:yield(yield fr(this.fetch,`${this.url}/${u}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(We(m))return{data:null,error:m};throw m}})}info(n){return ft(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const l=yield fr(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:tu(l),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}exists(n){return ft(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield Lb(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(We(l)&&l instanceof eu){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,i){const l=this._getFinalPath(n),u=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&u.push(d);const m=typeof i?.transform<"u"?"render/image":"object",v=this.transformOptsToQueryString(i?.transform||{});v!==""&&u.push(v);let p=u.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${p}`)}}}remove(n){return ft(this,void 0,void 0,function*(){try{return{data:yield kv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}list(n,i,l){return ft(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Bb),i),{prefix:n||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}listV2(n,i){return ft(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield Wt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const $b="2.11.0",Hb={"X-Client-Info":`storage-js/${$b}`};var ys=function(r,n,i,l){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(g){try{p(l.next(g))}catch(_){h(_)}}function v(g){try{p(l.throw(g))}catch(_){h(_)}}function p(g){g.done?d(g.value):u(g.value).then(m,v)}p((l=l.apply(r,n||[])).next())})};class Pb{constructor(n,i={},l,u){const d=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},Hb),i),this.fetch=Av(l)}listBuckets(){return ys(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}getBucket(n){return ys(this,void 0,void 0,function*(){try{return{data:yield fr(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}createBucket(n,i={public:!1}){return ys(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}updateBucket(n,i){return ys(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}emptyBucket(n){return ys(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}deleteBucket(n){return ys(this,void 0,void 0,function*(){try{return{data:yield kv(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}}class Gb extends Pb{constructor(n,i={},l,u){super(n,i,l,u)}from(n){return new qb(this.url,this.headers,n,this.fetch)}}const Vb="2.56.0";let Oi="";typeof Deno<"u"?Oi="deno":typeof document<"u"?Oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oi="react-native":Oi="node";const Yb={"X-Client-Info":`supabase-js-${Oi}/${Vb}`},Ib={headers:Yb},Kb={schema:"public"},Qb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xb={};var Zb=function(r,n,i,l){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(g){try{p(l.next(g))}catch(_){h(_)}}function v(g){try{p(l.throw(g))}catch(_){h(_)}}function p(g){g.done?d(g.value):u(g.value).then(m,v)}p((l=l.apply(r,n||[])).next())})};const Jb=r=>{let n;return r?n=r:typeof fetch>"u"?n=_v:n=fetch,(...i)=>n(...i)},Fb=()=>typeof Headers>"u"?xv:Headers,Wb=(r,n,i)=>{const l=Jb(i),u=Fb();return(d,h)=>Zb(void 0,void 0,void 0,function*(){var m;const v=(m=yield n())!==null&&m!==void 0?m:r;let p=new u(h?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${v}`),l(d,Object.assign(Object.assign({},h),{headers:p}))})};var e_=function(r,n,i,l){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(g){try{p(l.next(g))}catch(_){h(_)}}function v(g){try{p(l.throw(g))}catch(_){h(_)}}function p(g){g.done?d(g.value):u(g.value).then(m,v)}p((l=l.apply(r,n||[])).next())})};function t_(r){return r.endsWith("/")?r:r+"/"}function a_(r,n){var i,l;const{db:u,auth:d,realtime:h,global:m}=r,{db:v,auth:p,realtime:g,global:_}=n,w={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},p),d),realtime:Object.assign(Object.assign({},g),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(i=_?.headers)!==null&&i!==void 0?i:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>e_(this,void 0,void 0,function*(){return""})};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}const Ov="2.71.1",js=30*1e3,nu=3,Hc=nu*js,n_="http://localhost:9999",s_="supabase.auth.token",i_={"X-Client-Info":`gotrue-js/${Ov}`},su="X-Supabase-Api-Version",Rv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,r_=600*1e3;class gu extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function pe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class o_ extends gu{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function c_(r){return pe(r)&&r.name==="AuthApiError"}class Mv extends gu{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class Wa extends gu{constructor(n,i,l,u){super(n,l,u),this.name=i,this.status=l}}class Ja extends Wa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u_(r){return pe(r)&&r.name==="AuthSessionMissingError"}class ir extends Wa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends Wa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class rr extends Wa{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d_(r){return pe(r)&&r.name==="AuthImplicitGrantRedirectError"}class Pm extends Wa{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iu extends Wa{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Pc(r){return pe(r)&&r.name==="AuthRetryableFetchError"}class Gm extends Wa{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class lu extends Wa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const hr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vm=` 	
\r=`.split(""),f_=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Vm.length;n+=1)r[Vm[n].charCodeAt(0)]=-2;for(let n=0;n<hr.length;n+=1)r[hr[n].charCodeAt(0)]=n;return r})();function Ym(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(hr[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(hr[l]),n.queuedBits-=6}}function Dv(r,n,i){const l=f_[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Im(r){const n=[],i=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=h=>{v_(h,l,i)};for(let h=0;h<r.length;h+=1)Dv(r.charCodeAt(h),u,d);return n.join("")}function h_(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function m_(r,n){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}h_(l,n)}}function v_(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function p_(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<r.length;u+=1)Dv(r.charCodeAt(u),i,l);return new Uint8Array(n)}function g_(r){const n=[];return m_(r,i=>n.push(i)),new Uint8Array(n)}function y_(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};return r.forEach(u=>Ym(u,i,l)),Ym(null,i,l),n.join("")}function b_(r){return Math.round(Date.now()/1e3)+r}function __(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const n=Math.random()*16|0;return(r=="x"?n:n&3|8).toString(16)})}const Gt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},zv=()=>{if(!Gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function x_(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return i.searchParams.forEach((l,u)=>{n[u]=l}),n}const Uv=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...i)=>Kt(async()=>{const{default:l}=await Promise.resolve().then(()=>Ts);return{default:l}},void 0).then(({default:l})=>l(...i)):n=fetch,(...i)=>n(...i)},w_=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ss=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},_n=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Za=async(r,n)=>{await r.removeItem(n)};class pr{constructor(){this.promise=new pr.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}pr.promiseConstructor=Promise;function Gc(r){const n=r.split(".");if(n.length!==3)throw new lu("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!l_.test(n[l]))throw new lu("JWT not in base64url format");return{header:JSON.parse(Im(n[0])),payload:JSON.parse(Im(n[1])),signature:p_(n[2]),raw:{header:n[0],payload:n[1]}}}async function j_(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function S_(r,n){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await r(d);if(!n(d,null,h)){l(h);return}}catch(h){if(!n(d,h)){u(h);return}}})()})}function N_(r){return("0"+r.toString(16)).substr(-2)}function E_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let u="";for(let d=0;d<56;d++)u+=i.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,N_).join("")}async function C_(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function T_(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await C_(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bs(r,n,i=!1){const l=E_();let u=l;i&&(u+="/PASSWORD_RECOVERY"),await Ss(r,`${n}-code-verifier`,u);const d=await T_(l);return[d,l===d?"plain":"s256"]}const A_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k_(r){const n=r.headers.get(su);if(!n||!n.match(A_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function O_(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function R_(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _s(r){if(!M_.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vc(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Km(r){return JSON.parse(JSON.stringify(r))}var D_=function(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(i[l[u]]=r[l[u]]);return i};const xn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),z_=[502,503,504];async function Qm(r){var n;if(!w_(r))throw new iu(xn(r),0);if(z_.includes(r.status))throw new iu(xn(r),r.status);let i;try{i=await r.json()}catch(d){throw new Mv(xn(d),d)}let l;const u=k_(r);if(u&&u.getTime()>=Rv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Gm(xn(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Ja}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Gm(xn(i),r.status,i.weak_password.reasons);throw new o_(xn(i),r.status||500,l)}const U_=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),i))};async function je(r,n,i,l){var u;const d=Object.assign({},l?.headers);d[su]||(d[su]=Rv["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const h=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",v=await L_(r,n,i+m,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(v):{data:Object.assign({},v),error:null}}async function L_(r,n,i,l,u,d){const h=U_(n,l,u,d);let m;try{m=await r(i,Object.assign({},h))}catch(v){throw console.error(v),new iu(xn(v),0)}if(m.ok||await Qm(m),l?.noResolveJson)return m;try{return await m.json()}catch(v){await Qm(v)}}function ya(r){var n;let i=null;H_(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=b_(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:l},error:null}}function Xm(r){const n=ya(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function Fa(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function B_(r){return{data:r,error:null}}function q_(r){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d}=r,h=D_(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d},v=Object.assign({},h);return{data:{properties:m,user:v},error:null}}function $_(r){return r}function H_(r){return r.access_token&&r.refresh_token&&r.expires_in}const Yc=["global","local","others"];var P_=function(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(i[l[u]]=r[l[u]]);return i};class G_{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=Uv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,i=Yc[0]){if(Yc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yc.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Fa})}catch(l){if(pe(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=P_(n,["options"]),u=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:q_,redirectTo:i?.redirectTo})}catch(i){if(pe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Fa})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,u,d,h,m,v;try{const p={nextPage:null,lastPage:0,total:0},g=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:$_});if(g.error)throw g.error;const _=await g.json(),w=(h=g.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(v=(m=g.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return j.length>0&&(j.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);p[`${N}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(pe(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){_s(n);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Fa})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){_s(n);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Fa})}catch(l){if(pe(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){_s(n);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Fa})}catch(l){if(pe(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){_s(n.userId);try{const{data:i,error:l}=await je(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:l}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteFactor(n){_s(n.userId),_s(n.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}}function Zm(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}function V_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xs={debug:!!(globalThis&&zv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Y_ extends Lv{}async function I_(r,n,i){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await i()}finally{xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(n===0)throw xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Y_(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(xs.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}V_();const K_={url:n_,storageKey:s_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jm(r,n,i){return await i()}const ws={};class Ui{constructor(n){var i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ui.nextInstanceID,Ui.nextInstanceID+=1,this.instanceID>0&&Gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},K_),n);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new G_({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Uv(u.fetch),this.lock=u.lock||Jm,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Gt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=I_:this.lock=Jm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:zv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zm(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Zm(this.memoryStorage)),Gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var n,i;return(i=(n=ws[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=ws[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ov}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const i=x_(window.location.href);let l="none";if(this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce"),Gt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),d_(d)){const v=(n=d.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return pe(i)?{error:i}:{error:new Mv("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,u;try{const d=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ya}),{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:p,session:v},error:null}}catch(d){if(pe(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(n){var i,l,u;try{let d;if("email"in n){const{email:g,password:_,options:w}=n;let j=null,S=null;this.flowType==="pkce"&&([j,S]=await bs(this.storage,this.storageKey)),d=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:_,data:(i=w?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:j,code_challenge_method:S},xform:ya})}else if("phone"in n){const{phone:g,password:_,options:w}=n;d=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ya})}else throw new lr("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:p,session:v},error:null}}catch(d){if(pe(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(n){try{let i;if("email"in n){const{email:d,password:h,options:m}=n;i=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Xm})}else if("phone"in n){const{phone:d,password:h,options:m}=n;i=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Xm})}else throw new lr("You must provide either an email or phone number and a password");const{data:l,error:u}=i;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ir}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(n){var i,l,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;if(i==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}async signInWithSolana(n){var i,l,u,d,h,m,v,p,g,_,w,j;let S,E;if("message"in n)S=n.message,E=n.signature;else{const{chain:N,wallet:O,statement:D,options:M}=n;let H;if(Gt())if(typeof O=="object")H=O;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))H=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=O}const Q=new URL((i=M?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in H&&H.signIn){const A=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),D?{statement:D}:null));let q;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")q=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)q=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)S=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),E=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${Q.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(u=(l=M?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=M?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((v=M?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((_=(g=M?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...M.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const A=await H.signMessage(new TextEncoder().encode(S),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=A}}try{const{data:N,error:O}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:y_(E)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ya});if(O)throw O;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new ir}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:O})}catch(N){if(pe(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(n){const i=await _n(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(i??"").split("/");try{const{data:d,error:h}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:ya});if(await Za(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new ir}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:h})}catch(d){if(pe(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(n){try{const{options:i,provider:l,token:u,access_token:d,nonce:h}=n,m=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ya}),{data:v,error:p}=m;return p?{data:{user:null,session:null},error:p}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new ir}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:p})}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(n){var i,l,u,d,h;try{if("email"in n){const{email:m,options:v}=n;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await bs(this.storage,this.storageKey));const{error:_}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=v?.data)!==null&&i!==void 0?i:{},create_user:(l=v?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:v?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in n){const{phone:m,options:v}=n,{data:p,error:g}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=v?.data)!==null&&u!==void 0?u:{},create_user:(d=v?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(h=v?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new lr("You must provide either an email or phone number.")}catch(m){if(pe(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var i,l;try{let u,d;"options"in n&&(u=(i=n.options)===null||i===void 0?void 0:i.redirectTo,d=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:ya});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const v=h.session,p=h.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:p,session:v},error:null}}catch(u){if(pe(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(n){var i,l,u;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await bs(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:B_})}catch(d){if(pe(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Ja;const{error:u}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:u}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:d}=n,{error:h}=await je(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:l,type:u,options:d}=n,{data:h,error:m}=await je(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new lr("You must provide either an email or phone number and a type")}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await _n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Hc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await _n(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Vc()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(v,p,g)=>(!h&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,p,g))})}return{data:{session:n},error:null}}const{session:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{session:null},error:d}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Fa}):await this._useSession(async i=>{var l,u,d;const{data:h,error:m}=i;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ja}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Fa})})}catch(i){if(pe(i))return u_(i)&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new Ja;const h=u.session;let m=null,v=null;this.flowType==="pkce"&&n.email!=null&&([m,v]=await bs(this.storage,this.storageKey));const{data:p,error:g}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:v}),jwt:h.access_token,xform:Fa});if(g)throw g;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(l){if(pe(l))return{data:{user:null},error:l};throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ja;const i=Date.now()/1e3;let l=i,u=!0,d=null;const{payload:h}=Gc(n.access_token);if(h.exp&&(l=h.exp,u=l<=i),u){const{session:m,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:v}=await this._getUser(n.access_token);if(v)throw v;d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(i){if(pe(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:h,error:m}=i;if(m)throw m;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Ja;const{session:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{user:null,session:null},error:d}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(n,i){try{if(!Gt())throw new rr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new rr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Pm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rr("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Pm("No code detected.");const{data:D,error:M}=await this._exchangeCodeForSession(n.code);if(M)throw M;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:h,expires_in:m,expires_at:v,token_type:p}=n;if(!d||!m||!h||!p)throw new rr("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(m);let w=g+_;v&&(w=parseInt(v));const j=w-g;j*1e3<=js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${_}s`);const S=w-_;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,g);const{data:E,error:N}=await this._getUser(d);if(N)throw N;const O={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:_,expires_at:w,refresh_token:h,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:n.type},error:null}}catch(l){if(pe(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await _n(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return{error:d};const h=(l=u.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(c_(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return n!=="others"&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const i=__(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,u;try{const{data:{session:d},error:h}=i;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,i={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await bs(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(pe(d))return{data:null,error:d};throw d}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async linkIdentity(n){var i;try{const{data:l,error:u}=await this._useSession(async d=>{var h,m,v,p,g;const{data:_,error:w}=d;if(w)throw w;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",j,{headers:this.headers,jwt:(g=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(u)throw u;return Gt()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:n.provider,url:l?.url},error:null}}catch(l){if(pe(l))return{data:{provider:n.provider,url:null},error:l};throw l}}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,u;const{data:d,error:h}=i;if(h)throw h;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await S_(async u=>(u>0&&await j_(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ya})),(u,d)=>{const h=200*Math.pow(2,u);return d&&Pc(d)&&Date.now()+h-l<js})}catch(l){if(this._debug(i,"error",l),pe(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),Gt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await _n(this.storage,this.storageKey);if(u&&this.userStorage){let h=await _n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Ss(this.userStorage,this.storageKey+"-user",h)),u.user=(n=h?.user)!==null&&n!==void 0?n:Vc()}else if(u&&!u.user&&!u.user){const h=await _n(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await Za(this.storage,this.storageKey+"-user"),await Ss(this.storage,this.storageKey,u)):u.user=Vc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Hc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Hc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Pc(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(u.access_token);!m&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new pr;const{data:d,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!d.session)throw new Ja;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={session:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(u,"error",d),pe(d)){const h={session:null,error:d};return Pc(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,i,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,i)}catch(v){d.push(v)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Ss(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const d=Km(u);await Ss(this.storage,this.storageKey,d)}else{const u=Km(i);await Ss(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Za(this.storage,this.storageKey),await Za(this.storage,this.storageKey+"-code-verifier"),await Za(this.storage,this.storageKey+"-user"),this.userStorage&&await Za(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),js);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${js}ms, refresh threshold is ${nu} ticks`),u<=nu&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Lv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const u=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,h]=await bs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(m.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;return d?{data:null,error:d}:await je(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,u;const{data:d,error:h}=i;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:v,error:p}=await je(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(n.factorType==="totp"&&(!((u=v?.totp)===null||u===void 0)&&u.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return{data:null,error:d};const{data:h,error:m}=await je(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(i){if(pe(i))return{data:null,error:i};throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;return d?{data:null,error:d}:await je(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(pe(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const l=n?.factors||[],u=l.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=l.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:l,totp:u,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var i,l;const{data:{session:u},error:d}=n;if(d)return{data:null,error:d};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Gc(u.access_token);let m=null;h.aal&&(m=h.aal);let v=m;((l=(i=u.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(v="aal2");const g=h.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(m=>m.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+r_>u)return l;const{data:d,error:h}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:j,error:S}=await this.getSession();if(S||!j.session)return{data:null,error:S};l=j.session.access_token}const{header:u,payload:d,signature:h,raw:{header:m,payload:v}}=Gc(l);i?.allowExpired||O_(d.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:j}=await this.getUser(l);if(j)throw j;return{data:{claims:d,header:u,signature:h},error:null}}const g=R_(u.alg),_=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,_,h,g_(`${m}.${v}`)))throw new lu("Invalid JWT signature");return{data:{claims:d,header:u,signature:h},error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}}}Ui.nextInstanceID=0;const Q_=Ui;class X_ extends Q_{constructor(n){super(n)}}var Z_=function(r,n,i,l){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function m(g){try{p(l.next(g))}catch(_){h(_)}}function v(g){try{p(l.throw(g))}catch(_){h(_)}}function p(g){g.done?d(g.value):u(g.value).then(m,v)}p((l=l.apply(r,n||[])).next())})};class J_{constructor(n,i,l){var u,d,h;if(this.supabaseUrl=n,this.supabaseKey=i,!n)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const m=t_(n),v=new URL(m);this.realtimeUrl=new URL("realtime/v1",v),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",v),this.storageUrl=new URL("storage/v1",v),this.functionsUrl=new URL("functions/v1",v);const p=`sb-${v.hostname.split(".")[0]}-auth-token`,g={db:Kb,realtime:Xb,auth:Object.assign(Object.assign({},Qb),{storageKey:p}),global:Ib},_=a_(l??{},g);this.storageKey=(u=_.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=_.global.headers)!==null&&d!==void 0?d:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(w,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=_.auth)!==null&&h!==void 0?h:{},this.headers,_.global.fetch),this.fetch=Wb(i,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new hb(new URL("rest/v1",v).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new Gb(this.storageUrl.href,this.headers,this.fetch,l?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new nb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},l={}){return this.rest.rpc(n,i,l)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,i;return Z_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:l,storage:u,storageKey:d,flowType:h,lock:m,debug:v},p,g){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new X_({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:d,autoRefreshToken:n,persistSession:i,detectSessionInUrl:l,storage:u,flowType:h,lock:m,debug:v,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new kb(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,l)=>{this._handleTokenChanged(i,"CLIENT",l?.access_token)})}_handleTokenChanged(n,i,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F_=(r,n,i)=>new J_(r,n,i);function W_(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}W_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ex="https://shzouqqrxebzrqtkynqg.supabase.co",tx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoem91cXFyeGVienJxdGt5bnFnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5NDc3MjksImV4cCI6MjA3MTUyMzcyOX0.vWu0hP3sQqVQCXwG1SsGadCnzCVy3DCgdgbemxFogWQ",ce=F_(ex,tx),Bv=x.createContext(void 0);function ax({children:r}){const[n,i]=x.useState(null),[l,u]=x.useState(null),[d,h]=x.useState(!0),m=async S=>{try{const{data:E}=await ce.from("profiles").select("*").eq("user_id",S).maybeSingle();return E}catch{return console.error("Error fetching profile"),null}};x.useEffect(()=>{let S=!0;const E=async D=>{if(S){if(i(D?.user??null),D?.user)try{const M=await m(D.user.id);S&&u(M)}catch{console.error("Error fetching user profile"),S&&u(null)}else u(null);S&&h(!1)}};ce.auth.getSession().then(({data:{session:D}})=>{E(D)}),(()=>{const D=new URLSearchParams(window.location.hash.substring(1)),M=D.get("error"),H=D.get("error_description");M&&H&&(console.error("Email confirmation error:",M,H),window.history.replaceState({},document.title,window.location.pathname))})();const{data:{subscription:O}}=ce.auth.onAuthStateChange((D,M)=>{E(M)});return()=>{S=!1,O.unsubscribe()}},[]);const j={user:n,profile:l,loading:d,signUp:async(S,E,N)=>{const{data:O,error:D}=await ce.auth.signUp({email:S,password:E,options:{data:{full_name:N||""}}});if(!D&&O.user)try{const{error:M}=await ce.from("profiles").insert([{user_id:O.user.id,email:S,full_name:N||null,profile_type:"client"}]);M&&console.error("Error creating profile:",M)}catch(M){console.error("Error inserting profile:",M)}return{error:D}},signIn:async(S,E)=>{try{const{error:N}=await ce.auth.signInWithPassword({email:S,password:E});return{error:N}}catch(N){return console.error("Network error during sign in:",N),{error:null}}},signInWithGoogle:async()=>{const{error:S}=await ce.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return{error:S}},signOut:async()=>{await ce.auth.signOut(),localStorage.removeItem("supabase.auth.token")},refreshProfile:async()=>{if(n?.id)try{const S=await m(n.id);u(S)}catch{console.error("Error refreshing user profile")}}};return o.jsx(Bv.Provider,{value:j,children:r})}function Ve(){const r=x.useContext(Bv);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function yu(r){const n=[];return r.length<8&&n.push("La password deve contenere almeno 8 caratteri"),/[A-Z]/.test(r)||n.push("La password deve contenere almeno una lettera maiuscola"),/[a-z]/.test(r)||n.push("La password deve contenere almeno una lettera minuscola"),/\d/.test(r)||n.push("La password deve contenere almeno un numero"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(r)||n.push("La password deve contenere almeno un carattere speciale"),{isValid:n.length===0,errors:n}}function Fm(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function qv({isOpen:r,onClose:n}){const{signIn:i,signUp:l,signInWithGoogle:u,loading:d}=Ve(),[h,m]=x.useState("login"),[v,p]=x.useState({email:"",password:"",confirmPassword:"",fullName:""}),[g,_]=x.useState({}),[w,j]=x.useState(!1),[S,E]=x.useState("");x.useEffect(()=>{r||(p({email:"",password:"",confirmPassword:"",fullName:""}),_({}),E(""),m("login"))},[r]),x.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),x.useEffect(()=>{const A=q=>{q.key==="Escape"&&n()};return r&&(document.addEventListener("keydown",A),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",A),document.body.style.overflow="unset"}},[r,n]);const N=()=>{const A={};if(v.email?Fm(v.email)||(A.email="Email non valida"):A.email="Email richiesta",!v.password)A.password=["Password richiesta"];else if(h==="register"){const q=yu(v.password);q.isValid||(A.password=q.errors)}return h==="register"&&(v.fullName.trim()||(A.fullName="Nome completo richiesto"),v.confirmPassword?v.password!==v.confirmPassword&&(A.confirmPassword="Le password non coincidono"):A.confirmPassword="Conferma password richiesta"),_(A),Object.keys(A).length===0},O=async A=>{if(A.preventDefault(),!(!N()||w)){j(!0),_({}),E("");try{if(h==="login"){const{error:q}=await i(v.email,v.password);q?q.message.includes("Invalid login credentials")?_({general:"Email o password non corretti"}):_({general:"Errore durante il login. Riprova."}):n()}else{const{error:q}=await l(v.email,v.password,v.fullName.trim());q?q.message.includes("User already registered")?_({email:"Questo indirizzo email  gi registrato"}):q.message.includes("Password should be at least 6 characters")?_({password:["La password deve essere di almeno 6 caratteri"]}):_({general:"Errore durante la registrazione. Riprova."}):(E("Account creato con successo! Controlla la tua email per confermare l'account."),p({email:"",password:"",confirmPassword:"",fullName:""}),setTimeout(()=>{m("login"),E("")},3e3))}}catch{_({general:"Errore imprevisto. Riprova."})}finally{j(!1)}}},D=async()=>{j(!0),_({});try{const{error:A}=await u();A?_({general:"Errore durante l'accesso con Google. Riprova."}):n()}catch{_({general:"Errore imprevisto. Riprova."})}finally{j(!1)}},M=async()=>{if(!v.email.trim()){_({email:"Inserisci la tua email per recuperare la password"});return}if(!Fm(v.email)){_({email:"Inserisci un indirizzo email valido"});return}j(!0),_({});try{const{error:A}=await ce.auth.resetPasswordForEmail(v.email,{redirectTo:`${window.location.origin}/reset-password`});A?_({general:"Errore durante l'invio dell'email di recupero. Riprova."}):E("Email di recupero inviata! Controlla la tua casella postale e segui le istruzioni per reimpostare la password.")}catch{_({general:"Errore imprevisto. Riprova."})}finally{j(!1)}},H=(A,q)=>{p(J=>({...J,[A]:q})),g[A]&&_(J=>{const W={...J};return delete W[A],W})},Q=A=>{A.target===A.currentTarget&&n()};return r?o.jsx("div",{className:"auth-overlay",onClick:Q,children:o.jsxs("div",{className:"auth-modal",children:[o.jsx("div",{className:"auth-header-sticky",children:o.jsx("button",{className:"auth-close-btn",onClick:n,children:""})}),o.jsxs("div",{className:"auth-modal-header",children:[o.jsxs("div",{className:"view-toggle",children:[o.jsx("button",{className:`toggle-btn ${h==="login"?"active":""}`,onClick:()=>m("login"),children:"Accedi"}),o.jsx("button",{className:`toggle-btn ${h==="register"?"active":""}`,onClick:()=>m("register"),children:"Registrati"})]}),o.jsx("div",{className:"auth-social",children:o.jsxs("button",{type:"button",className:"btn-google",onClick:D,disabled:w,children:[o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",className:"google-icon",children:[o.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),o.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),o.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),o.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),w?"Caricamento...":"Continua con Google"]})})]}),o.jsxs("div",{className:"auth-content",children:[g.general&&o.jsx("div",{className:"auth-error",children:g.general}),S&&o.jsx("div",{className:"auth-success",children:S}),o.jsx("div",{className:"auth-divider",children:o.jsx("span",{children:"oppure"})}),o.jsxs("form",{className:"auth-form",onSubmit:O,children:[h==="register"&&o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"fullName",children:["Nome Completo ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{id:"fullName",type:"text",className:`form-input ${g.fullName?"error":""}`,value:v.fullName,onChange:A=>H("fullName",A.target.value),placeholder:"Inserisci il tuo nome completo"}),g.fullName&&o.jsx("div",{className:"form-error",children:g.fullName})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"email",children:["Email ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{id:"email",type:"email",className:`form-input ${g.email?"error":""}`,value:v.email,onChange:A=>H("email",A.target.value),placeholder:"inserisci@email.com"}),g.email&&o.jsx("div",{className:"form-error",children:g.email})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"password",children:["Password ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{id:"password",type:"password",className:`form-input ${g.password?"error":""}`,value:v.password,onChange:A=>H("password",A.target.value),placeholder:"Inserisci la tua password"}),g.password&&o.jsx("div",{className:"form-errors",children:g.password.map((A,q)=>o.jsx("div",{className:"form-error",children:A},q))}),h==="register"&&v.password&&o.jsxs("div",{className:"password-requirements",children:[o.jsx("strong",{children:"Requisiti password:"}),o.jsxs("ul",{children:[o.jsx("li",{className:v.password.length>=8?"valid":"invalid",children:"Almeno 8 caratteri"}),o.jsx("li",{className:/[A-Z]/.test(v.password)?"valid":"invalid",children:"Una lettera maiuscola"}),o.jsx("li",{className:/[a-z]/.test(v.password)?"valid":"invalid",children:"Una lettera minuscola"}),o.jsx("li",{className:/\d/.test(v.password)?"valid":"invalid",children:"Un numero"}),o.jsx("li",{className:/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(v.password)?"valid":"invalid",children:"Un carattere speciale"})]})]})]}),h==="register"&&o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"confirmPassword",children:["Conferma Password ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{id:"confirmPassword",type:"password",className:`form-input ${g.confirmPassword?"error":""}`,value:v.confirmPassword,onChange:A=>H("confirmPassword",A.target.value),placeholder:"Conferma la tua password"}),g.confirmPassword&&o.jsx("div",{className:"form-error",children:g.confirmPassword})]}),h==="login"&&o.jsx("div",{className:"forgot-password-container",children:o.jsx("button",{type:"button",className:"forgot-password-link",onClick:M,disabled:w,children:"Hai dimenticato la password?"})}),o.jsx("button",{type:"submit",className:"action-btn",disabled:w||d,children:w?h==="login"?"Accesso...":"Registrazione...":h==="login"?"Accedi":"Registrati"})]})]})]})}):null}const gr=Object.freeze(Object.defineProperty({__proto__:null,AuthOverlay:qv},Symbol.toStringTag,{value:"Module"}));function nx(){const r=mt(),n=()=>{r("/messages")},i=()=>{r("/saved")},l=()=>{};return o.jsxs("div",{className:"header-icons",children:[o.jsx("button",{className:"header-icon-btn",onClick:n,"aria-label":"Messaggi",title:"Messaggi",children:o.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),o.jsx("button",{className:"header-icon-btn",onClick:i,"aria-label":"Elementi salvati",title:"Elementi salvati",children:o.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),o.jsx("button",{className:"header-icon-btn",onClick:l,"aria-label":"Notifiche",title:"Notifiche",children:o.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})})]})}const ht=x.memo(function({src:n,alt:i,name:l,size:u="md",variant:d="default",onClick:h,className:m=""}){const v=w=>{if(!w)return null;if(w.includes("@")){const S=w.split("@")[0];return v(S)}if(w.includes(".")&&!w.includes(" "))return w.split(".").map(E=>E.charAt(0).toUpperCase()).slice(0,2).join("");const j=w.trim().split(/\s+/);if(j.length===1){const S=j[0];return S.length>=2?(S.charAt(0)+S.charAt(1)).toUpperCase():S.charAt(0).toUpperCase()}return j.map(S=>S.charAt(0).toUpperCase()).slice(0,2).join("")},p=()=>{const w="avatar",j=`avatar-${u}`,S=`avatar-${d}`;return[w,j,S,h?"avatar-clickable":"",m].filter(Boolean).join(" ")},g=()=>{h&&h()},_=w=>{h&&(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),h())};return o.jsx("div",{className:p(),onClick:g,onKeyPress:_,tabIndex:h?0:void 0,role:h?"button":void 0,"aria-label":i||`Avatar di ${l||"utente"}`,children:n?o.jsx("img",{src:n,alt:i||`Avatar di ${l||"utente"}`,className:"avatar-image",loading:"lazy"}):o.jsx("div",{className:"avatar-placeholder",children:v(l)||o.jsx("svg",{className:"avatar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})})});function sx(){const{user:r,profile:n,loading:i,signOut:l}=Ve(),[u,d]=x.useState(!1),h=x.useRef(null),m=mt();if(x.useEffect(()=>{const g=_=>{h.current&&!h.current.contains(_.target)&&d(!1)};return u&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[u]),i||!r)return null;const v=()=>{if(n?.full_name)return n.full_name;if(n?.username)return n.username;if(r?.email){const g=r.email.split("@")[0];return g.includes(".")?g.split(".").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "):g}return"Utente"},p=g=>{switch(g){case"client":return"Cliente";case"artist":return"Artista";default:return g}};if(!n){const _=(()=>{if(!r?.email)return"U";const w=r.email.split("@")[0];return w.includes(".")?w.split(".").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "):w})();return o.jsxs("div",{className:"profile-dropdown",children:[o.jsx(ht,{name:_,size:"sm",variant:"default",onClick:()=>d(!u)}),u&&o.jsxs("div",{className:"dropdown-menu",children:[o.jsxs("div",{className:"dropdown-header",children:[o.jsx(ht,{name:_,size:"sm",variant:"default"}),o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-name",children:_}),o.jsx("div",{className:"user-type",children:"Cliente"})]})]}),o.jsx("div",{className:"dropdown-divider"}),o.jsx("button",{className:"dropdown-item become-artist-btn",onClick:()=>{m("/become-artist"),d(!1)},children:"Diventi un'artista"}),o.jsx("button",{className:"dropdown-item",onClick:()=>{m("/settings"),d(!1)},children:"Impostazioni"}),o.jsx("div",{className:"dropdown-divider"}),o.jsx("button",{className:"dropdown-item logout-item",onClick:()=>{l(),d(!1),m("/")},children:"Esci"})]})]})}return o.jsxs("div",{className:"profile-dropdown",ref:h,children:[o.jsx(ht,{src:n.avatar_url,name:n.full_name||v(),alt:`Avatar di ${v()}`,size:"sm",variant:"default",onClick:()=>d(!u)}),u&&o.jsxs("div",{className:"dropdown-menu",children:[o.jsxs("div",{className:"dropdown-header",children:[o.jsx(ht,{src:n.avatar_url,name:n.full_name||v(),alt:`Avatar di ${v()}`,size:"sm",variant:"default"}),o.jsxs("div",{className:"user-info",children:[o.jsx("div",{className:"user-name",children:n.full_name&&n.full_name.trim()?n.full_name:v()}),o.jsx("div",{className:"user-type",children:p(n.profile_type)})]})]}),o.jsx("div",{className:"dropdown-divider"}),n.profile_type!=="artist"&&o.jsx("button",{className:"dropdown-item become-artist-btn",onClick:()=>{m("/become-artist"),d(!1)},children:"Diventi un'artista"}),n.profile_type==="artist"&&o.jsx("button",{className:"dropdown-item",onClick:()=>{m("/profile"),d(!1)},children:"Il mio profilo"}),o.jsx("button",{className:"dropdown-item",onClick:()=>{m("/settings"),d(!1)},children:"Impostazioni"}),o.jsx("div",{className:"dropdown-divider"}),o.jsx("button",{className:"dropdown-item logout-item",onClick:()=>{l(),d(!1),m("/")},children:"Esci"})]})]})}function ix({onLogoClick:r,children:n,onAuthRequired:i}){const{user:l,loading:u}=Ve(),d=()=>{i?.()};return o.jsx("header",{className:"header",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"header-content",children:[o.jsx("span",{className:"logo",onClick:r,children:"SKUNK"}),n,o.jsx("div",{className:"user-section",children:u?o.jsx("div",{className:"auth-loading",children:"..."}):l?o.jsxs(o.Fragment,{children:[o.jsx(nx,{}),o.jsx(sx,{})]}):o.jsx("button",{className:"btn btn-primary auth-btn",onClick:d,children:"Login/Registrati"})})]})})})}function Bt({onSearch:r,onLogoClick:n,hideOnMobile:i=!1}){const l=mt(),[u,d]=x.useState(""),[h,m]=x.useState(""),[v,p]=x.useState(!1),[g,_]=x.useState(!1),w=()=>{l(`/?search=${encodeURIComponent(u)}&location=${encodeURIComponent(h)}`),r?.(u,h),_(!1)},j=E=>{E.key==="Enter"&&w()},S=()=>{setTimeout(()=>{const E=document.activeElement,N=E?.closest(".location-input-container"),O=E?.closest(".search-btn");!N&&!O&&_(!1)},100)};return o.jsxs(o.Fragment,{children:[o.jsx(ix,{onLogoClick:n,onAuthRequired:()=>p(!0),hideOnMobile:i,children:o.jsxs("div",{className:"search-form",children:[o.jsxs("div",{className:"search-input-container",children:[o.jsx("span",{className:"search-icon",children:""}),o.jsx("input",{type:"text",className:"search-input",placeholder:"Cerca tatuaggi, artisti...",value:u,onChange:E=>d(E.target.value),onKeyPress:j})]}),o.jsxs("div",{className:"location-input-container",children:[o.jsx("span",{className:"location-icon",children:""}),o.jsx(Cm,{value:h,onChange:m,onKeyPress:j})]}),o.jsxs("button",{className:"btn btn-accent search-btn",onClick:w,children:[o.jsx("span",{className:"btn-icon",children:""}),"Cerca"]})]})}),!i&&o.jsx("div",{className:"mobile-search-container",children:o.jsxs("div",{className:"search-form",children:[o.jsxs("div",{className:"search-input-container",children:[o.jsx("span",{className:"search-icon",children:""}),o.jsx("input",{type:"text",className:"search-input",placeholder:"Cerca tatuaggi, artisti...",value:u,onChange:E=>d(E.target.value),onKeyPress:j,onFocus:()=>_(!0),onBlur:S})]}),g&&o.jsxs("div",{className:"location-input-container",children:[o.jsx("span",{className:"location-icon",children:""}),o.jsx(Cm,{value:h,onChange:m,onKeyPress:j})]}),g&&o.jsxs("button",{className:"btn btn-accent search-btn",onClick:w,children:[o.jsx("span",{className:"btn-icon",children:""}),"Cerca"]})]})}),o.jsx(qv,{isOpen:v,onClose:()=>p(!1)})]})}const lx=["NEOREALISMO","OLD SCHOOL","NEW SCHOOL","REALISMO","TRIBALE","GIAPPONESE","BLACKWORK","MINIMALISTA","WATERCOLOR","GEOMETRICO"];function rx({onCategoryChange:r,onViewModeChange:n,viewMode:i="portfolio",searchSource:l}){const[u,d]=x.useState("");x.useEffect(()=>{l==="search-bar"&&d("")},[l]);const h=v=>{const p=u===v?"":v;d(p),r?.(p)},m=v=>{n?.(v)};return o.jsx("section",{className:"category-bar",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"category-content",children:[o.jsx("div",{className:"category-filters",children:o.jsx("div",{className:"category-tags",children:lx.map(v=>o.jsx("button",{className:`category-tag ${u===v?"active":""}`,onClick:()=>h(v),children:v},v))})}),o.jsxs("div",{className:"view-toggle",children:[o.jsx("button",{className:`toggle-btn ${i==="portfolio"?"active":""}`,onClick:()=>m("portfolio"),children:"Opere"}),o.jsx("button",{className:`toggle-btn ${i==="artists"?"active":""}`,onClick:()=>m("artists"),children:"Artisti"})]})]})})})}function bu(){const{user:r,profile:n}=Ve(),[i,l]=x.useState(new Set),[u,d]=x.useState(!1),h=x.useCallback(()=>n?.user_id?n.user_id:r?.id?r.id:null,[r,n]),m=x.useCallback(async()=>{const w=h();if(!w){l(new Set);return}try{d(!0);const{data:j,error:S}=await ce.from("saved_tattoos").select("portfolio_item_id").eq("user_id",w);if(S){console.error("Error loading saved tattoos:",S.message);return}const E=new Set(j.map(N=>N.portfolio_item_id));l(E)}catch(j){console.error("Error loading saved tattoos:",j)}finally{d(!1)}},[h]),v=x.useCallback(async w=>{if(!r)return console.warn("User must be logged in to save tattoos"),!1;try{const{error:j}=await ce.from("saved_tattoos").insert([{user_id:r.id,portfolio_item_id:w}]);return j?(console.error("Error saving tattoo:",j.message),!1):(l(S=>new Set([...S,w])),!0)}catch(j){return console.error("Error saving tattoo:",j),!1}},[r]),p=x.useCallback(async w=>{const j=h();if(!j)return console.warn("User must be logged in to unsave tattoos"),!1;try{const{error:S}=await ce.from("saved_tattoos").delete().eq("user_id",j).eq("portfolio_item_id",w);return S?(console.error("Error unsaving tattoo:",S.message),!1):(l(E=>{const N=new Set(E);return N.delete(w),N}),!0)}catch(S){return console.error("Error unsaving tattoo:",S),!1}},[h]),g=x.useCallback(async w=>i.has(w)?await p(w):await v(w),[i,v,p]),_=x.useCallback(w=>i.has(w),[i]);return x.useEffect(()=>{m()},[m]),{savedTattoos:i,loading:u,saveTattoo:v,unsaveTattoo:p,toggleSave:g,isTattooSaved:_,refreshSavedTattoos:m}}function $v(r){const{user:n}=Ve(),[i,l]=x.useState(!1),[u,d]=x.useState(0),[h,m]=x.useState(!1),[v,p]=x.useState(!1);x.useEffect(()=>{r&&g()},[r,n]);const g=async()=>{try{const{error:j}=await ce.from("portfolio_likes").select("id",{count:"exact",head:!0}).limit(1);if(j&&(j.code==="PGRST116"||j.message?.includes("406"))){console.warn("Portfolio likes table not configured yet - likes feature disabled"),p(!1);return}p(!0),_()}catch(j){console.warn("Portfolio likes table not available:",j),p(!1)}},_=async()=>{try{if(n){const{data:j,count:S,error:E}=await ce.from("portfolio_likes").select("user_id",{count:"exact"}).eq("portfolio_item_id",r);if(E&&(E.code==="PGRST116"||E.message?.includes("406")||E.code==="42501")){console.warn("Portfolio likes: RLS policies not configured correctly, using fallback"),d(0),l(!1);return}d(S||0),l(j?.some(N=>N.user_id===n.id)||!1)}else{const{count:j,error:S}=await ce.from("portfolio_likes").select("*",{count:"exact",head:!0}).eq("portfolio_item_id",r);if(S&&(S.code==="PGRST116"||S.message?.includes("406")||S.code==="42501")){console.warn("Portfolio likes: RLS policies not configured correctly, using fallback"),d(0),l(!1);return}d(j||0),l(!1)}}catch(j){console.error("Error fetching like data:",j),d(0),l(!1)}};return{isLiked:i,likeCount:u,toggleLike:async()=>{if(!n)throw new Error("Authentication required");if(!v)throw new Error("Portfolio likes table not configured. Please run the SQL setup script.");m(!0);try{if(i){const{error:j}=await ce.from("portfolio_likes").delete().eq("portfolio_item_id",r).eq("user_id",n.id);if(j)throw j.code==="PGRST116"||j.message?.includes("406")?new Error("Portfolio likes table not configured. Please run the SQL setup script."):j;l(!1),d(S=>S-1)}else{const{error:j}=await ce.from("portfolio_likes").insert({portfolio_item_id:r,user_id:n.id});if(j)throw j.code==="PGRST116"||j.message?.includes("406")?new Error("Portfolio likes table not configured. Please run the SQL setup script."):j;l(!0),d(S=>S+1)}}catch(j){throw console.error("Error toggling like:",j),j}finally{m(!1)}},loading:h,tableExists:v}}const xa=x.memo(function({icon:n,text:i,variant:l="portfolio",active:u=!1,disabled:d=!1,onClick:h,className:m="",requiresAuth:v=!1,onAuthRequired:p}){const{user:g}=Ve(),_="action-btn",w=l!=="portfolio"?l:"",j=u?"active":"",S=d?"disabled":"",E=N=>{if(!d){if(v&&!g&&p){p();return}h&&h(N)}};return o.jsxs("button",{className:`${_} ${w} ${j} ${S} ${m}`.trim(),onClick:E,disabled:d,children:[o.jsx("span",{className:"action-icon",children:n}),o.jsx("span",{className:"action-text",children:i})]})}),Hv=()=>o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),Pv=()=>o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),ox=()=>o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),cx=()=>o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M12 5v14m7-7l-7-7-7 7"})}),ux=()=>o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("polyline",{points:"3,6 5,6 21,6"}),o.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),dx=()=>o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),o.jsx("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]}),Gv=r=>{const n=r.currentTarget;n.style.display="none"},Vv=r=>r||"";function fx({item:r,isOpen:n,onClose:i,onArtistClick:l,onAuthRequired:u,onContactArtist:d}){const{profile:h}=Ve(),{toggleSave:m,isTattooSaved:v}=bu(),{isLiked:p,likeCount:g,toggleLike:_,loading:w,tableExists:j}=$v(r.id);if(x.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),x.useEffect(()=>{const M=H=>{H.key==="Escape"&&i()};return n&&document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[n,i]),!n)return null;const S=r.is_flash?"FLASH":"REALIZZATO",E=r.full_name||r.artist_name||"Unknown Artist",N=()=>{const M=r.user_id||r.id;l&&M&&(i(),l(M))},O=async()=>{try{await _()}catch(M){console.error("Error toggling like:",M)}},D=M=>{M.target===M.currentTarget&&i()};return o.jsx("div",{className:"portfolio-modal-overlay",onClick:D,children:o.jsxs("div",{className:"portfolio-modal-content",children:[o.jsx("div",{className:"modal-header",children:o.jsx("button",{className:"modal-close-btn",onClick:i,children:""})}),o.jsxs("div",{className:"modal-image-section",children:[r.image_url&&o.jsx("img",{src:Vv(r.image_url),alt:r.title||"Portfolio Item",className:"modal-portfolio-image",onError:Gv}),o.jsx("span",{className:`modal-badge ${S.toLowerCase()}`,children:S}),r.price&&o.jsxs("span",{className:"modal-price",children:["",r.price]})]}),o.jsxs("div",{className:"modal-details-section",children:[o.jsxs("div",{className:"modal-portfolio-actions",children:[j&&o.jsx(xa,{icon:o.jsx(Pv,{}),text:g>0?`Mi piace (${g})`:"Mi piace",variant:"modal",active:p,disabled:w,requiresAuth:!0,onAuthRequired:u,onClick:O}),o.jsx(xa,{icon:o.jsx(Hv,{}),text:v(r.id)?"Salvato":"Salva",variant:"modal",active:v(r.id),requiresAuth:!0,onAuthRequired:u,onClick:()=>m(r.id)}),h?.user_id!==r.user_id&&o.jsx(xa,{icon:o.jsx(ox,{}),text:"Contatta artista",variant:"modal",requiresAuth:!0,onAuthRequired:u,onClick:()=>d&&d(r.user_id)})]}),o.jsxs("div",{className:"modal-artist-info",children:[o.jsx(ht,{src:r.artist_avatar_url,name:E,alt:`Avatar di ${E}`,size:"md",variant:"default",onClick:N}),o.jsx("span",{className:"modal-artist-name",onClick:N,style:{cursor:"pointer"},children:E})]}),o.jsx("h2",{className:"modal-portfolio-title",children:r.title||"Senza titolo"}),r.tags&&r.tags.length>0&&o.jsx("div",{className:"modal-portfolio-tags",children:r.tags.map((M,H)=>o.jsx("span",{className:"modal-portfolio-tag",children:M},H))}),r.description&&o.jsxs("div",{className:"modal-description-section",children:[o.jsx("h3",{className:"modal-section-title",children:"Descrizione"}),o.jsx("p",{className:"modal-portfolio-description",children:r.description})]}),o.jsxs("div",{className:"modal-meta-info",children:[o.jsxs("div",{className:"modal-meta-item",children:[o.jsx("span",{className:"modal-meta-icon",children:""}),o.jsx("span",{className:"modal-meta-label",children:"Creato il:"}),o.jsx("span",{className:"modal-meta-value",children:new Date(r.created_at).toLocaleDateString("it-IT")})]}),r.location&&o.jsxs("div",{className:"modal-meta-item",children:[o.jsx("span",{className:"modal-meta-icon",children:""}),o.jsx("span",{className:"modal-meta-label",children:"Posizione:"}),o.jsx("span",{className:"modal-meta-value",children:r.location})]})]}),o.jsx("div",{className:"modal-bottom-spacer"})]})]})})}function jn({item:r,onArtistClick:n,onAuthRequired:i,onContactArtist:l,showDeleteButton:u,onDelete:d}){const[h,m]=x.useState(!1),{toggleSave:v,isTattooSaved:p}=bu(),{isLiked:g,likeCount:_,toggleLike:w,loading:j,tableExists:S}=$v(r.id),E=r.is_flash?"FLASH":"REALIZZATO",N=r.price,O=r.full_name||r.artist_name||"Unknown Artist",D=J=>{J.stopPropagation();const W=r.user_id||r.id;n&&W&&n(W)},M=()=>{const J=r.user_id||r.id;n&&J&&n(J)},H=J=>{J.target.closest(".portfolio-actions")||m(!0)},Q=()=>{m(!1)},A=async J=>{J.stopPropagation();try{await w()}catch(W){console.error("Error toggling like:",W)}},q=J=>{J.stopPropagation(),d&&d(r.id)};return o.jsxs(o.Fragment,{children:[o.jsxs("article",{className:"card portfolio-card",onClick:H,children:[u&&o.jsx("button",{className:"modal-close-btn delete-portfolio-btn",onClick:q,title:"Elimina elemento",children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("polyline",{points:"3,6 5,6 21,6"}),o.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),o.jsxs("div",{className:"image-section",children:[r.image_url?o.jsx("img",{src:Vv(r.image_url),alt:r.title||"Portfolio Item",className:"portfolio-image",onError:Gv}):o.jsxs("div",{className:"image-placeholder",children:[o.jsxs("svg",{className:"placeholder-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o.jsx("polyline",{points:"21,15 16,10 5,21"})]}),o.jsx("span",{className:"placeholder-text",children:"Immagine non disponibile"})]}),o.jsx("span",{className:`badge ${E.toLowerCase()}`,children:E}),N&&o.jsxs("span",{className:"price",children:["",N]})]}),o.jsxs("div",{className:"portfolio-actions",children:[S&&o.jsx(xa,{icon:o.jsx(Pv,{}),text:_>0?`Mi piace (${_})`:"Mi piace",variant:"portfolio",active:g,disabled:j,requiresAuth:!0,onAuthRequired:i,onClick:A}),o.jsx(xa,{icon:o.jsx(Hv,{}),text:p(r.id)?"Salvato":"Salva",variant:"portfolio",active:p(r.id),requiresAuth:!0,onAuthRequired:i,onClick:J=>{J.stopPropagation(),v(r.id)}})]}),o.jsxs("div",{className:"content-section",children:[o.jsxs("div",{className:"artist-info",children:[o.jsx(ht,{src:r.artist_avatar_url,name:O,alt:`Avatar di ${O}`,size:"sm",variant:"default",onClick:M}),o.jsx("span",{className:"artist-name",onClick:D,style:{cursor:"pointer"},children:O})]}),o.jsx("h3",{className:"portfolio-title",children:r.title||"Senza titolo"}),r.description?o.jsx("p",{className:"portfolio-description",children:r.description}):o.jsx("div",{className:"portfolio-description-spacer"}),o.jsxs("div",{className:"meta-info",children:[o.jsxs("span",{className:"meta-date",children:[o.jsx("span",{className:"meta-icon",children:""}),new Date(r.created_at).toLocaleDateString("it-IT")]}),r.location&&o.jsxs("span",{className:"meta-location",children:[o.jsx("span",{className:"meta-icon",children:""}),r.location]})]})]})]}),o.jsx(fx,{item:r,isOpen:h,onClose:Q,onArtistClick:n,onAuthRequired:i,onContactArtist:l})]})}x.memo(jn);const Yt=x.memo(function({fullScreen:n=!1,size:i="medium"}){const l={small:{width:"12px",height:"12px",gap:"3px"},medium:{width:"16px",height:"16px",gap:"4px"},large:{width:"20px",height:"20px",gap:"5px"}},u=n?"fixed top-0 left-0 w-full h-full bg-white flex justify-center items-center z-50":"flex justify-center items-center p-4",{width:d,height:h,gap:m}=l[i];return o.jsx("div",{className:u,children:o.jsxs("div",{className:"brutalist-spinner",style:{gap:m},children:[o.jsx("div",{className:"brutalist-block",style:{width:d,height:h}}),o.jsx("div",{className:"brutalist-block",style:{width:d,height:h}}),o.jsx("div",{className:"brutalist-block",style:{width:d,height:h}}),o.jsx("div",{className:"brutalist-block",style:{width:d,height:h}})]})})});function Yv({loading:r,error:n,data:i,searchTerm:l,locationFilter:u,children:d,emptyTitle:h="Nessun risultato",searchEmptyMessage:m="Nessun risultato trovato per i criteri selezionati",fallbackEmptyMessage:v="Non ci sono ancora elementi"}){const p=l.trim()||u.trim();return r?o.jsx("section",{className:"grid-container",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"loading-state",children:o.jsx(Yt,{size:"large"})})})}):n?o.jsx("section",{className:"grid-container",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"error-state",children:o.jsxs("div",{className:"error-card",children:[o.jsx("h2",{className:"error-title",children:"Errore di caricamento"}),o.jsx("p",{className:"error-message",children:n}),o.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>window.location.reload(),children:"Riprova"})]})})})}):i.length===0?o.jsx("section",{className:"grid-container",children:o.jsx("div",{className:"container",children:o.jsx("div",{className:"empty-state",children:o.jsxs("div",{className:"empty-card",children:[o.jsx("h3",{className:"empty-title",children:h}),o.jsx("p",{className:"empty-message",children:p?m:v})]})})})}):o.jsx(o.Fragment,{children:d})}function Iv({title:r,children:n,className:i="",actions:l}){return o.jsx("div",{className:`grid-header ${i}`,children:o.jsxs("div",{className:"grid-header-card",children:[l&&o.jsx("div",{className:"grid-header-top-actions",children:l}),o.jsx("h2",{className:"grid-header-title",children:r}),o.jsx("div",{className:"grid-header-content",children:n})]})})}function Kv({count:r,label:n}){return o.jsxs("div",{className:"grid-header-stats",children:[o.jsx("span",{className:"grid-stat-count",children:r}),o.jsx("span",{className:"grid-stat-label",children:n})]})}function Qv({searchTerm:r,locationFilter:n}){return!r&&!n?null:o.jsxs("div",{className:"grid-search-info",children:[r&&o.jsxs("span",{className:"grid-search-term",children:['"',r,'"']}),n&&o.jsx("span",{className:"grid-location-term",children:n})]})}const hx=x.memo(function({items:n,loading:i,error:l,searchTerm:u,locationFilter:d,flashFilter:h,totalCount:m,filteredCount:v,onArtistClick:p,onFlashFilterChange:g,onAuthRequired:_,onContactArtist:w}){const[j,S]=x.useState(!1),[E,N]=x.useState(!1),O=x.useRef(null),D=x.useRef(null);x.useEffect(()=>{const q=J=>{O.current&&!O.current.contains(J.target)&&S(!1),D.current&&!D.current.contains(J.target)&&N(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]);const M=x.useCallback(q=>{g?.(q),S(!1)},[g]),H=x.useCallback(q=>{g?.(q),N(!1)},[g]),Q=q=>{switch(q){case"all":return"Tutti";case"flash":return"Flash";case"realizzati":return"Realizzati"}},A=u.trim()||d.trim();return o.jsx(Yv,{loading:i,error:l,data:n,searchTerm:u,locationFilter:d,searchEmptyMessage:"Nessuna opera trovata per i criteri selezionati",fallbackEmptyMessage:"Il portfolio  ancora vuoto",children:o.jsx("section",{className:"grid-container",children:o.jsxs("div",{className:"container",children:[o.jsxs(Iv,{title:"Portfolio opere",actions:o.jsxs("div",{className:"filter-dropdown-desktop",ref:O,children:[o.jsxs("button",{className:"action-btn",onClick:()=>S(!j),"aria-expanded":j,children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{className:"filter-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})})}),o.jsx("span",{className:"action-text",children:Q(h)}),o.jsx("span",{className:"action-icon",children:o.jsx("svg",{className:`chevron-icon ${j?"open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"6,9 12,15 18,9"})})})]}),j&&o.jsxs("div",{className:"filter-dropdown-menu",children:[o.jsx("button",{className:`action-btn ${h==="all"?"active":""}`,onClick:()=>M("all"),children:o.jsx("span",{className:"action-text",children:"Tutti"})}),o.jsx("button",{className:`action-btn ${h==="flash"?"active":""}`,onClick:()=>M("flash"),children:o.jsx("span",{className:"action-text",children:"Flash"})}),o.jsx("button",{className:`action-btn ${h==="realizzati"?"active":""}`,onClick:()=>M("realizzati"),children:o.jsx("span",{className:"action-text",children:"Realizzati"})})]})]}),children:[o.jsx(Kv,{count:A?v:m,label:A?"risultati":"opere totali"}),o.jsx(Qv,{searchTerm:u,locationFilter:d})]}),o.jsxs("div",{className:"filter-dropdown filter-dropdown-mobile",ref:D,children:[o.jsxs("button",{className:"action-btn",onClick:()=>N(!E),"aria-expanded":E,children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{className:"filter-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})})}),o.jsx("span",{className:"action-text",children:Q(h)}),o.jsx("span",{className:"action-icon",children:o.jsx("svg",{className:`chevron-icon ${E?"open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"6,9 12,15 18,9"})})})]}),E&&o.jsxs("div",{className:"filter-dropdown-menu",children:[o.jsx("button",{className:`action-btn ${h==="all"?"active":""}`,onClick:()=>H("all"),children:o.jsx("span",{className:"action-text",children:"Tutti"})}),o.jsx("button",{className:`action-btn ${h==="flash"?"active":""}`,onClick:()=>H("flash"),children:o.jsx("span",{className:"action-text",children:"Flash"})}),o.jsx("button",{className:`action-btn ${h==="realizzati"?"active":""}`,onClick:()=>H("realizzati"),children:o.jsx("span",{className:"action-text",children:"Realizzati"})})]})]}),o.jsx("div",{className:"portfolio-grid",children:n.map(q=>o.jsx(jn,{item:q,onArtistClick:p,onAuthRequired:_,onContactArtist:w},q.id))})]})})})});function yr(){const{user:r}=Ve(),[n,i]=x.useState(new Map),[l,u]=x.useState(!1),d=x.useCallback(async g=>{if(g.length!==0){u(!0);try{const{data:_,error:w}=await ce.from("followers").select("following_id").in("following_id",g);if(w)throw w;const j=g.reduce((N,O)=>(N[O]=_?.filter(D=>D.following_id===O).length||0,N),{});let S={};if(r){const{data:N,error:O}=await ce.from("followers").select("following_id").eq("follower_id",r.id).in("following_id",g);if(O)throw O;S=g.reduce((D,M)=>(D[M]=N?.some(H=>H.following_id===M)||!1,D),{})}const E=new Map;g.forEach(N=>{E.set(N,{user_id:N,follower_count:j[N]||0,is_following:S[N]||!1})}),i(E)}catch(_){console.error("Error fetching follower stats:",_)}finally{u(!1)}}},[r]),h=x.useCallback(async g=>{if(!r)return{error:"Authentication required"};if(n.get(g)?.is_following)return{success:!0};try{const{error:w}=await ce.from("followers").insert({follower_id:r.id,following_id:g});if(w){if(w.code==="23505")return{success:!0};throw w}return i(j=>{const S=new Map(j),E=S.get(g);return E&&S.set(g,{...E,follower_count:E.follower_count+1,is_following:!0}),S}),{success:!0}}catch(w){return console.error("Error following artist:",w),{error:"Failed to follow artist"}}},[r,n]),m=x.useCallback(async g=>{if(!r)return{error:"Authentication required"};if(!n.get(g)?.is_following)return{success:!0};try{const{error:w}=await ce.from("followers").delete().eq("follower_id",r.id).eq("following_id",g);if(w)throw w;return i(j=>{const S=new Map(j),E=S.get(g);return E&&S.set(g,{...E,follower_count:Math.max(0,E.follower_count-1),is_following:!1}),S}),{success:!0}}catch(w){return console.error("Error unfollowing artist:",w),{error:"Failed to unfollow artist"}}},[r,n]),v=x.useCallback(async g=>n.get(g)?.is_following?await m(g):await h(g),[n,h,m]),p=x.useCallback(g=>n.get(g)||{user_id:g,follower_count:0,is_following:!1},[n]);return{followerStats:n,loading:l,fetchFollowerStats:d,followArtist:h,unfollowArtist:m,toggleFollow:v,getFollowerStats:p}}function Xv({profile:r,onArtistClick:n,onAuthRequired:i,onContactArtist:l,onFollowUpdate:u}){const{user:d,profile:h}=Ve(),{getFollowerStats:m,toggleFollow:v,fetchFollowerStats:p}=yr(),g=r.full_name||r.username||"Unknown Artist",w=m(r.user_id)?.is_following||!1,j=h&&r.user_id===h.user_id;x.useEffect(()=>{p([r.user_id])},[r.user_id,p]);const S=O=>{O.target.closest(".artist-actions")||n&&n(r.user_id)},E=async O=>{if(O.stopPropagation(),!j){if(!d&&i){i();return}d&&(await v(r.user_id)).success&&u&&u(r.user_id,!w)}},N=O=>{if(O.stopPropagation(),!j){if(!d&&i){i();return}l&&l(r.user_id)}};return o.jsxs("article",{className:"card artist-card",onClick:S,style:{cursor:"pointer"},children:[o.jsxs("div",{className:"artist-header",children:[o.jsx(ht,{src:r.avatar_url,name:g,alt:`Avatar di ${g}`,size:"md",variant:"card"}),o.jsxs("div",{className:"artist-info",children:[o.jsx("h3",{className:"artist-name",children:g}),r.location&&o.jsxs("span",{className:"artist-location",children:[" ",r.location]})]})]}),o.jsx("p",{className:"artist-bio",children:r.bio||""}),o.jsx("div",{className:"artist-meta",children:o.jsxs("span",{className:"join-date",children:[o.jsx("span",{className:"join-icon",children:""}),"Iscritto dal ",new Date(r.created_at).toLocaleDateString("it-IT")]})}),o.jsxs("div",{className:"artist-actions",children:[o.jsxs("button",{className:`action-btn ${w?"active":""} ${j?"disabled":""}`,onClick:E,children:[o.jsx("span",{className:"action-icon",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}),o.jsx("span",{className:"action-text",children:w?"Seguito":"Segui"})]}),o.jsxs("button",{className:`action-btn ${j?"disabled":""}`,onClick:N,children:[o.jsx("span",{className:"action-icon",children:j?o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),o.jsx("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]}):o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),o.jsx("span",{className:"action-text",children:"Contatta"})]})]})]})}x.memo(Xv);function mx({profiles:r,loading:n,error:i,searchTerm:l,locationFilter:u,totalCount:d,filteredCount:h,onArtistClick:m,onAuthRequired:v,onContactArtist:p}){const{fetchFollowerStats:g}=yr();x.useEffect(()=>{if(r.length>0){const w=r.map(j=>j.user_id);g(w)}},[r,g]);const _=l.trim()||u.trim();return o.jsx(Yv,{loading:n,error:i,data:r,searchTerm:l,locationFilter:u,emptyTitle:"Nessun artista",searchEmptyMessage:"Nessun artista trovato per i criteri selezionati",fallbackEmptyMessage:"Non ci sono ancora artisti registrati",children:o.jsx("section",{className:"grid-container",children:o.jsxs("div",{className:"container",children:[o.jsxs(Iv,{title:"Artisti",children:[o.jsx(Kv,{count:_?h:d,label:_?"risultati":"artisti totali"}),o.jsx(Qv,{searchTerm:l,locationFilter:u})]}),o.jsx("div",{className:"artist-grid",children:r.map(w=>o.jsx(Xv,{profile:w,onArtistClick:m,onAuthRequired:v,onContactArtist:p},w.id))})]})})})}const Wm={PORTFOLIO_ITEMS_LIMIT:50,ARTIST_PROFILES_LIMIT:100};function vx(){const[r,n]=x.useState([]),[i,l]=x.useState([]),[u,d]=x.useState("portfolio"),[h,m]=x.useState(!0),[v,p]=x.useState(null),[g,_]=x.useState(""),[w,j]=x.useState(""),[S,E]=x.useState("all"),N=x.useCallback(async()=>{try{m(!0),p(null);const{data:ae,error:X}=await ce.from("portfolio_items").select(`
          *,
          profiles!inner(
            user_id,
            full_name,
            username,
            profile_type,
            bio,
            avatar_url,
            location
          )
        `).eq("profiles.profile_type","artist").order("created_at",{ascending:!1}).limit(Wm.PORTFOLIO_ITEMS_LIMIT);if(X)throw X;const ue=ae?.map(le=>{const ve=le.profiles;return{...le,profiles:void 0,description:le.description??"",tags:Array.isArray(le.tags)?le.tags:[],image_url:le.image_url??"",artist_name:ve?.full_name??ve?.username??"",full_name:ve?.full_name??null,artist_avatar_url:ve?.avatar_url??null,location:ve?.location??le.location??null}})||[];n(ue)}catch(ae){p(`Database error: ${ae.message}`),n([])}finally{m(!1)}},[]),O=x.useCallback(async()=>{try{const{data:ae,error:X}=await ce.from("profiles").select(`
          id,
          user_id,
          email,
          full_name,
          username,
          profile_type,
          bio,
          avatar_url,
          phone,
          location,
          created_at,
          updated_at
        `).eq("profile_type","artist").order("created_at",{ascending:!1}).limit(Wm.ARTIST_PROFILES_LIMIT);if(X)throw X;l(ae||[])}catch{console.warn("Failed to fetch artist profiles"),l([])}},[]),D=x.useMemo(()=>{if(r.length===0)return[];let ae=r;S==="flash"?ae=ae.filter(K=>K.is_flash===!0):S==="realizzati"&&(ae=ae.filter(K=>K.is_flash===!1));const X=g.trim(),ue=w.trim();if(!X&&!ue)return ae;const le=X?g.toLowerCase().trim():"",ve=ue?w.toLowerCase().trim():"",$=X?le.split(/\s+/).filter(K=>K.length>0):[];return ae.filter(K=>{if(ue){const ne=K.location?.toLowerCase();if(!ne||!ne.includes(ve))return!1}if(X&&$.length>0){const ne=[K.title?.toLowerCase()||"",K.description?.toLowerCase()||"",K.artist_name?.toLowerCase()||"",...Array.isArray(K.tags)?K.tags.map(ge=>ge?.toLowerCase()||""):[]].join(" ");for(const ge of $)if(!ne.includes(ge))return!1}return!0})},[r,g,w,S]),M=x.useMemo(()=>{if(!g.trim()&&!w.trim())return i;const ae=g.toLowerCase().trim(),X=w.toLowerCase().trim();return i.filter(ue=>{const le=!ae||ue.full_name?.toLowerCase().includes(ae)||ue.username?.toLowerCase().includes(ae)||ue.bio?.toLowerCase().includes(ae)||ue.email?.toLowerCase().includes(ae),ve=!X||ue.location?.toLowerCase().includes(X);return le&&ve})},[i,g,w]),H=(ae,X)=>{_(ae),j(X)},Q=()=>{_(""),j("")},A=ae=>{E(ae)},q=x.useCallback(ae=>{d(ae)},[]),[J,W]=x.useState(!1);x.useEffect(()=>{J||Promise.all([N(),O()]).then(()=>W(!0)).catch(()=>W(!0))},[N,O,J]);const me=x.useCallback(()=>{W(!1),p(null),m(!0)},[]);return{portfolioItems:D,allItems:r,artistProfiles:M,allProfiles:i,viewMode:u,loading:h,error:v,searchTerm:g,locationFilter:w,flashFilter:S,search:H,resetSearch:Q,setFlashFilter:A,toggleViewMode:q,refetch:me,totalCount:r.length,filteredCount:D.length,profilesCount:i.length,filteredProfilesCount:M.length}}const px=x.lazy(()=>Kt(()=>Promise.resolve().then(()=>gr),void 0).then(r=>({default:r.AuthOverlay})));function Zv(){const r=mt(),[n]=I0(),{profile:i}=Ve(),[l,u]=x.useState(null),[d,h]=x.useState(!1),{portfolioItems:m,artistProfiles:v,viewMode:p,loading:g,error:_,searchTerm:w,locationFilter:j,flashFilter:S,search:E,setFlashFilter:N,toggleViewMode:O,totalCount:D,filteredCount:M,profilesCount:H,filteredProfilesCount:Q}=vx();x.useEffect(()=>{const le=n.get("search")||"",ve=n.get("location")||"";(le||ve)&&(E(le,ve),u("search-bar"))},[n,E]);const A=x.useCallback((le,ve)=>{u("search-bar"),E(le,ve)},[E]),q=x.useCallback(le=>{u("category"),E(le,j)},[E,j]),J=x.useCallback(le=>{N(le)},[N]),W=x.useCallback(le=>{O(le)},[O]),me=x.useCallback(le=>{i&&i.user_id===le?r("/profile"):r(`/artist/${le}`)},[r,i]),ae=x.useCallback(()=>{window.location.reload()},[]),X=x.useCallback(()=>{h(!0)},[]),ue=x.useCallback(le=>{r(`/messages/${le}`)},[r]);return o.jsxs("div",{className:"app",children:[o.jsx("div",{className:"mobile-header",children:o.jsx("div",{className:"mobile-logo",onClick:ae,children:o.jsx("span",{className:"mobile-logo-text",children:"SKUNK"})})}),o.jsx(Bt,{onSearch:A,onLogoClick:ae}),o.jsx(rx,{onCategoryChange:q,onViewModeChange:W,viewMode:p,searchSource:l}),o.jsx("main",{className:"main-content",children:p==="portfolio"?o.jsx(hx,{items:m,loading:g,error:_,searchTerm:w,locationFilter:j,flashFilter:S,totalCount:D,filteredCount:M,onArtistClick:me,onFlashFilterChange:J,onAuthRequired:X,onContactArtist:ue}):o.jsx(mx,{profiles:v,loading:g,error:_,searchTerm:w,locationFilter:j,totalCount:H,filteredCount:Q,onArtistClick:me,onAuthRequired:X,onContactArtist:ue})}),d&&o.jsx(x.Suspense,{fallback:o.jsx("div",{className:"loading-state",children:o.jsx(Yt,{})}),children:o.jsx(px,{isOpen:d,onClose:()=>h(!1)})})]})}function gx(r){const[n,i]=x.useState(null),[l,u]=x.useState([]),[d,h]=x.useState([]),[m,v]=x.useState(!0),[p,g]=x.useState(null),_=x.useCallback(async()=>{if(!r){v(!1);return}try{v(!0),g(null);const[w,j,S]=await Promise.allSettled([ce.from("profiles").select(`
            id,
            user_id,
            email,
            full_name,
            username,
            profile_type,
            bio,
            avatar_url,
            phone,
            location,
            created_at,
            updated_at
          `).eq("user_id",r).eq("profile_type","artist").single(),ce.from("portfolio_items").select(`
            id,
            user_id,
            title,
            description,
            image_url,
            tags,
            is_flash,
            price,
            location,
            created_at,
            updated_at
          `).eq("user_id",r).order("created_at",{ascending:!1}),ce.from("artist_services").select("*").eq("user_id",r).order("created_at",{ascending:!0})]);if(w.status==="fulfilled"&&!w.value.error)i(w.value.data);else{const E=w.status==="rejected"?w.reason:w.value.error;throw new Error(`Profile not found: ${E.message}`)}j.status==="fulfilled"&&!j.value.error?u(j.value.data||[]):(console.warn("Failed to fetch portfolio items"),u([])),S.status==="fulfilled"&&!S.value.error?h(S.value.data||[]):(console.warn("Failed to fetch artist services"),h([]))}catch(w){g(w.message),i(null),u([]),h([])}finally{v(!1)}},[r]);return x.useEffect(()=>{_()},[_]),{profile:n,portfolioItems:l,services:d,loading:m,error:p,refetch:_}}function yx(){const{artistId:r}=dv(),n=mt(),{profile:i}=Ve(),{profile:l,portfolioItems:u,services:d,loading:h,error:m}=gx(r||""),{fetchFollowerStats:v,getFollowerStats:p,toggleFollow:g}=yr(),[_,w]=x.useState("portfolio"),j=l?p(l.user_id):null,S=j?.follower_count||0,E=j?.is_following||!1;if(x.useEffect(()=>{window.scrollTo(0,0)},[]),x.useEffect(()=>{l?.user_id&&v([l.user_id])},[l?.user_id,v]),x.useEffect(()=>{if(i&&r&&i.user_id===r){n("/profile",{replace:!0});return}},[i,r,n]),!r)return n("/"),null;const N=u.filter(A=>!A.is_flash),O=u.filter(A=>A.is_flash),D=(A,q)=>{n(`/?search=${encodeURIComponent(A)}&location=${encodeURIComponent(q)}`)},M=()=>{n("/")},H=()=>{r&&n(`/messages/${r}`)},Q=async()=>{l?.user_id&&await g(l.user_id)};return o.jsxs("div",{className:"artist-profile",children:[o.jsx(Bt,{onSearch:D,onLogoClick:M,hideOnMobile:!0}),o.jsx("main",{className:"artist-profile-content",children:o.jsx("div",{className:"container",children:h?o.jsx("div",{className:"loading-state",children:o.jsx(Yt,{size:"large"})}):m?o.jsxs("div",{className:"error-state",children:[o.jsx("h2",{children:"Errore nel caricamento del profilo"}),o.jsx("p",{children:m})]}):l?o.jsxs("div",{className:"artist-profile-main",children:[o.jsx("section",{className:"artist-profile-header",children:o.jsxs("div",{className:"profile-info",children:[o.jsx(ht,{src:l.avatar_url,name:l.full_name||l.username,alt:`Avatar di ${l.full_name||l.username||"Artista"}`,size:"lg",variant:"bordered"}),o.jsxs("div",{className:"profile-details",children:[o.jsx("h1",{className:"profile-name",children:l.full_name||l.username||"Artista Sconosciuto"}),l.location&&o.jsxs("p",{className:"profile-location",children:[" ",l.location]}),l.bio&&o.jsx("p",{className:"profile-bio",children:l.bio}),o.jsx("div",{className:"profile-stats",children:o.jsxs("span",{className:"follower-count",children:[o.jsx("strong",{children:S.toLocaleString()})," follower"]})}),o.jsxs("div",{className:"artist-actions",children:[o.jsxs("button",{className:`action-btn ${E?"active":""}`,onClick:Q,children:[o.jsx("span",{className:"action-icon",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}),o.jsx("span",{className:"action-text",children:E?"Seguito":"Segui"})]}),o.jsxs("button",{className:"action-btn",onClick:H,children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),o.jsx("span",{className:"action-text",children:"Contatta"})]})]})]})]})}),o.jsxs("section",{className:"artist-profile-tabs",children:[o.jsxs("div",{className:"tabs-navigation",children:[o.jsxs("button",{className:`tab-button ${_==="portfolio"?"active":""}`,onClick:()=>w("portfolio"),children:[o.jsxs("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o.jsx("polyline",{points:"21,15 16,10 5,21"})]}),o.jsx("span",{className:"tab-text",children:"PORTFOLIO"})]}),o.jsxs("button",{className:`tab-button ${_==="flash"?"active":""}`,onClick:()=>w("flash"),children:[o.jsx("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polygon",{points:"13,2 3,14 12,14 11,22 21,10 12,10 13,2"})}),o.jsx("span",{className:"tab-text",children:"FLASH"})]}),o.jsxs("button",{className:`tab-button ${_==="servizi"?"active":""}`,onClick:()=>w("servizi"),children:[o.jsx("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),o.jsx("span",{className:"tab-text",children:"SERVIZI"})]}),o.jsxs("button",{className:`tab-button ${_==="recensioni"?"active":""}`,onClick:()=>w("recensioni"),children:[o.jsx("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26 12,2"})}),o.jsx("span",{className:"tab-text",children:"RECENSIONI"})]})]}),o.jsxs("div",{className:"tab-content",children:[_==="portfolio"&&o.jsxs("div",{className:"tab-panel portfolio-panel",children:[o.jsxs("h3",{children:["GALLERIA LAVORI ",!h&&`(${N.length})`]}),h?o.jsxs("div",{className:"portfolio-loading",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{children:"Caricamento portfolio..."})]}):N.length>0?o.jsx("div",{className:"artist-portfolio-grid",children:N.map(A=>o.jsx(jn,{item:{id:A.id,title:A.title,description:A.description||"",image_url:A.image_url,tags:A.tags||[],is_flash:A.is_flash,price:A.price,location:A.location,created_at:A.created_at,updated_at:A.updated_at,user_id:A.user_id,artist_name:l?.full_name||l?.username||"Artista",full_name:l?.full_name||l?.username||"Artista"},onArtistClick:()=>{}},A.id))}):o.jsx("div",{className:"empty-portfolio",children:o.jsxs("div",{className:"empty-state",children:[o.jsx("h4",{children:"Nessun lavoro pubblicato"}),o.jsx("p",{children:"Questo artista non ha ancora caricato lavori personalizzati nel suo portfolio."})]})})]}),_==="servizi"&&o.jsxs("div",{className:"tab-panel servizi-panel",children:[o.jsxs("h3",{children:["SERVIZI OFFERTI ",!h&&d.length>0&&`(${d.length})`]}),h?o.jsxs("div",{className:"portfolio-loading",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{children:"Caricamento servizi..."})]}):d.length>0?o.jsx("div",{className:"services-list",children:d.map(A=>o.jsxs("div",{className:"service-item",children:[A.image_url&&o.jsx("div",{className:"service-image",children:o.jsx("img",{src:A.image_url,alt:A.name,className:"service-img"})}),o.jsxs("div",{className:"service-info",children:[o.jsx("h4",{children:A.name}),o.jsx("p",{children:A.description||""}),o.jsxs("div",{className:"service-details",children:[A.body_area&&A.body_area!=="N/A"&&o.jsxs("span",{className:"service-detail",children:[o.jsx("strong",{children:"Zona:"})," ",A.body_area]}),A.size_category&&A.size_category!=="N/A"&&o.jsxs("span",{className:"service-detail",children:[o.jsx("strong",{children:"Dimensione:"})," ",A.size_category]})]})]}),o.jsx("div",{className:"service-price",children:A.discount_percentage?o.jsxs("div",{className:"price-with-discount",children:[o.jsx("span",{className:"original-price",children:A.is_price_range?`${A.price_min_range}-${A.price_max_range}`:`${A.fixed_price}`}),o.jsx("span",{className:"discounted-price",children:A.is_price_range?`${Math.round(A.price_min_range*(100-A.discount_percentage)/100)}-${Math.round(A.price_max_range*(100-A.discount_percentage)/100)}`:`${Math.round(A.fixed_price*(100-A.discount_percentage)/100)}`})]}):o.jsx("span",{children:A.is_price_range?`${A.price_min_range}-${A.price_max_range}`:`${A.fixed_price}`})})]},A.id))}):o.jsx("div",{className:"empty-portfolio",children:o.jsxs("div",{className:"empty-state",children:[o.jsx("h4",{children:"Nessun servizio disponibile"}),o.jsx("p",{children:"Questo artista non ha ancora pubblicato i suoi servizi."})]})})]}),_==="flash"&&o.jsxs("div",{className:"tab-panel flash-panel",children:[o.jsxs("h3",{children:["DISEGNI FLASH DISPONIBILI ",!h&&`(${O.length})`]}),h?o.jsxs("div",{className:"portfolio-loading",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{children:"Caricamento flash..."})]}):O.length>0?o.jsx("div",{className:"artist-portfolio-grid",children:O.map(A=>o.jsx(jn,{item:{id:A.id,title:A.title,description:A.description||"",image_url:A.image_url,tags:A.tags||[],is_flash:A.is_flash,price:A.price,location:A.location,created_at:A.created_at,updated_at:A.updated_at,user_id:A.user_id,artist_name:l?.full_name||l?.username||"Artista",full_name:l?.full_name||l?.username||"Artista"},onArtistClick:()=>{}},A.id))}):o.jsx("div",{className:"empty-portfolio",children:o.jsxs("div",{className:"empty-state",children:[o.jsx("h4",{children:"Nessun flash disponibile"}),o.jsx("p",{children:"Questo artista non ha ancora caricato disegni flash disponibili."})]})})]}),_==="recensioni"&&o.jsxs("div",{className:"tab-panel recensioni-panel",children:[o.jsx("h3",{children:"RECENSIONI CLIENTI"}),o.jsxs("div",{className:"reviews-list",children:[o.jsxs("div",{className:"review-item",children:[o.jsxs("div",{className:"review-header",children:[o.jsxs("div",{className:"reviewer-info",children:[o.jsx("strong",{children:"Marco R."}),o.jsx("div",{className:"review-stars",children:""})]}),o.jsx("span",{className:"review-date",children:"15 Gen 2024"})]}),o.jsx("p",{className:"review-text",children:'"Esperienza fantastica! Professionalit al top e risultato perfetto. Il tatuaggio  venuto esattamente come volevo. Consigliatissimo!"'})]}),o.jsxs("div",{className:"review-item",children:[o.jsxs("div",{className:"review-header",children:[o.jsxs("div",{className:"reviewer-info",children:[o.jsx("strong",{children:"Giulia M."}),o.jsx("div",{className:"review-stars",children:""})]}),o.jsx("span",{className:"review-date",children:"8 Gen 2024"})]}),o.jsx("p",{className:"review-text",children:'"Artista incredibile! Studio pulito e igienizzato, grande attenzione ai dettagli. Il mio primo tatuaggio non poteva andare meglio."'})]}),o.jsxs("div",{className:"review-item",children:[o.jsxs("div",{className:"review-header",children:[o.jsxs("div",{className:"reviewer-info",children:[o.jsx("strong",{children:"Alessio T."}),o.jsx("div",{className:"review-stars",children:""})]}),o.jsx("span",{className:"review-date",children:"2 Gen 2024"})]}),o.jsx("p",{className:"review-text",children:`"Cover up riuscitissimo! Ha trasformato un vecchio tatuaggio in un'opera d'arte. Tempi rispettati e prezzo onesto."`})]})]}),o.jsx("div",{className:"reviews-summary",children:o.jsxs("div",{className:"rating-average",children:[o.jsx("span",{className:"rating-number",children:"4.9"}),o.jsx("div",{className:"rating-stars",children:""}),o.jsx("span",{className:"rating-count",children:"127 recensioni"})]})})]})]})]})]}):o.jsxs("div",{className:"error-state",children:[o.jsx("h2",{children:"Profilo non trovato"}),o.jsx("p",{children:"L'artista richiesto non  stato trovato."})]})})})]})}function bx({isOpen:r,title:n,message:i,confirmText:l="Conferma",cancelText:u="Annulla",onConfirm:d,onCancel:h}){if(x.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const m=v=>{v.target===v.currentTarget&&h()};return o.jsx("div",{className:"auth-overlay",onClick:m,children:o.jsxs("div",{className:"auth-modal",children:[o.jsx("div",{className:"auth-header-sticky",children:o.jsx("button",{className:"auth-close-btn",onClick:h,children:""})}),o.jsx("div",{className:"auth-modal-header"}),o.jsxs("div",{className:"auth-content",children:[o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:n}),o.jsx("p",{children:i})]}),o.jsx("form",{className:"auth-form",onSubmit:v=>{v.preventDefault(),d()},children:o.jsxs("div",{className:"modal-actions",children:[o.jsxs("button",{type:"button",className:"action-btn",onClick:h,children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),o.jsx("span",{className:"action-text",children:u})]}),o.jsxs("button",{type:"submit",className:"action-btn",children:[o.jsx("span",{className:"action-icon",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("polyline",{points:"3,6 5,6 21,6"}),o.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),o.jsx("span",{className:"action-text",children:l})]})]})})]})]})})}function _x(){const r=mt(),{user:n,profile:i,loading:l,refreshProfile:u}=Ve();x.useEffect(()=>{window.scrollTo(0,0)},[]),x.useEffect(()=>{!l&&i&&i.profile_type==="client"&&r("/")},[i,l,r]);const{fetchFollowerStats:d,getFollowerStats:h}=yr(),[m,v]=x.useState(!1),[p,g]=x.useState(!1),[_,w]=x.useState(!1),[j,S]=x.useState(null),[E,N]=x.useState("portfolio"),[O,D]=x.useState(!1),[M,H]=x.useState([]),[Q,A]=x.useState(!0),[q,J]=x.useState({bio:i?.bio||"",location:i?.location||"",avatar_url:i?.avatar_url||""}),[W,me]=x.useState({title:"",description:"",image_url:"",tags:"",is_flash:!1,price:"",location:""}),[ae,X]=x.useState(null),[ue,le]=x.useState(null),[ve,$]=x.useState(""),[K,ne]=x.useState(null),ge=(Z,re)=>{r(`/?search=${encodeURIComponent(Z)}&location=${encodeURIComponent(re)}`)},T=()=>{r("/")},I=x.useCallback(async()=>{if(i?.user_id)try{const{data:Z,error:re}=await ce.from("portfolio_items").select("*").eq("user_id",i.user_id).order("created_at",{ascending:!1});if(re){console.error("Error fetching portfolio items:",re);return}const Ye=(Z||[]).map(De=>({id:De.id,title:De.title,description:De.description||"",image_url:De.image_url,tags:De.tags||[],is_flash:De.is_flash||!1,price:De.price,location:De.location,created_at:De.created_at,updated_at:De.updated_at,user_id:De.user_id,artist_name:i.full_name||i.username||"Tu",full_name:i.full_name||i.username||"Tu",artist_avatar_url:i.avatar_url}));H(Ye)}catch(Z){console.error("Error fetching portfolio items:",Z)}finally{A(!1)}},[i]),ee=async Z=>{if(!n?.id||!i?.user_id)throw new Error("User not authenticated");try{const re=Z.name.split(".").pop(),Ye=`${Date.now()}-${Math.random().toString(36).substring(2)}.${re}`,De=`${n.id}/${Ye}`,{error:Sa}=await ce.storage.from("portfolio").upload(De,Z,{cacheControl:"3600",upsert:!1});if(Sa)throw console.error("Storage upload error:",Sa),Sa;const{data:Na}=ce.storage.from("portfolio").getPublicUrl(De);return Na.publicUrl}catch(re){throw console.error("Error uploading image:",re),re}},F=async()=>{if(!(!n||!i)){D(!0);try{let Z=W.image_url.trim()||null;if(ae)try{Z=await ee(ae)}catch(Ye){console.error("Error uploading image:",Ye),alert("Errore durante il caricamento dell'immagine. Riprova."),D(!1);return}const{error:re}=await ce.from("portfolio_items").insert({user_id:i.user_id,title:W.title.trim(),description:W.description.trim()||null,image_url:Z,tags:W.tags?W.tags.split(",").map(Ye=>Ye.trim()).filter(Ye=>Ye):[],is_flash:W.is_flash,price:W.price?parseFloat(W.price):null,location:W.location.trim()||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(re){console.error("Error uploading portfolio item:",re),alert("Errore durante il caricamento del lavoro");return}se(),await I(),g(!1)}catch(Z){console.error("Error uploading portfolio item:",Z),alert("Errore durante il caricamento del lavoro")}finally{D(!1)}}},P=async()=>{if(!(!n||!i)){D(!0);try{let Z=q.avatar_url;if(ue)try{const Ye=Date.now(),De=ue.name.split(".").pop(),Sa=`${n.id}/avatar_${Ye}.${De}`,{data:Na,error:aa}=await ce.storage.from("avatars").upload(Sa,ue,{cacheControl:"3600",upsert:!1});if(aa){console.error("Error uploading avatar:",aa),aa.message?.includes("Bucket not found")?alert("Errore: Il bucket per gli avatar non  configurato. Esegui il file fix-avatars-policies.sql nel database."):aa.message?.includes("The resource already exists")?alert("Avatar con questo nome gi esistente. Riprova."):aa.message?.includes("row-level security policy")||aa.message?.includes("RLS")?alert("Errore di permessi: Le politiche RLS per gli avatar non sono configurate correttamente. Esegui il file fix-avatars-policies.sql nel database."):alert(`Errore durante il caricamento dell'avatar: ${aa.message}`);return}const{data:Pi}=ce.storage.from("avatars").getPublicUrl(Na.path);Z=Pi.publicUrl}catch(Ye){console.error("Network error uploading avatar:",Ye),alert("Errore di rete. Verifica la connessione internet e riprova.");return}const{error:re}=await ce.from("profiles").update({bio:q.bio.trim(),location:q.location.trim(),avatar_url:Z,updated_at:new Date().toISOString()}).eq("user_id",i.user_id);if(re){console.error("Error updating profile:",re),alert("Errore durante l'aggiornamento del profilo");return}u&&await u(),le(null),$(""),v(!1)}catch(Z){console.error("Error updating profile:",Z),alert("Errore durante l'aggiornamento del profilo")}finally{D(!1)}}},te=Z=>{const re=Z.target.files?.[0];if(re){if(!re.type.startsWith("image/")){alert("Seleziona un file immagine valido (JPG, PNG, GIF, WebP)");return}const Ye=5*1024*1024;if(re.size>Ye){alert("Il file  troppo grande. Dimensione massima: 5MB");return}X(re);const De=new FileReader;De.onload=()=>{ne(De.result)},De.readAsDataURL(re)}},se=()=>{me({title:"",description:"",image_url:"",tags:"",is_flash:!1,price:"",location:""}),X(null),ne(null)},ke=Z=>{const re=Z.target.files?.[0];if(re){if(!re.type.startsWith("image/")){alert("Seleziona un file immagine valido (JPG, PNG, GIF, WebP)");return}const Ye=2*1024*1024;if(re.size>Ye){alert("Il file  troppo grande. Dimensione massima: 2MB");return}le(re);const De=new FileReader;De.onload=()=>{$(De.result)},De.readAsDataURL(re)}},Ne=()=>{le(null),$(""),q.avatar_url&&J(Z=>({...Z,avatar_url:""}))},qe=["Racconta la tua storia come tatuatore","Descrivi il tuo stile artistico preferito","Menziona gli anni di esperienza","Parla delle tue specializzazioni","Condividi la tua filosofia sull'arte del tatuaggio"];x.useEffect(()=>{i&&(J({bio:i.bio||"",location:i.location||"",avatar_url:i.avatar_url||""}),I())},[i,I]),x.useEffect(()=>(m||p||_?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[m,p,_]);const Nn=(i?h(i.user_id):null)?.follower_count||0;x.useEffect(()=>{i?.user_id&&d([i.user_id])},[i?.user_id,d]),x.useEffect(()=>{!l&&(!n||!i)&&r("/")},[n,i,l,r]);const En=Z=>{S(Z),w(!0)},As=async()=>{if(j)try{const{error:Z}=await ce.from("portfolio_items").delete().eq("id",j);if(Z){console.error("Error deleting portfolio item:",Z),alert("Errore durante l'eliminazione dell'elemento");return}H(re=>re.filter(Ye=>Ye.id!==j)),localStorage.setItem("portfolioItemsUpdated",Date.now().toString()),w(!1),S(null)}catch(Z){console.error("Error deleting portfolio item:",Z),alert("Errore durante l'eliminazione dell'elemento")}},ks=()=>{w(!1),S(null)};if(l)return o.jsxs("div",{className:"artist-profile",children:[o.jsx(Bt,{onSearch:ge,onLogoClick:T,hideOnMobile:!0}),o.jsx("div",{className:"loading-state",children:o.jsx(Yt,{size:"large"})})]});if(!n||!i)return null;const Cn=!i?.bio||!i?.location;return o.jsxs("div",{className:"artist-profile",children:[o.jsx(Bt,{onSearch:ge,onLogoClick:T,hideOnMobile:!0}),o.jsx("main",{className:"artist-profile-content",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"artist-profile-main",children:[o.jsx("section",{className:"artist-profile-header",children:o.jsxs("div",{className:"profile-info",children:[o.jsx(ht,{src:i.avatar_url,name:i.full_name,alt:`Avatar di ${i.full_name||i.username||"Utente"}`,size:"lg",variant:"bordered"}),o.jsxs("div",{className:"profile-details",children:[o.jsx("h1",{className:"profile-name",children:i.full_name||i.username||"Nome non disponibile"}),i.location&&o.jsxs("p",{className:"profile-location",children:[" ",i.location]}),i.bio&&o.jsx("p",{className:"profile-bio",children:i.bio}),o.jsx("div",{className:"profile-stats",children:o.jsxs("span",{className:"follower-count",children:[o.jsx("strong",{children:Nn.toLocaleString()})," follower"]})}),o.jsx("div",{className:"profile-actions",children:o.jsxs("button",{className:"action-btn",onClick:()=>v(!0),children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),o.jsx("span",{className:"action-text",children:Cn?"Completa il profilo":"Modifica Profilo"})]})})]})]})}),o.jsxs("section",{className:"artist-profile-tabs",children:[o.jsxs("div",{className:"tabs-navigation",children:[o.jsxs("button",{className:`tab-button ${E==="portfolio"?"active":""}`,onClick:()=>N("portfolio"),children:[o.jsxs("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o.jsx("polyline",{points:"21,15 16,10 5,21"})]}),o.jsx("span",{className:"tab-text",children:"PORTFOLIO"})]}),o.jsxs("button",{className:`tab-button ${E==="flash"?"active":""}`,onClick:()=>N("flash"),children:[o.jsx("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polygon",{points:"13,2 3,14 12,14 11,22 21,10 12,10 13,2"})}),o.jsx("span",{className:"tab-text",children:"FLASH"})]}),o.jsxs("button",{className:`tab-button ${E==="servizi"?"active":""}`,onClick:()=>N("servizi"),children:[o.jsx("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),o.jsx("span",{className:"tab-text",children:"SERVIZI"})]}),o.jsxs("button",{className:`tab-button ${E==="recensioni"?"active":""}`,onClick:()=>N("recensioni"),children:[o.jsx("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26 12,2"})}),o.jsx("span",{className:"tab-text",children:"RECENSIONI"})]})]}),o.jsxs("div",{className:"tab-content",children:[E==="portfolio"&&o.jsxs("div",{className:"tab-panel portfolio-panel",children:[o.jsxs("div",{className:"tab-header",children:[o.jsxs("h3",{children:["GALLERIA LAVORI (",M.filter(Z=>!Z.is_flash).length,")"]}),o.jsxs("button",{className:"action-btn",onClick:()=>g(!0),children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M12 5v14m7-7l-7-7-7 7"})})}),o.jsx("span",{className:"action-text",children:"Aggiungi Lavoro"})]})]}),Q?o.jsxs("div",{className:"portfolio-loading",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{children:"Caricamento portfolio..."})]}):M.filter(Z=>!Z.is_flash).length>0?o.jsx("div",{className:"artist-portfolio-grid",children:M.filter(Z=>!Z.is_flash).map(Z=>o.jsx(jn,{item:Z,onArtistClick:()=>{},showDeleteButton:!0,onDelete:En},Z.id))}):o.jsx("div",{className:"empty-portfolio",children:o.jsxs("div",{className:"empty-state",children:[o.jsx("h4",{children:"Portfolio vuoto"}),o.jsx("p",{children:"I tuoi lavori appariranno qui una volta che inizierai a caricarli."})]})})]}),E==="servizi"&&o.jsxs("div",{className:"tab-panel servizi-panel",children:[o.jsx("h3",{children:"I MIEI SERVIZI"}),o.jsx("div",{className:"empty-portfolio",children:o.jsxs("div",{className:"empty-state",children:[o.jsx("h4",{children:"Nessun servizio pubblicato"}),o.jsx("p",{children:"Aggiungi i tuoi servizi per far conoscere ai clienti cosa offri."})]})})]}),E==="flash"&&o.jsxs("div",{className:"tab-panel flash-panel",children:[o.jsxs("div",{className:"tab-header",children:[o.jsxs("h3",{children:["DISEGNI FLASH DISPONIBILI (",M.filter(Z=>Z.is_flash).length,")"]}),o.jsxs("button",{className:"action-btn",onClick:()=>{me(Z=>({...Z,is_flash:!0})),g(!0)},children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M12 5v14m7-7l-7-7-7 7"})})}),o.jsx("span",{className:"action-text",children:"Aggiungi Lavoro"})]})]}),Q?o.jsxs("div",{className:"portfolio-loading",children:[o.jsx(Yt,{size:"large"}),o.jsx("p",{children:"Caricamento flash..."})]}):M.filter(Z=>Z.is_flash).length>0?o.jsx("div",{className:"artist-portfolio-grid",children:M.filter(Z=>Z.is_flash).map(Z=>o.jsx(jn,{item:Z,onArtistClick:()=>{},showDeleteButton:!0,onDelete:En},Z.id))}):o.jsx("div",{className:"empty-portfolio",children:o.jsxs("div",{className:"empty-state",children:[o.jsx("h4",{children:"Nessun flash disponibile"}),o.jsx("p",{children:"I tuoi disegni flash appariranno qui una volta che inizierai a caricarli."})]})})]}),E==="recensioni"&&o.jsxs("div",{className:"tab-panel recensioni-panel",children:[o.jsx("h3",{children:"LE MIE RECENSIONI"}),o.jsx("div",{className:"empty-portfolio",children:o.jsxs("div",{className:"empty-state",children:[o.jsx("h4",{children:"Nessuna recensione"}),o.jsx("p",{children:"Le recensioni dei tuoi clienti appariranno qui."})]})})]})]})]})]})})}),m&&o.jsx("div",{className:"auth-overlay",onClick:Z=>Z.target===Z.currentTarget&&v(!1),children:o.jsxs("div",{className:"auth-modal complete-profile-modal",children:[o.jsx("div",{className:"auth-header-sticky",children:o.jsx("button",{className:"auth-close-btn",onClick:()=>v(!1),children:""})}),o.jsx("div",{className:"auth-modal-header"}),o.jsxs("div",{className:"auth-content",children:[o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:Cn?"COMPLETA IL TUO PROFILO":"MODIFICA PROFILO"}),o.jsx("p",{children:Cn?"Aggiungi le informazioni mancanti per completare il tuo profilo":"Modifica le informazioni del tuo profilo"})]}),o.jsxs("form",{className:"complete-profile-form",onSubmit:Z=>Z.preventDefault(),children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"avatar",className:"form-label",children:"FOTO PROFILO"}),o.jsxs("div",{className:"avatar-upload-section",children:[o.jsx("div",{className:"current-avatar",children:ve?o.jsx("div",{className:"avatar avatar-md avatar-default",children:o.jsx("img",{src:ve,alt:"Anteprima avatar",className:"avatar-image"})}):q.avatar_url?o.jsx("div",{className:"avatar avatar-md avatar-default",children:o.jsx("img",{src:q.avatar_url,alt:"Avatar attuale",className:"avatar-image"})}):o.jsx("div",{className:"avatar avatar-md avatar-default",children:o.jsx("div",{className:"avatar-placeholder",children:(i?.full_name||i?.username||n?.email||"U").split(" ").map(Z=>Z[0]).join("").substring(0,2).toUpperCase()})})}),o.jsxs("div",{className:"avatar-upload-controls",children:[o.jsx("input",{type:"file",id:"avatar",accept:"image/*",onChange:ke,className:"file-input",style:{display:"none"}}),o.jsx(xa,{icon:o.jsx(cx,{}),text:q.avatar_url||ve?"Cambia foto":"Carica foto",onClick:()=>document.getElementById("avatar")?.click()}),(ve||q.avatar_url)&&o.jsx(xa,{icon:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),text:"Rimuovi",onClick:Ne,variant:"secondary"})]})]}),o.jsx("div",{className:"form-help",children:"Formati supportati: JPG, PNG, GIF, WebP. Dimensione massima: 2MB"})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:"bio",className:"form-label",children:["BIO ",!i?.bio&&o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("textarea",{id:"bio",className:"form-textarea",placeholder:"Raccontaci qualcosa su di te...",value:q.bio,onChange:Z=>J(re=>({...re,bio:Z.target.value})),rows:4,maxLength:500}),o.jsxs("div",{className:"bio-suggestions",children:[o.jsx("p",{className:"suggestions-title",children:" Suggerimenti per la bio:"}),o.jsx("ul",{className:"suggestions-list",children:qe.map((Z,re)=>o.jsx("li",{className:"suggestion-item",children:Z},re))})]}),o.jsxs("div",{className:"char-count",children:[q.bio.length,"/500 caratteri"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:"location",className:"form-label",children:["LOCALIT ",!i?.location&&o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{type:"text",id:"location",className:"form-input",placeholder:"Es. Milano, Italia",value:q.location,onChange:Z=>J(re=>({...re,location:Z.target.value})),maxLength:100})]}),o.jsxs("div",{className:"form-actions",children:[o.jsxs("button",{type:"button",className:"action-btn",onClick:()=>v(!1),disabled:O,children:[o.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),o.jsx("span",{className:"action-text",children:"Annulla"})]}),o.jsxs("button",{type:"button",className:"action-btn",onClick:P,disabled:O||!q.bio.trim()||!q.location.trim(),children:[o.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M20 6L9 17l-5-5"})}),o.jsx("span",{className:"action-text",children:O?"Salvando...":Cn?"Completa Profilo":"Salva Modifiche"})]})]})]})]})]})}),p&&o.jsx("div",{className:"auth-overlay",onClick:Z=>Z.target===Z.currentTarget&&(g(!1),se()),children:o.jsxs("div",{className:"auth-modal upload-portfolio-modal",children:[o.jsx("div",{className:"auth-header-sticky",children:o.jsx("button",{className:"auth-close-btn",onClick:()=>{g(!1),se()},children:""})}),o.jsx("div",{className:"auth-modal-header"}),o.jsxs("div",{className:"upload-portfolio-content",children:[o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:"AGGIUNGI LAVORO"}),o.jsx("p",{children:"Carica un nuovo lavoro nel tuo portfolio"})]}),o.jsxs("form",{className:"upload-portfolio-form",onSubmit:Z=>Z.preventDefault(),children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{htmlFor:"title",className:"form-label",children:["TITOLO ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{type:"text",id:"title",className:"form-input",placeholder:"Es. Tatuaggio Tribale",value:W.title,onChange:Z=>me(re=>({...re,title:Z.target.value})),maxLength:100})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"description",className:"form-label",children:"DESCRIZIONE"}),o.jsx("textarea",{id:"description",className:"form-textarea",placeholder:"Descrivi il lavoro, tecnica utilizzata, significato...",value:W.description,onChange:Z=>me(re=>({...re,description:Z.target.value})),rows:3,maxLength:500}),o.jsxs("div",{className:"char-count",children:[W.description.length,"/500 caratteri"]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"image_file",className:"form-label",children:"IMMAGINE"}),o.jsx("input",{type:"file",id:"image_file",className:"form-input file-input",accept:"image/*",onChange:te}),o.jsx("div",{className:"form-help",children:"Formati supportati: JPG, PNG, GIF, WebP (max 5MB)"}),K&&o.jsxs("div",{className:"image-preview",children:[o.jsx("img",{src:K,alt:"Anteprima",className:"preview-image"}),o.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>{X(null),ne(null);const Z=document.getElementById("image_file");Z&&(Z.value="")},children:""})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"tags",className:"form-label",children:"TAG"}),o.jsx("input",{type:"text",id:"tags",className:"form-input",placeholder:"Es. tribale, braccio, nero",value:W.tags,onChange:Z=>me(re=>({...re,tags:Z.target.value}))}),o.jsx("div",{className:"form-help",children:"Separa i tag con virgole"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"upload_location",className:"form-label",children:"LOCALIT"}),o.jsx("input",{type:"text",id:"upload_location",className:"form-input",placeholder:"Es. Milano, Italia",value:W.location,onChange:Z=>me(re=>({...re,location:Z.target.value})),maxLength:100}),o.jsx("div",{className:"form-help",children:"Dove  stato realizzato questo lavoro"})]}),o.jsx("div",{className:"form-group",children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:W.is_flash,onChange:Z=>me(re=>({...re,is_flash:Z.target.checked}))}),o.jsx("span",{className:"checkbox-text",children:" un disegno flash disponibile"})]})}),W.is_flash&&o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"price",className:"form-label",children:"PREZZO ()"}),o.jsx("input",{type:"number",id:"price",className:"form-input",placeholder:"120",min:"0",step:"0.01",value:W.price,onChange:Z=>me(re=>({...re,price:Z.target.value}))})]}),o.jsxs("div",{className:"form-actions",children:[o.jsxs("button",{type:"button",className:"action-btn",onClick:()=>{g(!1),se()},disabled:O,children:[o.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),o.jsx("span",{className:"action-text",children:"Annulla"})]}),o.jsxs("button",{type:"button",className:"action-btn",onClick:F,disabled:O||!W.title.trim(),children:[o.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M12 5v14m7-7l-7-7-7 7"})}),o.jsx("span",{className:"action-text",children:O?"Caricando...":"Aggiungi Lavoro"})]})]})]})]})]})}),o.jsx(bx,{isOpen:_,title:"Elimina elemento",message:"Sei sicuro di voler eliminare questo elemento dal portfolio? Questa azione non pu essere annullata.",confirmText:"Elimina",cancelText:"Annulla",onConfirm:As,onCancel:ks})]})}function Jv({title:r,subtitle:n,actions:i,className:l=""}){return o.jsx("div",{className:`page-header ${l}`,children:o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:r}),n&&o.jsx("p",{children:n}),i&&o.jsx("div",{className:"header-actions",children:i})]})})}const xx=x.lazy(()=>Kt(()=>Promise.resolve().then(()=>gr),void 0).then(r=>({default:r.AuthOverlay})));function wx({onLogoClick:r,onArtistClick:n}){const{user:i}=Ve(),{savedTattoos:l,loading:u,refreshSavedTattoos:d}=bu(),[h,m]=x.useState([]),[v,p]=x.useState(!0),[g,_]=x.useState(null),[w,j]=x.useState(!1),S=x.useCallback(()=>{j(!0)},[]);return x.useEffect(()=>{window.scrollTo(0,0)},[]),x.useEffect(()=>{(async()=>{if(!i){m([]),p(!1);return}if(u||l.size===0){m([]),p(!1);return}try{p(!0);const N=Array.from(l),{data:O,error:D}=await ce.from("saved_tattoos").select("portfolio_item_id, created_at").in("portfolio_item_id",N).order("created_at",{ascending:!1});if(D){_("Errore nel caricamento degli elementi salvati"),console.error("Error loading saved items:",D.message);return}const{data:M,error:H}=await ce.from("portfolio_items").select(`
            *,
            profiles!inner(
              user_id,
              full_name,
              username,
              profile_type,
              bio,
              location
            )
          `).in("id",N);if(H){_("Errore nel caricamento degli elementi salvati"),console.error("Error loading portfolio items:",H.message);return}const Q=new Map(M.map(q=>[q.id,q])),A=O.map(q=>{const J=Q.get(q.portfolio_item_id);return J?{...J,artist_name:J.profiles.full_name||J.profiles.username||"Unknown",full_name:J.profiles.full_name,username:J.profiles.username,profile_type:J.profiles.profile_type,bio:J.profiles.bio,artist_location:J.profiles.location}:null}).filter(q=>q!==null);m(A),_(null)}catch(N){_("Errore nel caricamento degli elementi salvati"),console.error("Error loading saved items:",N)}finally{p(!1)}})()},[l,u,i]),v||u?o.jsxs("div",{className:"saved-items-page",children:[o.jsx(Bt,{onLogoClick:r,hideOnMobile:!0}),o.jsx("div",{className:"saved-items-loading",children:o.jsx(Yt,{})})]}):o.jsxs("div",{className:"saved-items-page",children:[o.jsx(Bt,{onLogoClick:r,hideOnMobile:!0}),o.jsxs("div",{className:"container",children:[!g&&h.length===0&&o.jsx("div",{className:"empty-state",children:o.jsxs("div",{className:"empty-content",children:[o.jsx("div",{className:"empty-icon",children:""}),o.jsx("h2",{className:"empty-title",children:i?"Nessun tatuaggio salvato":"Accedi per visualizzare i tatuaggi salvati"}),o.jsx("p",{className:"empty-description",children:i?"Inizia a esplorare i portfolio degli artisti e salva i tatuaggi che ti piacciono.":"Effettua il login per vedere i tatuaggi che hai salvato e gestire la tua collezione personale."}),o.jsx("button",{className:"action-btn",onClick:i?r:S,style:{marginTop:"1.5rem"},children:i?"Esplora Portfolio":"Accedi"})]})}),(h.length>0||g)&&o.jsxs("div",{className:"saved-items-content",children:[h.length>0&&o.jsx(Jv,{title:"ELEMENTI SALVATI",subtitle:h.length===1?"1 elemento salvato":`${h.length} elementi salvati`}),g&&o.jsx("div",{className:"error-state",children:o.jsxs("div",{className:"error-content",children:[o.jsx("p",{className:"error-message",children:g}),o.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>d(),style:{marginTop:"1.5rem"},children:"Riprova"})]})}),!g&&h.length>0&&o.jsx("div",{className:"portfolio-grid",children:h.map(E=>o.jsx(jn,{item:E,onArtistClick:n},E.id))})]})]}),w&&o.jsx(x.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(xx,{isOpen:w,onClose:()=>j(!1)})})]})}function jx({chats:r,selectedChatId:n,onChatSelect:i,onRequestDeleteChat:l}){const u=h=>{const m=new Date(h),p=(new Date().getTime()-m.getTime())/(1e3*60*60);return p<24?m.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}):p<48?"Ieri":m.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"})},d=(h,m)=>{h.stopPropagation(),l(m)};return o.jsxs("div",{className:"chat-list",children:[o.jsxs("div",{className:"chat-list-header",children:[o.jsx("h2",{className:"chat-list-title",children:"MESSAGGI"}),o.jsxs("span",{className:"chat-count",children:[r.length," conversazioni"]})]}),o.jsx("div",{className:"chat-list-items",children:r.length===0?o.jsxs("div",{className:"empty-chat-list",children:[o.jsx("div",{className:"empty-chat-icon",children:""}),o.jsx("p",{className:"empty-chat-text",children:"Nessuna conversazione ancora"})]}):r.map(h=>o.jsxs("div",{className:`chat-item ${n===h.id?"active":""}`,onClick:()=>i(h.id),children:[o.jsx("div",{className:"chat-avatar",children:o.jsx(ht,{src:h.participant.avatar,name:h.participant.name,alt:`Avatar di ${h.participant.name}`,size:"sm",variant:"default"})}),o.jsxs("div",{className:"chat-content",children:[o.jsxs("div",{className:"chat-header",children:[o.jsx("h3",{className:"chat-participant-name",children:h.participant.name}),o.jsxs("div",{className:"chat-header-actions",children:[o.jsx("span",{className:"chat-timestamp",children:u(h.timestamp)}),o.jsx("button",{className:"chat-delete-btn",onClick:m=>d(m,{id:h.id,participant:{name:h.participant.name}}),title:"Elimina conversazione","aria-label":"Elimina conversazione",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("polyline",{points:"3,6 5,6 21,6"}),o.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})})]})]}),o.jsxs("div",{className:"chat-preview",children:[o.jsx("p",{className:"chat-last-message",children:h.lastMessage}),h.unreadCount>0&&o.jsx("span",{className:"chat-unread-count",children:h.unreadCount})]})]})]},h.id))})]})}function Sx(){const{user:r}=Ve(),[n,i]=x.useState([]),[l,u]=x.useState([]),[d,h]=x.useState(!0),[m,v]=x.useState(null),p=x.useCallback(async()=>{if(r)try{h(!0),v(null);const{data:N,error:O}=await ce.from("user_conversation_deletions").select("participant_id, deleted_at").eq("user_id",r.id);O&&O.code!=="PGRST116"&&console.error("Error fetching deleted conversations:",O);const D=new Map(N?.map(X=>[X.participant_id,X.deleted_at])||[]),{data:M,error:H}=await ce.from("messages").select(`
          id,
          sender_id,
          receiver_id,
          content,
          created_at,
          is_read
        `).or(`sender_id.eq.${r.id},receiver_id.eq.${r.id}`).is("deleted_at",null).order("created_at",{ascending:!1});if(H)throw console.error("Supabase query error:",H),H;const Q=M;if(Q.length===0){i([]),u([]);return}const A=Q.filter(X=>{const ue=X.sender_id===r.id?X.receiver_id:X.sender_id,le=D.get(ue);return le?new Date(X.created_at)>new Date(le):!0});if(A.length===0){i([]),u([]);return}const q=new Set;q.add(r.id),A.forEach(X=>{q.add(X.sender_id),q.add(X.receiver_id)});const J=new Map;if(q.size>0)try{const{data:X,error:ue}=await ce.from("profiles").select("user_id, full_name, username, avatar_url").in("user_id",Array.from(q));!ue&&X&&X.forEach(le=>{J.set(le.user_id,le)})}catch(X){console.warn("Could not fetch profile data, using fallback names:",X)}const W=new Map;A.forEach(X=>{const ue=X.sender_id===r.id,le=ue?X.receiver_id:X.sender_id,ve=[r.id,le].sort(),$=`${ve[0]}__${ve[1]}`;if(!W.has($)){const K=A.filter(T=>T.sender_id===le&&T.receiver_id===r.id&&!T.is_read).length,ne=J.get(le),ge=ne?.full_name||ne?.username||`User ${le.slice(0,8)}`;W.set($,{id:$,participant:{user_id:le,name:ge,username:ne?.username||"",avatar:ne?.avatar_url||null},lastMessage:X.content,timestamp:X.created_at,unreadCount:K,isFromCurrentUser:ue})}});const me=Array.from(W.values());i(me);const ae=A.map(X=>{const ue=J.get(X.sender_id),le=J.get(X.receiver_id);return{id:X.id,sender_id:X.sender_id,receiver_id:X.receiver_id,content:X.content,created_at:X.created_at,is_read:X.is_read,deleted_at:null,sender:{user_id:X.sender_id,full_name:ue?.full_name||ue?.username||`User ${X.sender_id.slice(0,8)}`,username:ue?.username||"",avatar_url:ue?.avatar_url||null},receiver:{user_id:X.receiver_id,full_name:le?.full_name||le?.username||`User ${X.receiver_id.slice(0,8)}`,username:le?.username||"",avatar_url:le?.avatar_url||null}}});u(ae)}catch(N){v(N instanceof Error?N.message:"Failed to fetch messages"),console.error("Error fetching conversations:",N)}finally{h(!1)}},[r]),g=x.useCallback(async N=>{if(!r)return[];try{const{data:O,error:D}=await ce.from("user_conversation_deletions").select("participant_id, deleted_at").eq("user_id",r.id).eq("participant_id",N);D&&D.code!=="PGRST116"&&console.error("Error checking deleted conversations:",D);let M=null;O&&O.length>0&&(M=O[0].deleted_at);let H=ce.from("messages").select(`
          id,
          sender_id,
          receiver_id,
          content,
          created_at,
          is_read
        `).or(`and(sender_id.eq.${r?.id},receiver_id.eq.${N}),and(sender_id.eq.${N},receiver_id.eq.${r?.id})`).is("deleted_at",null).order("created_at",{ascending:!0});M&&(H=H.gt("created_at",M));const{data:Q,error:A}=await H;if(A)throw A;const q=Q;if(q.length===0)return[];const J=[r.id,N],W=new Map;try{const{data:ae,error:X}=await ce.from("profiles").select("user_id, full_name, username, avatar_url").in("user_id",J);!X&&ae&&ae.forEach(ue=>{W.set(ue.user_id,ue)})}catch(ae){console.warn("Could not fetch profile data for conversation, using fallback names:",ae)}return q.map(ae=>{const X=W.get(ae.sender_id),ue=W.get(ae.receiver_id);return{id:ae.id,sender_id:ae.sender_id,receiver_id:ae.receiver_id,content:ae.content,created_at:ae.created_at,is_read:ae.is_read,deleted_at:null,sender:{user_id:ae.sender_id,full_name:X?.full_name||X?.username||`User ${ae.sender_id.slice(0,8)}`,username:X?.username||"",avatar_url:X?.avatar_url||null},receiver:{user_id:ae.receiver_id,full_name:ue?.full_name||ue?.username||`User ${ae.receiver_id.slice(0,8)}`,username:ue?.username||"",avatar_url:ue?.avatar_url||null}}})}catch(O){return console.error("Error fetching conversation messages:",O),[]}},[r]),_=x.useCallback(async(N,O)=>{if(r)try{const D=[r.id,N].sort(),M=`${D[0]}__${D[1]}`;let H=!1;if(i(Q=>Q.find(q=>q.id===M)?Q.map(q=>q.id===M?{...q,lastMessage:O,timestamp:new Date().toISOString(),isFromCurrentUser:!0}:q):(H=!0,Q)),H){let Q=null;try{const{data:q,error:J}=await ce.from("profiles").select("user_id, full_name, username, avatar_url").eq("user_id",N).single();!J&&q&&(Q=q)}catch(q){console.warn("Could not fetch receiver profile:",q)}const A={id:M,participant:{user_id:N,name:Q?.full_name||Q?.username||`User ${N.slice(0,8)}`,username:Q?.username||"",avatar:Q?.avatar_url||null},lastMessage:O,timestamp:new Date().toISOString(),unreadCount:0,isFromCurrentUser:!0};i(q=>[A,...q])}}catch(D){console.error("Error updating conversation locally:",D)}},[r]),w=x.useCallback(async(N,O)=>{if(!r||!O.trim())return!1;try{const{error:D}=await ce.from("messages").insert([{sender_id:r.id,receiver_id:N,content:O.trim()}]);if(D)throw D;return await _(N,O.trim()),!0}catch(D){return console.error("Error sending message:",D),v(D instanceof Error?D.message:"Failed to send message"),!1}},[r,_]),j=async N=>{if(r)try{const{error:O}=await ce.from("messages").update({is_read:!0}).eq("sender_id",N).eq("receiver_id",r.id).eq("is_read",!1);if(O)throw O;i(D=>D.map(M=>M.participant.user_id===N?{...M,unreadCount:0}:M))}catch(O){console.error("Error marking messages as read:",O)}},S=async N=>{if(r)try{const{error:O}=await ce.from("user_conversation_deletions").upsert({user_id:r.id,participant_id:N,deleted_at:new Date().toISOString()},{onConflict:"user_id,participant_id"});if(O)throw O;i(D=>D.filter(M=>M.participant.user_id!==N))}catch(O){console.error("Error deleting conversation:",O),v(O instanceof Error?O.message:"Failed to delete conversation")}},E=()=>n.reduce((N,O)=>N+O.unreadCount,0);return x.useEffect(()=>{p()},[r,p]),{conversations:n,messages:l,loading:d,error:m,sendMessage:w,fetchConversationMessages:g,markConversationAsRead:j,deleteConversation:S,getUnreadCount:E,refreshConversations:p}}function Nx({chat:r,onRequestDeleteChat:n,sendMessage:i,fetchConversationMessages:l,hideHeaderAndInput:u=!1}){const{user:d}=Ve(),[h,m]=x.useState(""),[v,p]=x.useState([]),[g,_]=x.useState(!1),[w,j]=x.useState(null),S=x.useRef(null),E=x.useCallback(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},[]),N=x.useCallback(A=>{if(!d)return null;const[q,J]=A.split("__");return q===d.id?J:q},[d]),O=x.useCallback(async(A=!0)=>{if(!r||!l)return;const q=N(r.id);if(q){A&&_(!0);try{const W=(await l(q)).map(me=>({id:me.id,content:me.content,timestamp:me.created_at,isFromCurrentUser:me.sender_id===d?.id}));p(me=>JSON.stringify(me)!==JSON.stringify(W)?(setTimeout(()=>E(),100),W):me)}catch(J){console.error("Error loading conversation messages:",J),p([])}finally{A&&_(!1)}}},[r,l,d?.id,N,E]);x.useEffect(()=>{if(!r){p([]),m(""),_(!1);return}O(!0),setTimeout(()=>E(),200);const A=setInterval(()=>{O(!1)},3e3);return j(A),()=>{clearInterval(A),j(null)}},[r,d?.id,O]),x.useEffect(()=>()=>{w&&clearInterval(w)},[w]);const D=A=>new Date(A).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),M=async()=>{if(!h.trim()||!r||!d||!i)return;const A=N(r.id);if(!A)return;const q=h.trim();m("");try{if(await i(A,q)){const W={id:`temp_${Date.now()}`,content:q,timestamp:new Date().toISOString(),isFromCurrentUser:!0};p(me=>[...me,W]),setTimeout(()=>E(),50)}else m(q)}catch(J){console.error("Error sending message:",J),m(q)}},H=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),M())},Q=()=>{r&&n&&n({id:r.id,participant:{name:r.participant.name}})};return r?o.jsxs("div",{className:"chat-conversation",children:[!u&&o.jsxs("div",{className:"conversation-header",children:[o.jsxs("div",{className:"conversation-participant",children:[o.jsx(ht,{src:r.participant.avatar,name:r.participant.name,alt:`Avatar di ${r.participant.name}`,size:"sm",variant:"default"}),o.jsx("h2",{className:"participant-name",children:r.participant.name||"Nome non disponibile"})]}),o.jsx("div",{className:"conversation-actions",children:o.jsx(xa,{icon:o.jsx(ux,{}),text:"Elimina",variant:"secondary",onClick:A=>{A.stopPropagation(),A.preventDefault(),Q()},className:"delete-chat-action"})})]}),o.jsx("div",{className:"messages-container",children:o.jsx("div",{className:"messages-list",ref:S,children:g?o.jsx("div",{className:"loading-messages",children:o.jsx("p",{children:"Caricamento messaggi..."})}):v.length===0?o.jsx("div",{className:"empty-messages",children:o.jsx("p",{children:"Nessun messaggio ancora. Inizia la conversazione!"})}):v.map(A=>o.jsx("div",{className:`message ${A.isFromCurrentUser?"sent":"received"}`,children:o.jsxs("div",{className:"message-bubble",children:[o.jsx("p",{className:"message-content",children:A.content}),o.jsx("span",{className:"message-time",children:D(A.timestamp)})]})},A.id))})}),!u&&o.jsx("div",{className:"message-input-container",children:o.jsxs("div",{className:"message-input-wrapper",children:[o.jsx("textarea",{className:"message-input",placeholder:"Scrivi un messaggio...",value:h,onChange:A=>m(A.target.value),onKeyPress:H,rows:1}),o.jsx(xa,{icon:o.jsx(dx,{}),text:"Invia",variant:"secondary",onClick:M,disabled:!h.trim(),className:"send-message-action"})]})})]}):o.jsx("div",{className:"chat-conversation empty",children:o.jsxs("div",{className:"empty-conversation",children:[o.jsx("div",{className:"empty-conversation-icon",children:""}),o.jsx("h3",{className:"empty-conversation-title",children:"Seleziona una conversazione"}),o.jsx("p",{className:"empty-conversation-text",children:"Scegli una chat dalla lista per iniziare a messaggiare"})]})})}const ev=(r,n)=>{const i=[r,n].sort();return`${i[0]}__${i[1]}`};function Ic({isOpen:r,title:n,message:i,confirmText:l="Conferma",cancelText:u="Annulla",onConfirm:d,onCancel:h}){x.useEffect(()=>{const g=_=>{_.key==="Escape"&&h()};if(r)return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r,h]);const m=g=>{g.target===g.currentTarget&&h()},v=()=>{h()},p=()=>{d()};return r?o.jsx("div",{className:"auth-overlay",onClick:m,children:o.jsxs("div",{className:"auth-modal",children:[o.jsx("div",{className:"auth-header-sticky",children:o.jsx("button",{className:"auth-close-btn",onClick:v,children:""})}),o.jsx("div",{className:"auth-modal-header"}),o.jsxs("div",{className:"auth-content",children:[o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:n}),o.jsx("p",{children:i})]}),o.jsx("form",{className:"auth-form",onSubmit:g=>{g.preventDefault(),p()},children:o.jsxs("div",{className:"modal-actions",children:[o.jsxs("button",{type:"button",className:"action-btn",onClick:v,children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),o.jsx("span",{className:"action-text",children:u})]}),o.jsxs("button",{type:"submit",className:"action-btn",children:[o.jsx("span",{className:"action-icon",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("polyline",{points:"3,6 5,6 21,6"}),o.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),o.jsx("span",{className:"action-text",children:l})]})]})})]})]})}):null}const or=x.lazy(()=>Kt(()=>Promise.resolve().then(()=>gr),void 0).then(r=>({default:r.AuthOverlay}))),Ex=()=>{const[r,n]=x.useState(!1);return x.useEffect(()=>{const i=()=>{n(window.innerWidth<=768)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),r};function tv(){const{artistId:r}=dv(),n=mt(),{user:i}=Ve(),l=Ex(),u=()=>n("/"),[d,h]=x.useState(!1),m=P=>{const te=new Date(P),ke=(new Date().getTime()-te.getTime())/(1e3*60*60);return ke<24?te.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}):ke<48?"Ieri":te.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"})},v=x.useCallback(()=>{h(!0)},[]);x.useEffect(()=>{window.scrollTo(0,0)},[]);const{conversations:p,loading:g,error:_,deleteConversation:w,markConversationAsRead:j,sendMessage:S,fetchConversationMessages:E}=Sx(),[N,O]=x.useState(null),[D,M]=x.useState(null),[H,Q]=x.useState(null),[A,q]=x.useState(""),[J,W]=x.useState([]),[me,ae]=x.useState(!1),X=x.useRef(null),ue=x.useCallback(()=>{if(X.current){const P=X.current,te=P.querySelector("#messages-bottom");te?(te.scrollIntoView({behavior:"auto",block:"start",inline:"nearest"}),setTimeout(()=>{P.scrollTop=P.scrollTop+80},10)):P.scrollTop=P.scrollHeight}},[]),le=p.map(P=>({id:P.id,participant:{name:P.participant.name,avatar:P.participant.avatar},lastMessage:P.lastMessage,timestamp:P.timestamp,unreadCount:P.unreadCount})),ve=x.useCallback(async P=>{try{const{data:te,error:se}=await ce.from("profiles").select("user_id, full_name, username, avatar_url").eq("user_id",P).single();if(se){console.error("Error fetching artist profile:",se);return}const ke={id:P,name:te?.full_name||te?.username||"Unknown Artist",avatar:te?.avatar_url};if(i){const Ne=ev(i.id,P);O(Ne),M(ke)}}catch(te){console.error("Error fetching artist profile:",te)}},[i]);x.useEffect(()=>{if(r&&i){const P=ev(i.id,r);p.find(se=>se.id===P)?(O(P),M(null)):ve(r)}},[r,i,p,ve]),x.useEffect(()=>{N&&D&&p.find(te=>te.id===N)&&M(null)},[p,N,D]),x.useEffect(()=>{if(!l||!r||!i||!E)return;const P=async(se=!0)=>{se&&ae(!0);try{const Ne=(await E(r)).map(qe=>({id:qe.id,content:qe.content,timestamp:qe.created_at,isFromCurrentUser:qe.sender_id===i.id}));W(qe=>JSON.stringify(qe)!==JSON.stringify(Ne)?(requestAnimationFrame(()=>{setTimeout(()=>ue(),50)}),Ne):qe)}catch(ke){console.error("Error loading conversation messages:",ke),W([])}finally{se&&ae(!1)}};P(!0),requestAnimationFrame(()=>{setTimeout(()=>ue(),100)});const te=setInterval(()=>{P(!1)},3e3);return()=>{clearInterval(te)}},[l,r,i?.id,ue]);const $=P=>new Date(P).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"});let K=N?le.find(P=>P.id===N):null;x.useEffect(()=>{N&&!K&&!D&&O(null)},[N,K,D]),!K&&D&&N&&(K={id:N,participant:{name:D.name,avatar:D.avatar},lastMessage:"",timestamp:new Date().toISOString(),unreadCount:0});const ne=P=>{const te=p.find(se=>se.id===P);if(te&&te.unreadCount>0&&j(te.participant.user_id),l&&te){n(`/messages/${te.participant.user_id}`);return}O(P)},ge=P=>{setTimeout(()=>{Q({id:P.id,participantName:P.participant.name})},0)},T=async()=>{if(H)try{const P=p.find(te=>te.id===H.id);P&&(N===H.id&&(O(null),M(null)),await w(P.participant.user_id))}catch(P){console.error("Failed to delete conversation:",P)}Q(null)},I=()=>{Q(null)},ee=async()=>{if(!A.trim()||!i)return;let P;if(K){const[se,ke]=K.id.split("__");P=se===i.id?ke:se}else if(r)P=r;else return;const te=A.trim();q("");try{await S(P,te)?l&&E&&setTimeout(async()=>{try{const Ne=(await E(P)).map(qe=>({id:qe.id,content:qe.content,timestamp:qe.created_at,isFromCurrentUser:qe.sender_id===i.id}));W(Ne),requestAnimationFrame(()=>{setTimeout(()=>ue(),50)})}catch(ke){console.error("Error reloading messages:",ke)}},100):q(te)}catch(se){console.error("Error sending message:",se),q(te)}},F=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),ee())};return i?g?o.jsxs("div",{className:"messages-page",children:[o.jsx(Bt,{onLogoClick:u,hideOnMobile:!0}),o.jsx("div",{className:"messages-loading",children:o.jsx(Yt,{})})]}):_?o.jsxs("div",{className:"messages-page",children:[o.jsx(Bt,{onLogoClick:u,hideOnMobile:!0}),o.jsx("div",{className:"messages-layout",children:o.jsxs("div",{className:"error-message",children:[o.jsx("h3",{children:"Errore caricamento messaggi"}),o.jsx("p",{children:_})]})})]}):l?r&&K?o.jsxs("div",{className:"messages-page mobile conversation",children:[o.jsxs("div",{className:"mobile-conversation-container",children:[o.jsxs("div",{className:"conversation-header",children:[o.jsx("button",{className:"back-to-messages",onClick:()=>n("/messages"),children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:o.jsx("polyline",{points:"15,18 9,12 15,6"})})}),o.jsxs("div",{className:"conversation-participant",children:[o.jsx(ht,{src:K.participant.avatar,name:K.participant.name,alt:`Avatar di ${K.participant.name}`,size:"sm",variant:"default"}),o.jsx("span",{className:"participant-name",children:K.participant.name})]}),o.jsxs("button",{className:"action-btn delete-chat-action",onClick:()=>ge({id:K.id,participant:{name:K.participant.name}}),title:"Elimina conversazione","aria-label":"Elimina conversazione",children:[o.jsx("span",{className:"action-icon",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("polyline",{points:"3,6 5,6 21,6"}),o.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),o.jsx("span",{className:"action-text",children:"Elimina"})]})]}),o.jsx("div",{className:"messages-list",ref:X,children:me?o.jsx("div",{className:"loading-messages",children:o.jsx("p",{children:"Caricamento messaggi..."})}):J.length===0?o.jsx("div",{className:"empty-messages",children:o.jsx("p",{children:"Nessun messaggio ancora. Inizia la conversazione!"})}):o.jsxs(o.Fragment,{children:[J.map(P=>o.jsx("div",{className:`message ${P.isFromCurrentUser?"sent":"received"}`,children:o.jsxs("div",{className:"message-bubble",children:[o.jsx("p",{className:"message-content",children:P.content}),o.jsx("span",{className:"message-time",children:$(P.timestamp)})]})},P.id)),o.jsx("div",{id:"messages-bottom",style:{height:"1px",minHeight:"1px"}})]})}),o.jsx("div",{className:"message-input-container",children:o.jsxs("div",{className:"message-input-wrapper",children:[o.jsx("textarea",{className:"message-input",placeholder:"Scrivi un messaggio...",value:A,onChange:P=>q(P.target.value),onKeyPress:F,rows:1}),o.jsx("button",{className:"send-message-btn",onClick:ee,disabled:!A.trim(),"aria-label":"Invia messaggio",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),o.jsx("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]})})]})})]}),o.jsx(Ic,{isOpen:H!==null,title:"Elimina Conversazione",message:H?`Vuoi davvero eliminare la conversazione con ${H.participantName}? Questa azione non pu essere annullata.`:"",confirmText:"Elimina",cancelText:"Annulla",onConfirm:T,onCancel:I}),d&&o.jsx(x.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(or,{isOpen:d,onClose:()=>h(!1)})})]}):o.jsxs("div",{className:"messages-page mobile",children:[o.jsxs("div",{className:"mobile-messages-container",children:[o.jsx("div",{className:"chat-list-header",children:o.jsx("h1",{className:"chat-list-title",children:"Messaggi"})}),o.jsx("div",{className:"chat-list-items",children:le.length===0?o.jsx("div",{className:"empty-state",children:o.jsxs("div",{className:"empty-content",children:[o.jsx("div",{className:"empty-icon",children:""}),o.jsx("h3",{className:"empty-title",children:"Nessun messaggio"}),o.jsx("p",{className:"empty-description",children:"Non hai ancora conversazioni attive."})]})}):le.map(P=>o.jsxs("div",{className:`chat-item ${N===P.id?"active":""}`,onClick:()=>ne(P.id),children:[o.jsx("div",{className:"chat-avatar",children:o.jsx(ht,{src:P.participant.avatar,name:P.participant.name,alt:`Avatar di ${P.participant.name}`,size:"sm",variant:"default"})}),o.jsxs("div",{className:"chat-content",children:[o.jsxs("div",{className:"chat-header",children:[o.jsx("h3",{className:"chat-participant-name",children:P.participant.name}),o.jsxs("div",{className:"chat-header-actions",children:[o.jsx("span",{className:"chat-timestamp",children:m(P.timestamp)}),o.jsx("button",{className:"chat-delete-btn",onClick:te=>{te.stopPropagation(),ge({id:P.id,participant:{name:P.participant.name}})},title:"Elimina conversazione","aria-label":"Elimina conversazione",children:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("polyline",{points:"3,6 5,6 21,6"}),o.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})})]})]}),o.jsxs("div",{className:"chat-preview",children:[o.jsx("p",{className:"chat-last-message",children:P.lastMessage||"Inizia una conversazione"}),P.unreadCount>0&&o.jsx("span",{className:"chat-unread-count",children:P.unreadCount})]})]})]},P.id))})]}),o.jsx(Ic,{isOpen:H!==null,title:"Elimina Conversazione",message:H?`Vuoi davvero eliminare la conversazione con ${H.participantName}? Questa azione non pu essere annullata.`:"",confirmText:"Elimina",cancelText:"Annulla",onConfirm:T,onCancel:I}),d&&o.jsx(x.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(or,{isOpen:d,onClose:()=>h(!1)})})]}):o.jsxs("div",{className:"messages-page",children:[o.jsx(Bt,{onLogoClick:u,hideOnMobile:!0}),o.jsxs("div",{className:"messages-layout",children:[o.jsx("div",{className:"chat-list-section",children:o.jsx(jx,{chats:le,selectedChatId:N,onChatSelect:ne,onRequestDeleteChat:ge})}),o.jsx("div",{className:"chat-conversation-section",children:K?o.jsx(Nx,{chat:K,onRequestDeleteChat:ge,sendMessage:S,fetchConversationMessages:E}):o.jsx("div",{className:"chat-conversation empty",children:o.jsxs("div",{className:"empty-conversation",children:[o.jsx("div",{className:"empty-conversation-icon",children:""}),o.jsx("h3",{className:"empty-conversation-title",children:"Seleziona una conversazione"}),o.jsx("p",{className:"empty-conversation-text",children:"Scegli una chat dalla lista per iniziare a messaggiare"})]})})})]}),o.jsx(Ic,{isOpen:H!==null,title:"Elimina Conversazione",message:H?`Vuoi davvero eliminare la conversazione con ${H.participantName}? Questa azione non pu essere annullata.`:"",confirmText:"Elimina",cancelText:"Annulla",onConfirm:T,onCancel:I}),d&&o.jsx(x.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(or,{isOpen:d,onClose:()=>h(!1)})})]}):o.jsxs("div",{className:"messages-page",children:[o.jsx(Bt,{onLogoClick:u,hideOnMobile:!0}),o.jsx("div",{className:"container",children:o.jsx("div",{className:"empty-state",children:o.jsxs("div",{className:"empty-content",children:[o.jsx("div",{className:"empty-icon",children:""}),o.jsx("h2",{className:"empty-title",children:"Accedi per visualizzare i messaggi"}),o.jsx("p",{className:"empty-description",children:"Effettua il login per vedere le tue conversazioni e iniziare a chattare con gli artisti."}),o.jsx("button",{className:"action-btn",onClick:v,style:{marginTop:"1.5rem"},children:"Accedi"})]})})}),d&&o.jsx(x.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(or,{isOpen:d,onClose:()=>h(!1)})})]})}function Cx({onLogoClick:r}){const{user:n,profile:i,refreshProfile:l}=Ve(),[u,d]=x.useState(!1),[h,m]=x.useState(null),[v,p]=x.useState(!1),[g,_]=x.useState(!1),w=mt(),j=async()=>{if(!n||!i){m("Devi essere autenticato per diventare un artista");return}if(i.profile_type==="artist"){m("Il tuo profilo  gi un profilo artista");return}d(!0),m(null);try{const{error:S}=await ce.from("profiles").update({profile_type:"artist"}).eq("user_id",n.id);if(S)throw S;await l(),p(!0),setTimeout(()=>{w("/profile")},2e3)}catch(S){m(`Errore durante l'aggiornamento: ${S.message}`)}finally{d(!1)}};return x.useEffect(()=>(g?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[g]),o.jsxs("div",{className:"become-artist-page",children:[o.jsx(Bt,{onLogoClick:r,hideOnMobile:!0}),o.jsxs("div",{className:"become-artist-container",children:[o.jsxs("div",{className:"hero-section",children:[o.jsx("h1",{className:"hero-title",children:"DIVENTA UN ARTISTA"}),o.jsx("p",{className:"hero-subtitle",children:"Trasforma la tua passione in una carriera professionale"}),o.jsx("div",{className:"hero-cta",children:v?o.jsxs("div",{className:"success-message",children:[o.jsx("h2",{children:"BENVENUTO TRA GLI ARTISTI!"}),o.jsx("p",{children:"Il tuo profilo  stato aggiornato con successo. Verrai reindirizzato alla home page..."})]}):o.jsxs(o.Fragment,{children:[h&&o.jsx("div",{className:"error-message",children:h}),o.jsx("button",{className:`hero-cta-button ${u?"loading":""}`,onClick:()=>_(!0),disabled:u||!n,children:u?"AGGIORNAMENTO IN CORSO...":"DIVENTA ARTISTA ORA"}),!n&&o.jsxs("p",{className:"auth-notice",children:["Devi essere autenticato per diventare un artista.",o.jsx("button",{className:"auth-link",onClick:()=>w("/"),children:"Torna alla home per accedere"})]})]})})]}),o.jsxs("div",{className:"benefits-section",children:[o.jsxs("div",{className:"benefit-card",children:[o.jsx("div",{className:"benefit-icon",children:""}),o.jsx("h3",{className:"benefit-title",children:"PUBBLICA I TUOI LAVORI"}),o.jsx("p",{className:"benefit-description",children:"Mostra il tuo portfolio e raggiungi migliaia di potenziali clienti. Carica le tue opere, organizza per categorie e attira nuovi clienti."})]}),o.jsxs("div",{className:"benefit-card",children:[o.jsx("div",{className:"benefit-icon",children:""}),o.jsx("h3",{className:"benefit-title",children:"GESTIONALE PERSONALE"}),o.jsx("p",{className:"benefit-description",children:"Accedi a strumenti avanzati per organizzare le tue opere, gestire le vendite e monitorare le performance del tuo business artistico."})]}),o.jsxs("div",{className:"benefit-card",children:[o.jsx("div",{className:"benefit-icon",children:""}),o.jsx("h3",{className:"benefit-title",children:"ADEMPIMENTI LEGALI"}),o.jsx("p",{className:"benefit-description",children:"Strumenti integrati per gestire fatturazione, contratti, consensi e tutti gli aspetti burocratici dell'attivit artistica."})]}),o.jsxs("div",{className:"benefit-card",children:[o.jsx("div",{className:"benefit-icon",children:""}),o.jsx("h3",{className:"benefit-title",children:"COMUNICAZIONE DIRETTA"}),o.jsx("p",{className:"benefit-description",children:"Sistema di messaggistica integrato per comunicare direttamente con i clienti, gestire appuntamenti e follow-up post-tatuaggio."})]})]})]}),g&&o.jsx("div",{className:"auth-overlay",onClick:S=>S.target===S.currentTarget&&_(!1),children:o.jsxs("div",{className:"auth-modal",children:[o.jsx("div",{className:"auth-header-sticky",children:o.jsx("button",{className:"auth-close-btn",onClick:()=>_(!1),children:""})}),o.jsx("div",{className:"auth-modal-header"}),o.jsxs("div",{className:"auth-content",children:[o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:"CONFERMA UPGRADE"}),o.jsx("p",{children:"Sei sicuro di voler diventare un artista? Questa azione cambier il tuo profilo da cliente ad artista"}),o.jsxs("p",{className:"confirmation-note",children:[o.jsx("strong",{children:"Nota:"})," Potrai sempre tornare indietro dalle impostazioni del profilo"]})]}),o.jsx("form",{className:"auth-form",onSubmit:S=>{S.preventDefault(),_(!1),j()},children:o.jsxs("div",{className:"modal-actions",children:[o.jsxs("button",{type:"button",className:"action-btn",onClick:()=>_(!1),children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),o.jsx("span",{className:"action-text",children:"Annulla"})]}),o.jsxs("button",{type:"submit",className:`action-btn ${u?"disabled":""}`,disabled:u,children:[o.jsx("span",{className:"action-icon",children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M20 6L9 17l-5-5"})})}),o.jsx("span",{className:"action-text",children:u?"AGGIORNAMENTO...":"CONFERMA"})]})]})})]})]})})]})}const Tx=x.lazy(()=>Kt(()=>Promise.resolve().then(()=>gr),void 0).then(r=>({default:r.AuthOverlay})));function Ax(){const{user:r,profile:n,signOut:i}=Ve(),l=mt(),[u,d]=x.useState(!1),h=x.useCallback(()=>{d(!0)},[]);x.useEffect(()=>{window.scrollTo(0,0)},[]);const m=()=>{if(n?.full_name)return n.full_name;if(n?.username)return n.username;if(r?.email){const g=r.email.split("@")[0];return g.includes(".")?g.split(".").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "):g}return"Utente"},v=g=>{switch(g){case"client":return"Cliente";case"artist":return"Artista";default:return g}},p=()=>{i(),l("/")};return!r||!n?o.jsxs("div",{className:"mobile-profile-page",children:[o.jsx("div",{className:"container",children:o.jsx("div",{className:"empty-state",children:o.jsxs("div",{className:"empty-content",children:[o.jsx("div",{className:"empty-icon",children:""}),o.jsx("h2",{className:"empty-title",children:"Accedi per visualizzare il profilo"}),o.jsx("p",{className:"empty-description",children:"Effettua il login per accedere alle impostazioni del tuo profilo e gestire il tuo account."}),o.jsx("button",{className:"action-btn",style:{marginTop:"1.5rem"},onClick:h,children:"Accedi"})]})})}),u&&o.jsx(x.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(Tx,{isOpen:u,onClose:()=>d(!1)})})]}):o.jsx("div",{className:"mobile-profile-page",children:o.jsxs("div",{className:"mobile-profile-content",children:[o.jsxs("div",{className:"mobile-profile-user",children:[o.jsx("div",{className:"mobile-profile-user-header",children:o.jsx("button",{className:"header-icon-btn","aria-label":"Notifiche",title:"Notifiche",children:o.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})})}),o.jsx("div",{className:"mobile-profile-avatar",children:o.jsx(ht,{src:n.avatar_url,name:n.full_name||m(),alt:`Avatar di ${m()}`,size:"lg",variant:"default"})}),o.jsxs("div",{className:"mobile-profile-info",children:[o.jsx("div",{className:"mobile-profile-name",children:m()}),o.jsx("div",{className:"mobile-profile-type",children:v(n.profile_type)})]})]}),o.jsxs("div",{className:"mobile-profile-menu",children:[n.profile_type!=="artist"&&o.jsxs("button",{className:"mobile-profile-item become-artist-btn",onClick:()=>l("/become-artist"),children:[o.jsx("span",{className:"mobile-profile-item-text",children:"Diventi un'artista"}),o.jsx("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),n.profile_type==="artist"&&o.jsxs("button",{className:"mobile-profile-item",onClick:()=>l("/profile"),children:[o.jsx("span",{className:"mobile-profile-item-text",children:"Il mio profilo"}),o.jsx("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),o.jsxs("button",{className:"mobile-profile-item",onClick:()=>l("/settings"),children:[o.jsx("span",{className:"mobile-profile-item-text",children:"Impostazioni"}),o.jsx("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),o.jsxs("button",{className:"mobile-profile-item logout-item",onClick:p,children:[o.jsx("span",{className:"mobile-profile-item-text",children:"Esci"}),o.jsxs("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),o.jsx("polyline",{points:"16,17 21,12 16,7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})]})]})]})})}function kx({isOpen:r,onClose:n}){const{user:i}=Ve(),[l,u]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,h]=x.useState({}),[m,v]=x.useState(!1),[p,g]=x.useState("");x.useEffect(()=>{r||(u({currentPassword:"",newPassword:"",confirmPassword:""}),h({}),g(""))},[r]),x.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),x.useEffect(()=>{const E=N=>{N.key==="Escape"&&n()};return r&&document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[r,n]);const _=()=>{const E={};if(l.currentPassword||(E.currentPassword="Password attuale richiesta"),!l.newPassword)E.newPassword=["Nuova password richiesta"];else{const N=yu(l.newPassword);N.errors.length>0&&(E.newPassword=N.errors)}return l.confirmPassword?l.newPassword!==l.confirmPassword&&(E.confirmPassword="Le password non corrispondono"):E.confirmPassword="Conferma password richiesta",h(E),Object.keys(E).length===0},w=async E=>{if(E.preventDefault(),!!_()&&!(m||!i)){v(!0),h({});try{const{error:N}=await ce.auth.signInWithPassword({email:i.email||"",password:l.currentPassword});if(N){h({currentPassword:"Password attuale non corretta"});return}const{error:O}=await ce.auth.updateUser({password:l.newPassword});if(O){h({general:O.message});return}g("Password aggiornata con successo!"),setTimeout(()=>{n()},2e3)}catch{h({general:"Si  verificato un errore. Riprova."})}finally{v(!1)}}},j=(E,N)=>{u(O=>({...O,[E]:N})),d[E]&&h(O=>{const D={...O};return delete D[E],D})},S=E=>{E.target===E.currentTarget&&n()};return r?o.jsx("div",{className:"auth-overlay",onClick:S,children:o.jsxs("div",{className:"auth-modal",children:[o.jsx("div",{className:"auth-header-sticky",children:o.jsx("button",{className:"auth-close-btn",onClick:n,children:""})}),o.jsx("div",{className:"auth-modal-header"}),o.jsxs("div",{className:"auth-content",children:[o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:"CAMBIA PASSWORD"}),o.jsx("p",{children:"Aggiorna la password del tuo account"})]}),d.general&&o.jsx("div",{className:"auth-error",children:d.general}),p&&o.jsx("div",{className:"auth-success",children:p}),o.jsxs("form",{className:"auth-form",onSubmit:w,children:[o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"currentPassword",children:["Password attuale ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{id:"currentPassword",type:"password",className:`form-input ${d.currentPassword?"error":""}`,value:l.currentPassword,onChange:E=>j("currentPassword",E.target.value),placeholder:"Inserisci la password attuale",disabled:m}),d.currentPassword&&o.jsx("div",{className:"form-error",children:d.currentPassword})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"newPassword",children:["Nuova password ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{id:"newPassword",type:"password",className:`form-input ${d.newPassword?"error":""}`,value:l.newPassword,onChange:E=>j("newPassword",E.target.value),placeholder:"Inserisci la nuova password",disabled:m}),d.newPassword&&o.jsx("div",{className:"form-error",children:d.newPassword.map((E,N)=>o.jsx("div",{children:E},N))})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"confirmPassword",children:["Conferma nuova password ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{id:"confirmPassword",type:"password",className:`form-input ${d.confirmPassword?"error":""}`,value:l.confirmPassword,onChange:E=>j("confirmPassword",E.target.value),placeholder:"Conferma la nuova password",disabled:m}),d.confirmPassword&&o.jsx("div",{className:"form-error",children:d.confirmPassword})]}),o.jsx("button",{type:"submit",className:"action-btn",disabled:m,children:m?"Aggiornamento...":"Aggiorna Password"})]})]})]})}):null}const Ox=x.lazy(()=>Kt(()=>import("./EmailChangeOverlay-DBdAWI-b.js"),[]).then(r=>({default:r.EmailChangeOverlay}))),Rx=x.lazy(()=>Kt(()=>import("./FullNameChangeOverlay-DxIMEb6s.js"),[]).then(r=>({default:r.FullNameChangeOverlay})));function Mx({onLogoClick:r}){const{profile:n,refreshProfile:i}=Ve(),l=mt(),[u,d]=x.useState(!1),[h,m]=x.useState(!1),[v,p]=x.useState(!1),[g,_]=x.useState(!1),[w,j]=x.useState(!1);x.useEffect(()=>{window.scrollTo(0,0)},[]);const S=()=>{d(!0)},E=()=>{m(!0)},N=()=>{p(!0)},O=()=>{_(!0)},D=async()=>{if(!(!n||w)){j(!0);try{const{error:H}=await ce.from("profiles").update({profile_type:"client",updated_at:new Date().toISOString()}).eq("user_id",n.user_id);if(H){console.error("Error changing profile type:",H),alert("Errore durante il cambio del tipo di profilo. Riprova.");return}i&&await i(),_(!1),l("/")}catch(H){console.error("Error changing profile type:",H),alert("Errore durante il cambio del tipo di profilo. Riprova.")}finally{j(!1)}}},M=()=>{};return o.jsxs("div",{className:"settings-page",children:[o.jsx(Bt,{onLogoClick:r,hideOnMobile:!0}),o.jsxs("div",{className:"settings-mobile-header",children:[o.jsx("button",{className:"back-to-profile",onClick:()=>l("/profile-menu"),children:o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",children:o.jsx("polyline",{points:"15,18 9,12 15,6"})})}),o.jsx("div",{className:"settings-mobile-title",children:o.jsx("span",{className:"settings-title-text",children:"IMPOSTAZIONI"})}),o.jsx("div",{className:"settings-mobile-spacer"})]}),o.jsx("div",{className:"container",children:o.jsxs("div",{className:"settings-content",children:[o.jsx(Jv,{title:"IMPOSTAZIONI",subtitle:"Gestisci il tuo account e le preferenze",className:"settings-desktop-header"}),o.jsx("div",{className:"settings-card",children:o.jsxs("div",{className:"settings-links",children:[o.jsxs("button",{className:"settings-link",onClick:S,children:[o.jsxs("div",{className:"settings-link-content",children:[o.jsx("h3",{className:"settings-link-title",children:"Cambia Password"}),o.jsx("p",{className:"settings-link-description",children:"Aggiorna la password del tuo account"})]}),o.jsx("svg",{className:"settings-link-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),o.jsxs("button",{className:"settings-link",onClick:E,children:[o.jsxs("div",{className:"settings-link-content",children:[o.jsx("h3",{className:"settings-link-title",children:"Cambia Email"}),o.jsx("p",{className:"settings-link-description",children:"Aggiorna l'indirizzo email del tuo account"})]}),o.jsx("svg",{className:"settings-link-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),o.jsxs("button",{className:"settings-link",onClick:N,children:[o.jsxs("div",{className:"settings-link-content",children:[o.jsx("h3",{className:"settings-link-title",children:"Cambia Nome"}),o.jsx("p",{className:"settings-link-description",children:"Aggiorna il nome visualizzato sul tuo profilo"})]}),o.jsx("svg",{className:"settings-link-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),n?.profile_type==="artist"&&o.jsxs("button",{className:"settings-link",onClick:O,children:[o.jsxs("div",{className:"settings-link-content",children:[o.jsx("h3",{className:"settings-link-title",children:"Cambia a Cliente"}),o.jsx("p",{className:"settings-link-description",children:"Attualmente sei: Artista"})]}),o.jsx("svg",{className:"settings-link-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),o.jsxs("button",{className:"settings-link danger",onClick:M,children:[o.jsxs("div",{className:"settings-link-content",children:[o.jsx("h3",{className:"settings-link-title",children:"Elimina Account"}),o.jsx("p",{className:"settings-link-description",children:"Elimina definitivamente il tuo account"})]}),o.jsx("svg",{className:"settings-link-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("polyline",{points:"9,18 15,12 9,6"})})]})]})})]})}),u&&o.jsx(kx,{isOpen:u,onClose:()=>d(!1)}),h&&o.jsx(x.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(Ox,{isOpen:h,onClose:()=>m(!1)})}),v&&o.jsx(x.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(Rx,{isOpen:v,onClose:()=>p(!1)})}),g&&o.jsx("div",{className:"auth-overlay",onClick:H=>H.target===H.currentTarget&&_(!1),children:o.jsxs("div",{className:"auth-modal",children:[o.jsx("div",{className:"auth-header-sticky",children:o.jsx("button",{className:"auth-close-btn",onClick:()=>_(!1),children:""})}),o.jsx("div",{className:"auth-modal-header"}),o.jsxs("div",{className:"auth-content",children:[o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:"CAMBIA A CLIENTE"}),o.jsx("p",{children:"Stai per cambiare il tuo tipo di profilo da Artista a Cliente. Questo nasconder le tue funzionalit da artista"})]}),o.jsxs("form",{className:"auth-form",onSubmit:H=>{H.preventDefault(),D()},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Tipo attuale"}),o.jsx("div",{className:"current-email-display",children:"Artista"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Nuovo tipo profilo"}),o.jsx("div",{className:"current-email-display",children:"Cliente"})]}),o.jsxs("div",{className:"warning-message",style:{background:"#FEF3C7",color:"#92400E",padding:"1rem",borderRadius:"4px",fontSize:"0.875rem"},children:[o.jsx("strong",{children:"Attenzione:"})," Cambiando a Cliente perderai l'accesso alle funzionalit da artista come il portfolio personale e la gestione dei lavori. Potrai sempre tornare artista in futuro."]}),o.jsx("button",{type:"submit",className:"action-btn",disabled:w,children:w?"Cambiando...":"Cambia a Cliente"})]})]})]})})]})}function Dx(){const r=mt(),[n,i]=x.useState({newPassword:"",confirmPassword:""}),[l,u]=x.useState({}),[d,h]=x.useState(!1),[m,v]=x.useState(""),[p,g]=x.useState(null);x.useEffect(()=>{(async()=>{const{data:{session:E}}=await ce.auth.getSession();E?g(!0):(g(!1),setTimeout(()=>{r("/")},3e3))})()},[r]);const _=(S,E)=>{i(N=>({...N,[S]:E})),l[S]&&u(N=>{const O={...N};return delete O[S],O}),l.general&&u(N=>{const O={...N};return delete O.general,O})},w=async S=>{if(S.preventDefault(),!(d||!p)){h(!0),u({}),v("");try{const E=yu(n.newPassword);if(!E.isValid){u({newPassword:E.errors}),h(!1);return}if(n.newPassword!==n.confirmPassword){u({confirmPassword:"Le password non coincidono"}),h(!1);return}const{error:N}=await ce.auth.updateUser({password:n.newPassword});N?u({general:"Errore durante l'aggiornamento della password. Riprova."}):(v("Password aggiornata con successo! Verrai reindirizzato alla home page."),setTimeout(()=>{r("/")},3e3))}catch{u({general:"Errore imprevisto. Riprova."})}finally{h(!1)}}},j=()=>{r("/")};return p===null?o.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:o.jsx("div",{style:{color:"white",fontSize:"1.2rem"},children:"Caricamento..."})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{filter:"blur(2px)",pointerEvents:"none"},children:o.jsx(Zv,{})}),o.jsx("div",{className:"auth-overlay",children:o.jsxs("div",{className:"auth-modal",children:[o.jsx("div",{className:"auth-header-sticky",children:o.jsx("button",{className:"auth-close-btn",onClick:j,children:""})}),o.jsx("div",{className:"auth-modal-header"}),o.jsxs("div",{className:"auth-content",children:[o.jsxs("div",{className:"header-card",children:[o.jsx("h2",{children:p===!1?"SESSIONE SCADUTA":"REIMPOSTA PASSWORD"}),o.jsx("p",{children:p===!1?"Il link di reset password  scaduto o non valido. Richiedi un nuovo link":"Inserisci la tua nuova password"})]}),p===!1?o.jsx("div",{style:{textAlign:"center",padding:"2rem 0"},children:o.jsx("p",{children:"Verrai reindirizzato alla home page"})}):o.jsxs("form",{className:"auth-form",onSubmit:w,children:[m&&o.jsx("div",{className:"success-message",children:m}),l.general&&o.jsx("div",{className:"form-error general-error",children:l.general}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"newPassword",children:["Nuova password ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{id:"newPassword",type:"password",className:`form-input ${l.newPassword?"error":""}`,value:n.newPassword,onChange:S=>_("newPassword",S.target.value),placeholder:"Inserisci la nuova password",disabled:d}),l.newPassword&&o.jsx("div",{className:"form-errors",children:l.newPassword.map((S,E)=>o.jsx("div",{className:"form-error",children:S},E))}),n.newPassword&&o.jsxs("div",{className:"password-requirements",children:[o.jsx("strong",{children:"Requisiti password:"}),o.jsxs("ul",{children:[o.jsx("li",{className:n.newPassword.length>=8?"valid":"invalid",children:"Almeno 8 caratteri"}),o.jsx("li",{className:/[A-Z]/.test(n.newPassword)?"valid":"invalid",children:"Una lettera maiuscola"}),o.jsx("li",{className:/[a-z]/.test(n.newPassword)?"valid":"invalid",children:"Una lettera minuscola"}),o.jsx("li",{className:/\d/.test(n.newPassword)?"valid":"invalid",children:"Un numero"}),o.jsx("li",{className:/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(n.newPassword)?"valid":"invalid",children:"Un carattere speciale"})]})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsxs("label",{className:"form-label",htmlFor:"confirmPassword",children:["Conferma nuova password ",o.jsx("span",{className:"required-indicator",children:"*"})]}),o.jsx("input",{id:"confirmPassword",type:"password",className:`form-input ${l.confirmPassword?"error":""}`,value:n.confirmPassword,onChange:S=>_("confirmPassword",S.target.value),placeholder:"Conferma la nuova password",disabled:d}),l.confirmPassword&&o.jsx("div",{className:"form-error",children:l.confirmPassword})]}),o.jsx("button",{type:"submit",className:"action-btn",disabled:d||!n.newPassword.trim()||!n.confirmPassword.trim(),children:d?"Aggiornamento...":"Aggiorna Password"})]})]})]})})]})}function zx(){const r=mt(),{profile:n}=Ve(),i=()=>{r("/")},l=u=>{n&&n.user_id===u?r("/profile"):r(`/artist/${u}`)};return o.jsxs(g0,{children:[o.jsx(Pt,{path:"/",element:o.jsx(Zv,{})}),o.jsx(Pt,{path:"/artist/:artistId",element:o.jsx(yx,{})}),o.jsx(Pt,{path:"/profile",element:o.jsx(_x,{})}),o.jsx(Pt,{path:"/profile-menu",element:o.jsx(Ax,{})}),o.jsx(Pt,{path:"/saved",element:o.jsx(wx,{onLogoClick:i,onArtistClick:l})}),o.jsx(Pt,{path:"/messages",element:o.jsx(tv,{})}),o.jsx(Pt,{path:"/messages/:artistId",element:o.jsx(tv,{})}),o.jsx(Pt,{path:"/settings",element:o.jsx(Mx,{onLogoClick:i})}),o.jsx(Pt,{path:"/become-artist",element:o.jsx(Cx,{onLogoClick:i})}),o.jsx(Pt,{path:"/reset-password",element:o.jsx(Dx,{})})]})}function Ux({onSearchClick:r}){const n=ja(),i=mt(),{profile:l,user:u}=Ve(),d=()=>{if(l?.full_name)return l.full_name;if(l?.username)return l.username;if(u?.email){const g=u.email.split("@")[0];return g.includes(".")?g.split(".").map(_=>_.charAt(0).toUpperCase()+_.slice(1)).join(" "):g}return"Utente"},h=g=>n.pathname===g,m=g=>{g==="/"?(i("/"),r?.()):i(g)},v=n.pathname.startsWith("/messages/")&&n.pathname!=="/messages",p=n.pathname==="/settings";return v||p?null:o.jsxs("div",{className:"mobile-navbar",children:[o.jsxs("button",{className:`mobile-nav-item ${h("/")?"active":""}`,onClick:()=>m("/"),"aria-label":"Ricerca",children:[o.jsxs("svg",{className:"mobile-nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("path",{d:"M21 21l-4.35-4.35"})]}),o.jsx("span",{className:"mobile-nav-label",children:"Cerca"})]}),o.jsxs("button",{className:`mobile-nav-item ${h("/saved")?"active":""}`,onClick:()=>m("/saved"),"aria-label":"Elementi salvati",children:[o.jsx("svg",{className:"mobile-nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),o.jsx("span",{className:"mobile-nav-label",children:"Salvati"})]}),o.jsxs("button",{className:`mobile-nav-item ${h("/messages")?"active":""}`,onClick:()=>m("/messages"),"aria-label":"Messaggi",children:[o.jsx("svg",{className:"mobile-nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),o.jsx("span",{className:"mobile-nav-label",children:"Messaggi"})]}),o.jsxs("button",{className:`mobile-nav-item ${h("/profile-menu")?"active":""}`,onClick:()=>m("/profile-menu"),"aria-label":"Profilo",children:[o.jsx("div",{className:"mobile-nav-avatar",children:o.jsx(ht,{src:l?.avatar_url,name:u?l?.full_name||d():void 0,alt:`Avatar di ${d()}`,size:"xs",variant:"default"})}),o.jsx("span",{className:"mobile-nav-label",children:"Profilo"})]})]})}function Lx(){return o.jsx(ax,{children:o.jsxs("div",{className:"app-container",children:[o.jsx(zx,{}),o.jsx(Ux,{})]})})}Cy.createRoot(document.getElementById("root")).render(o.jsx(H0,{basename:"/Skunk",children:o.jsx(Lx,{})}));export{o as j,x as r,ce as s,Ve as u,Fm as v};
