(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=s(u);fetch(u.href,d)}})();function cy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function uy(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var i=r.default;if(typeof i=="function"){var s=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var u=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return r[l]}})}),s}var Oc={exports:{}},As={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function dy(){if(om)return As;om=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(l,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var v in u)v!=="key"&&(d[v]=u[v])}else d=u;return u=d.ref,{$$typeof:r,type:l,key:h,ref:u!==void 0?u:null,props:d}}return As.Fragment=i,As.jsx=s,As.jsxs=s,As}var cm;function fy(){return cm||(cm=1,Oc.exports=dy()),Oc.exports}var c=fy(),Rc={exports:{}},Cs={},kc={exports:{}},Mc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function hy(){return um||(um=1,(function(r){function i(H,Z){var ee=H.length;H.push(Z);e:for(;0<ee;){var xe=ee-1>>>1,T=H[xe];if(0<u(T,Z))H[xe]=Z,H[ee]=T,ee=xe;else break e}}function s(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var Z=H[0],ee=H.pop();if(ee!==Z){H[0]=ee;e:for(var xe=0,T=H.length,K=T>>>1;xe<K;){var F=2*(xe+1)-1,J=H[F],re=F+1,we=H[re];if(0>u(J,ee))re<T&&0>u(we,J)?(H[xe]=we,H[re]=ee,xe=re):(H[xe]=J,H[F]=ee,xe=F);else if(re<T&&0>u(we,ee))H[xe]=we,H[re]=ee,xe=re;else break e}}return Z}function u(H,Z){var ee=H.sortIndex-Z.sortIndex;return ee!==0?ee:H.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var h=Date,v=h.now();r.unstable_now=function(){return h.now()-v}}var m=[],p=[],g=1,b=null,x=3,S=!1,E=!1,O=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function Y(H){for(var Z=s(p);Z!==null;){if(Z.callback===null)l(p);else if(Z.startTime<=H)l(p),Z.sortIndex=Z.expirationTime,i(m,Z);else break;Z=s(p)}}function q(H){if(O=!1,Y(H),!E)if(s(m)!==null)E=!0,U||(U=!0,Q());else{var Z=s(p);Z!==null&&me(q,Z.startTime-H)}}var U=!1,P=-1,te=5,se=-1;function Ee(){return N?!0:!(r.unstable_now()-se<te)}function X(){if(N=!1,U){var H=r.unstable_now();se=H;var Z=!0;try{e:{E=!1,O&&(O=!1,L(P),P=-1),S=!0;var ee=x;try{t:{for(Y(H),b=s(m);b!==null&&!(b.expirationTime>H&&Ee());){var xe=b.callback;if(typeof xe=="function"){b.callback=null,x=b.priorityLevel;var T=xe(b.expirationTime<=H);if(H=r.unstable_now(),typeof T=="function"){b.callback=T,Y(H),Z=!0;break t}b===s(m)&&l(m),Y(H)}else l(m);b=s(m)}if(b!==null)Z=!0;else{var K=s(p);K!==null&&me(q,K.startTime-H),Z=!1}}break e}finally{b=null,x=ee,S=!1}Z=void 0}}finally{Z?Q():U=!1}}}var Q;if(typeof C=="function")Q=function(){C(X)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ae=le.port2;le.port1.onmessage=X,Q=function(){ae.postMessage(null)}}else Q=function(){k(X,0)};function me(H,Z){P=k(function(){H(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(H){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var ee=x;x=Z;try{return H()}finally{x=ee}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=x;x=H;try{return Z()}finally{x=ee}},r.unstable_scheduleCallback=function(H,Z,ee){var xe=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?xe+ee:xe):ee=xe,H){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ee+T,H={id:g++,callback:Z,priorityLevel:H,startTime:ee,expirationTime:T,sortIndex:-1},ee>xe?(H.sortIndex=ee,i(p,H),s(m)===null&&H===s(p)&&(O?(L(P),P=-1):O=!0,me(q,ee-xe))):(H.sortIndex=T,i(m,H),E||S||(E=!0,U||(U=!0,Q()))),H},r.unstable_shouldYield=Ee,r.unstable_wrapCallback=function(H){var Z=x;return function(){var ee=x;x=Z;try{return H.apply(this,arguments)}finally{x=ee}}}})(Mc)),Mc}var dm;function my(){return dm||(dm=1,kc.exports=hy()),kc.exports}var Dc={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function vy(){if(fm)return ve;fm=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function x(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function N(T,K,F){this.props=T,this.context=K,this.refs=O,this.updater=F||S}N.prototype.isReactComponent={},N.prototype.setState=function(T,K){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,K,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function k(){}k.prototype=N.prototype;function L(T,K,F){this.props=T,this.context=K,this.refs=O,this.updater=F||S}var C=L.prototype=new k;C.constructor=L,E(C,N.prototype),C.isPureReactComponent=!0;var Y=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function P(T,K,F,J,re,we){return F=we.ref,{$$typeof:r,type:T,key:K,ref:F!==void 0?F:null,props:we}}function te(T,K){return P(T.type,K,void 0,void 0,void 0,T.props)}function se(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function Ee(T){var K={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(F){return K[F]})}var X=/\/+/g;function Q(T,K){return typeof T=="object"&&T!==null&&T.key!=null?Ee(""+T.key):K.toString(36)}function le(){}function ae(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(le,le):(T.status="pending",T.then(function(K){T.status==="pending"&&(T.status="fulfilled",T.value=K)},function(K){T.status==="pending"&&(T.status="rejected",T.reason=K)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function me(T,K,F,J,re){var we=typeof T;(we==="undefined"||we==="boolean")&&(T=null);var ue=!1;if(T===null)ue=!0;else switch(we){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(T.$$typeof){case r:case i:ue=!0;break;case g:return ue=T._init,me(ue(T._payload),K,F,J,re)}}if(ue)return re=re(T),ue=J===""?"."+Q(T,0):J,Y(re)?(F="",ue!=null&&(F=ue.replace(X,"$&/")+"/"),me(re,K,F,"",function(Kt){return Kt})):re!=null&&(se(re)&&(re=te(re,F+(re.key==null||T&&T.key===re.key?"":(""+re.key).replace(X,"$&/")+"/")+ue)),K.push(re)),1;ue=0;var ct=J===""?".":J+":";if(Y(T))for(var De=0;De<T.length;De++)J=T[De],we=ct+Q(J,De),ue+=me(J,K,F,we,re);else if(De=x(T),typeof De=="function")for(T=De.call(T),De=0;!(J=T.next()).done;)J=J.value,we=ct+Q(J,De++),ue+=me(J,K,F,we,re);else if(we==="object"){if(typeof T.then=="function")return me(ae(T),K,F,J,re);throw K=String(T),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ue}function H(T,K,F){if(T==null)return T;var J=[],re=0;return me(T,J,"","",function(we){return K.call(F,we,re++)}),J}function Z(T){if(T._status===-1){var K=T._result;K=K(),K.then(function(F){(T._status===0||T._status===-1)&&(T._status=1,T._result=F)},function(F){(T._status===0||T._status===-1)&&(T._status=2,T._result=F)}),T._status===-1&&(T._status=0,T._result=K)}if(T._status===1)return T._result.default;throw T._result}var ee=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function xe(){}return ve.Children={map:H,forEach:function(T,K,F){H(T,function(){K.apply(this,arguments)},F)},count:function(T){var K=0;return H(T,function(){K++}),K},toArray:function(T){return H(T,function(K){return K})||[]},only:function(T){if(!se(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ve.Component=N,ve.Fragment=s,ve.Profiler=u,ve.PureComponent=L,ve.StrictMode=l,ve.Suspense=m,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ve.__COMPILER_RUNTIME={__proto__:null,c:function(T){return q.H.useMemoCache(T)}},ve.cache=function(T){return function(){return T.apply(null,arguments)}},ve.cloneElement=function(T,K,F){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var J=E({},T.props),re=T.key,we=void 0;if(K!=null)for(ue in K.ref!==void 0&&(we=void 0),K.key!==void 0&&(re=""+K.key),K)!U.call(K,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&K.ref===void 0||(J[ue]=K[ue]);var ue=arguments.length-2;if(ue===1)J.children=F;else if(1<ue){for(var ct=Array(ue),De=0;De<ue;De++)ct[De]=arguments[De+2];J.children=ct}return P(T.type,re,void 0,void 0,we,J)},ve.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:d,_context:T},T},ve.createElement=function(T,K,F){var J,re={},we=null;if(K!=null)for(J in K.key!==void 0&&(we=""+K.key),K)U.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(re[J]=K[J]);var ue=arguments.length-2;if(ue===1)re.children=F;else if(1<ue){for(var ct=Array(ue),De=0;De<ue;De++)ct[De]=arguments[De+2];re.children=ct}if(T&&T.defaultProps)for(J in ue=T.defaultProps,ue)re[J]===void 0&&(re[J]=ue[J]);return P(T,we,void 0,void 0,null,re)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(T){return{$$typeof:v,render:T}},ve.isValidElement=se,ve.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:Z}},ve.memo=function(T,K){return{$$typeof:p,type:T,compare:K===void 0?null:K}},ve.startTransition=function(T){var K=q.T,F={};q.T=F;try{var J=T(),re=q.S;re!==null&&re(F,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(xe,ee)}catch(we){ee(we)}finally{q.T=K}},ve.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ve.use=function(T){return q.H.use(T)},ve.useActionState=function(T,K,F){return q.H.useActionState(T,K,F)},ve.useCallback=function(T,K){return q.H.useCallback(T,K)},ve.useContext=function(T){return q.H.useContext(T)},ve.useDebugValue=function(){},ve.useDeferredValue=function(T,K){return q.H.useDeferredValue(T,K)},ve.useEffect=function(T,K,F){var J=q.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(T,K)},ve.useId=function(){return q.H.useId()},ve.useImperativeHandle=function(T,K,F){return q.H.useImperativeHandle(T,K,F)},ve.useInsertionEffect=function(T,K){return q.H.useInsertionEffect(T,K)},ve.useLayoutEffect=function(T,K){return q.H.useLayoutEffect(T,K)},ve.useMemo=function(T,K){return q.H.useMemo(T,K)},ve.useOptimistic=function(T,K){return q.H.useOptimistic(T,K)},ve.useReducer=function(T,K,F){return q.H.useReducer(T,K,F)},ve.useRef=function(T){return q.H.useRef(T)},ve.useState=function(T){return q.H.useState(T)},ve.useSyncExternalStore=function(T,K,F){return q.H.useSyncExternalStore(T,K,F)},ve.useTransition=function(){return q.H.useTransition()},ve.version="19.1.1",ve}var hm;function lu(){return hm||(hm=1,Dc.exports=vy()),Dc.exports}var Uc={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function py(){if(mm)return ot;mm=1;var r=lu();function i(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(m,p,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:m,containerInfo:p,implementation:g}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ot.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return d(m,p,null,g)},ot.flushSync=function(m){var p=h.T,g=l.p;try{if(h.T=null,l.p=2,m)return m()}finally{h.T=p,l.p=g,l.d.f()}},ot.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},ot.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},ot.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,b=v(g,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):g==="script"&&l.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ot.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=v(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},ot.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,b=v(g,p.crossOrigin);l.d.L(m,g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ot.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=v(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},ot.requestFormReset=function(m){l.d.r(m)},ot.unstable_batchedUpdates=function(m,p){return m(p)},ot.useFormState=function(m,p,g){return h.H.useFormState(m,p,g)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.1.1",ot}var vm;function gy(){if(vm)return Uc.exports;vm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Uc.exports=py(),Uc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function yy(){if(pm)return Cs;pm=1;var r=my(),i=lu(),s=gy();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var o=a.return;if(o===null)break;var f=o.alternate;if(f===null){if(n=o.return,n!==null){a=n;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===a)return v(o),e;if(f===n)return v(o),t;f=f.sibling}throw Error(l(188))}if(a.return!==n.return)a=o,n=f;else{for(var y=!1,_=o.child;_;){if(_===a){y=!0,a=o,n=f;break}if(_===n){y=!0,n=o,a=f;break}_=_.sibling}if(!y){for(_=f.child;_;){if(_===a){y=!0,a=f,n=o;break}if(_===n){y=!0,n=f,a=o;break}_=_.sibling}if(!y)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),C=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case N:return"Profiler";case O:return"StrictMode";case q:return"Suspense";case U:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case C:return(e.displayName||"Context")+".Provider";case L:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}var me=Array.isArray,H=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},xe=[],T=-1;function K(e){return{current:e}}function F(e){0>T||(e.current=xe[T],xe[T]=null,T--)}function J(e,t){T++,xe[T]=e.current,e.current=t}var re=K(null),we=K(null),ue=K(null),ct=K(null);function De(e,t){switch(J(ue,t),J(we,e),J(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zh(t),e=Lh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(re),J(re,e)}function Kt(){F(re),F(we),F(ue)}function $s(e){e.memoizedState!==null&&J(ct,e);var t=re.current,a=Lh(t,e.type);t!==a&&(J(we,e),J(re,a))}function En(e){we.current===e&&(F(re),F(we)),ct.current===e&&(F(ct),Ss._currentValue=ee)}var Nn=Object.prototype.hasOwnProperty,Ci=r.unstable_scheduleCallback,Oi=r.unstable_cancelCallback,Tn=r.unstable_shouldYield,I=r.unstable_requestPaint,ie=r.unstable_now,Ge=r.unstable_getCurrentPriorityLevel,ke=r.unstable_ImmediatePriority,ja=r.unstable_UserBlockingPriority,Ea=r.unstable_NormalPriority,ta=r.unstable_LowPriority,Gs=r.unstable_IdlePriority,Yv=r.log,Kv=r.unstable_setDisableYieldValue,Ri=null,gt=null;function Na(e){if(typeof Yv=="function"&&Kv(e),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Ri,e)}catch{}}var yt=Math.clz32?Math.clz32:Zv,Qv=Math.log,Xv=Math.LN2;function Zv(e){return e>>>=0,e===0?32:31-(Qv(e)/Xv|0)|0}var Ps=256,Vs=4194304;function en(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ys(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var o=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var _=n&134217727;return _!==0?(n=_&~f,n!==0?o=en(n):(y&=_,y!==0?o=en(y):a||(a=_&~e,a!==0&&(o=en(a))))):(_=n&~f,_!==0?o=en(_):y!==0?o=en(y):a||(a=n&~e,a!==0&&(o=en(a)))),o===0?0:t!==0&&t!==o&&(t&f)===0&&(f=o&-o,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:o}function ki(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Iv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var e=Ps;return Ps<<=1,(Ps&4194048)===0&&(Ps=256),e}function _u(){var e=Vs;return Vs<<=1,(Vs&62914560)===0&&(Vs=4194304),e}function yr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Mi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jv(e,t,a,n,o,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,j=e.expirationTimes,D=e.hiddenUpdates;for(a=y&~a;0<a;){var $=31-yt(a),V=1<<$;_[$]=0,j[$]=-1;var z=D[$];if(z!==null)for(D[$]=null,$=0;$<z.length;$++){var B=z[$];B!==null&&(B.lane&=-536870913)}a&=~V}n!==0&&bu(e,n,0),f!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function bu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-yt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function xu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-yt(a),o=1<<n;o&t|e[n]&t&&(e[n]|=t),a&=~o}}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function br(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wu(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:am(e.type))}function Fv(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var Ta=Math.random().toString(36).slice(2),lt="__reactFiber$"+Ta,ft="__reactProps$"+Ta,An="__reactContainer$"+Ta,xr="__reactEvents$"+Ta,Wv="__reactListeners$"+Ta,ep="__reactHandles$"+Ta,Su="__reactResources$"+Ta,Di="__reactMarker$"+Ta;function wr(e){delete e[lt],delete e[ft],delete e[xr],delete e[Wv],delete e[ep]}function Cn(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[An]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=$h(e);e!==null;){if(a=e[lt])return a;e=$h(e)}return t}e=a,a=e.parentNode}return null}function On(e){if(e=e[lt]||e[An]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ui(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Rn(e){var t=e[Su];return t||(t=e[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Di]=!0}var ju=new Set,Eu={};function tn(e,t){kn(e,t),kn(e+"Capture",t)}function kn(e,t){for(Eu[e]=t,e=0;e<t.length;e++)ju.add(t[e])}var tp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nu={},Tu={};function ap(e){return Nn.call(Tu,e)?!0:Nn.call(Nu,e)?!1:tp.test(e)?Tu[e]=!0:(Nu[e]=!0,!1)}function Ks(e,t,a){if(ap(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Qs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function aa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Sr,Au;function Mn(e){if(Sr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Sr=t&&t[1]||"",Au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+e+Au}var jr=!1;function Er(e,t){if(!e||jr)return"";jr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(B){var z=B}Reflect.construct(e,[],V)}else{try{V.call()}catch(B){z=B}e.call(V.prototype)}}else{try{throw Error()}catch(B){z=B}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=n.DetermineComponentFrameRoot(),y=f[0],_=f[1];if(y&&_){var j=y.split(`
`),D=_.split(`
`);for(o=n=0;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(n===j.length||o===D.length)for(n=j.length-1,o=D.length-1;1<=n&&0<=o&&j[n]!==D[o];)o--;for(;1<=n&&0<=o;n--,o--)if(j[n]!==D[o]){if(n!==1||o!==1)do if(n--,o--,0>o||j[n]!==D[o]){var $=`
`+j[n].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=n&&0<=o);break}}}finally{jr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Mn(a):""}function np(e){switch(e.tag){case 26:case 27:case 5:return Mn(e.type);case 16:return Mn("Lazy");case 13:return Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Er(e.type,!1);case 11:return Er(e.type.render,!1);case 1:return Er(e.type,!0);case 31:return Mn("Activity");default:return""}}function Cu(e){try{var t="";do t+=np(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function At(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ou(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ip(e){var t=Ou(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(y){n=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xs(e){e._valueTracker||(e._valueTracker=ip(e))}function Ru(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Ou(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sp=/[\n"\\]/g;function Ct(e){return e.replace(sp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nr(e,t,a,n,o,f,y,_){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+At(t)):e.value!==""+At(t)&&(e.value=""+At(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Tr(e,y,At(t)):a!=null?Tr(e,y,At(a)):n!=null&&e.removeAttribute("value"),o==null&&f!=null&&(e.defaultChecked=!!f),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+At(_):e.removeAttribute("name")}function ku(e,t,a,n,o,f,y,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+At(a):"",t=t!=null?""+At(t):a,_||t===e.value||(e.value=t),e.defaultValue=t}n=n??o,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=_?e.checked:!!n,e.defaultChecked=!!n,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Tr(e,t,a){t==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Dn(e,t,a,n){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&n&&(e[a].defaultSelected=!0)}else{for(a=""+At(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Mu(e,t,a){if(t!=null&&(t=""+At(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+At(a):""}function Du(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(l(92));if(me(n)){if(1<n.length)throw Error(l(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=At(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Un(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var lp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||lp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function zu(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var o in t)n=t[o],t.hasOwnProperty(o)&&a[o]!==n&&Uu(e,o,n)}else for(var f in t)t.hasOwnProperty(f)&&Uu(e,f,t[f])}function Ar(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),op=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(e){return op.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Cr=null;function Or(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zn=null,Ln=null;function Lu(e){var t=On(e);if(t&&(e=t.stateNode)){var a=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ct(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var o=n[ft]||null;if(!o)throw Error(l(90));Nr(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Ru(n)}break e;case"textarea":Mu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Dn(e,!!a.multiple,t,!1)}}}var Rr=!1;function Bu(e,t,a){if(Rr)return e(t,a);Rr=!0;try{var n=e(t);return n}finally{if(Rr=!1,(zn!==null||Ln!==null)&&(Ul(),zn&&(t=zn,e=Ln,Ln=zn=null,Lu(t),e)))for(t=0;t<e.length;t++)Lu(e[t])}}function zi(e,t){var a=e.stateNode;if(a===null)return null;var n=a[ft]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(na)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){kr=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{kr=!1}var Aa=null,Mr=null,Js=null;function qu(){if(Js)return Js;var e,t=Mr,a=t.length,n,o="value"in Aa?Aa.value:Aa.textContent,f=o.length;for(e=0;e<a&&t[e]===o[e];e++);var y=a-e;for(n=1;n<=y&&t[a-n]===o[f-n];n++);return Js=o.slice(e,1<n?1-n:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function Hu(){return!1}function ht(e){function t(a,n,o,f,y){this._reactName=a,this._targetInst=o,this.type=n,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ws:Hu,this.isPropagationStopped=Hu,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=ht(an),Bi=g({},an,{view:0,detail:0}),cp=ht(Bi),Dr,Ur,qi,tl=g({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Dr=e.screenX-qi.screenX,Ur=e.screenY-qi.screenY):Ur=Dr=0,qi=e),Dr)},movementY:function(e){return"movementY"in e?e.movementY:Ur}}),$u=ht(tl),up=g({},tl,{dataTransfer:0}),dp=ht(up),fp=g({},Bi,{relatedTarget:0}),zr=ht(fp),hp=g({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),mp=ht(hp),vp=g({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pp=ht(vp),gp=g({},an,{data:0}),Gu=ht(gp),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bp[e])?!!t[e]:!1}function Lr(){return xp}var wp=g({},Bi,{key:function(e){if(e.key){var t=yp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_p[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sp=ht(wp),jp=g({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=ht(jp),Ep=g({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),Np=ht(Ep),Tp=g({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ap=ht(Tp),Cp=g({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Op=ht(Cp),Rp=g({},an,{newState:0,oldState:0}),kp=ht(Rp),Mp=[9,13,27,32],Br=na&&"CompositionEvent"in window,Hi=null;na&&"documentMode"in document&&(Hi=document.documentMode);var Dp=na&&"TextEvent"in window&&!Hi,Vu=na&&(!Br||Hi&&8<Hi&&11>=Hi),Yu=" ",Ku=!1;function Qu(e,t){switch(e){case"keyup":return Mp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Up(e,t){switch(e){case"compositionend":return Xu(t);case"keypress":return t.which!==32?null:(Ku=!0,Yu);case"textInput":return e=t.data,e===Yu&&Ku?null:e;default:return null}}function zp(e,t){if(Bn)return e==="compositionend"||!Br&&Qu(e,t)?(e=qu(),Js=Mr=Aa=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vu&&t.locale!=="ko"?null:t.data;default:return null}}var Lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lp[e.type]:t==="textarea"}function Iu(e,t,a,n){zn?Ln?Ln.push(n):Ln=[n]:zn=n,t=$l(t,"onChange"),0<t.length&&(a=new el("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var $i=null,Gi=null;function Bp(e){Rh(e,0)}function al(e){var t=Ui(e);if(Ru(t))return e}function Ju(e,t){if(e==="change")return t}var Fu=!1;if(na){var qr;if(na){var Hr="oninput"in document;if(!Hr){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),Hr=typeof Wu.oninput=="function"}qr=Hr}else qr=!1;Fu=qr&&(!document.documentMode||9<document.documentMode)}function ed(){$i&&($i.detachEvent("onpropertychange",td),Gi=$i=null)}function td(e){if(e.propertyName==="value"&&al(Gi)){var t=[];Iu(t,Gi,e,Or(e)),Bu(Bp,t)}}function qp(e,t,a){e==="focusin"?(ed(),$i=t,Gi=a,$i.attachEvent("onpropertychange",td)):e==="focusout"&&ed()}function Hp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Gi)}function $p(e,t){if(e==="click")return al(t)}function Gp(e,t){if(e==="input"||e==="change")return al(t)}function Pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:Pp;function Pi(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var o=a[n];if(!Nn.call(t,o)||!_t(e[o],t[o]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var a=ad(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ad(a)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Zs(e.document)}return t}function $r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Vp=na&&"documentMode"in document&&11>=document.documentMode,qn=null,Gr=null,Vi=null,Pr=!1;function ld(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pr||qn==null||qn!==Zs(n)||(n=qn,"selectionStart"in n&&$r(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vi&&Pi(Vi,n)||(Vi=n,n=$l(Gr,"onSelect"),0<n.length&&(t=new el("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=qn)))}function nn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Hn={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},Vr={},rd={};na&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function sn(e){if(Vr[e])return Vr[e];if(!Hn[e])return e;var t=Hn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in rd)return Vr[e]=t[a];return e}var od=sn("animationend"),cd=sn("animationiteration"),ud=sn("animationstart"),Yp=sn("transitionrun"),Kp=sn("transitionstart"),Qp=sn("transitioncancel"),dd=sn("transitionend"),fd=new Map,Yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yr.push("scrollEnd");function Lt(e,t){fd.set(e,t),tn(t,[e])}var hd=new WeakMap;function Ot(e,t){if(typeof e=="object"&&e!==null){var a=hd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Cu(t)},hd.set(e,t),t)}return{value:e,source:t,stack:Cu(t)}}var Rt=[],$n=0,Kr=0;function nl(){for(var e=$n,t=Kr=$n=0;t<e;){var a=Rt[t];Rt[t++]=null;var n=Rt[t];Rt[t++]=null;var o=Rt[t];Rt[t++]=null;var f=Rt[t];if(Rt[t++]=null,n!==null&&o!==null){var y=n.pending;y===null?o.next=o:(o.next=y.next,y.next=o),n.pending=o}f!==0&&md(a,o,f)}}function il(e,t,a,n){Rt[$n++]=e,Rt[$n++]=t,Rt[$n++]=a,Rt[$n++]=n,Kr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Qr(e,t,a,n){return il(e,t,a,n),sl(e)}function Gn(e,t){return il(e,null,null,t),sl(e)}function md(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var o=!1,f=e.return;f!==null;)f.childLanes|=a,n=f.alternate,n!==null&&(n.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(o=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,o&&t!==null&&(o=31-yt(a),e=f.hiddenUpdates,n=e[o],n===null?e[o]=[t]:n.push(t),t.lane=a|536870912),f):null}function sl(e){if(50<vs)throw vs=0,ec=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pn={};function Xp(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,a,n){return new Xp(e,t,a,n)}function Xr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,t){var a=e.alternate;return a===null?(a=bt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ll(e,t,a,n,o,f){var y=0;if(n=e,typeof e=="function")Xr(e)&&(y=1);else if(typeof e=="string")y=Ig(e,a,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=bt(31,a,t,o),e.elementType=se,e.lanes=f,e;case E:return ln(a.children,o,f,t);case O:y=8,o|=24;break;case N:return e=bt(12,a,t,o|2),e.elementType=N,e.lanes=f,e;case q:return e=bt(13,a,t,o),e.elementType=q,e.lanes=f,e;case U:return e=bt(19,a,t,o),e.elementType=U,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case C:y=10;break e;case L:y=9;break e;case Y:y=11;break e;case P:y=14;break e;case te:y=16,n=null;break e}y=29,a=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=bt(y,a,t,o),t.elementType=e,t.type=n,t.lanes=f,t}function ln(e,t,a,n){return e=bt(7,e,n,t),e.lanes=a,e}function Zr(e,t,a){return e=bt(6,e,null,t),e.lanes=a,e}function Ir(e,t,a){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vn=[],Yn=0,rl=null,ol=0,kt=[],Mt=0,rn=null,sa=1,la="";function on(e,t){Vn[Yn++]=ol,Vn[Yn++]=rl,rl=e,ol=t}function pd(e,t,a){kt[Mt++]=sa,kt[Mt++]=la,kt[Mt++]=rn,rn=e;var n=sa;e=la;var o=32-yt(n)-1;n&=~(1<<o),a+=1;var f=32-yt(t)+o;if(30<f){var y=o-o%5;f=(n&(1<<y)-1).toString(32),n>>=y,o-=y,sa=1<<32-yt(t)+o|a<<o|n,la=f+e}else sa=1<<f|a<<o|n,la=e}function Jr(e){e.return!==null&&(on(e,1),pd(e,1,0))}function Fr(e){for(;e===rl;)rl=Vn[--Yn],Vn[Yn]=null,ol=Vn[--Yn],Vn[Yn]=null;for(;e===rn;)rn=kt[--Mt],kt[Mt]=null,la=kt[--Mt],kt[Mt]=null,sa=kt[--Mt],kt[Mt]=null}var ut=null,He=null,Ne=!1,cn=null,Qt=!1,Wr=Error(l(519));function un(e){var t=Error(l(418,""));throw Qi(Ot(t,e)),Wr}function gd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[lt]=e,t[ft]=n,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<gs.length;a++)_e(gs[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),ku(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Xs(t);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Du(t,n.value,n.defaultValue,n.children),Xs(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Uh(t.textContent,a)?(n.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),n.onScroll!=null&&_e("scroll",t),n.onScrollEnd!=null&&_e("scrollend",t),n.onClick!=null&&(t.onclick=Gl),t=!0):t=!1,t||un(e)}function yd(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ut=ut.return}}function Yi(e){if(e!==ut)return!1;if(!Ne)return yd(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pc(e.type,e.memoizedProps)),a=!a),a&&He&&un(e),yd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){He=qt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}He=null}}else t===27?(t=He,Va(e.type)?(e=bc,bc=null,He=e):He=t):He=ut?qt(e.stateNode.nextSibling):null;return!0}function Ki(){He=ut=null,Ne=!1}function _d(){var e=cn;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),cn=null),e}function Qi(e){cn===null?cn=[e]:cn.push(e)}var eo=K(null),dn=null,ra=null;function Ca(e,t,a){J(eo,t._currentValue),t._currentValue=a}function oa(e){e._currentValue=eo.current,F(eo)}function to(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function ao(e,t,a,n){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){var y=o.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=o;for(var j=0;j<t.length;j++)if(_.context===t[j]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),to(f.return,a,e),n||(y=null);break e}f=_.next}}else if(o.tag===18){if(y=o.return,y===null)throw Error(l(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),to(y,a,e),y=null}else y=o.child;if(y!==null)y.return=o;else for(y=o;y!==null;){if(y===e){y=null;break}if(o=y.sibling,o!==null){o.return=y.return,y=o;break}y=y.return}o=y}}function Xi(e,t,a,n){e=null;for(var o=t,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var y=o.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var _=o.type;_t(o.pendingProps.value,y.value)||(e!==null?e.push(_):e=[_])}}else if(o===ct.current){if(y=o.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ss):e=[Ss])}o=o.return}e!==null&&ao(t,e,a,n),t.flags|=262144}function cl(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fn(e){dn=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return bd(dn,e)}function ul(e,t){return dn===null&&fn(e),bd(e,t)}function bd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ra===null){if(e===null)throw Error(l(308));ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ra=ra.next=t;return a}var Zp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ip=r.unstable_scheduleCallback,Jp=r.unstable_NormalPriority,Xe={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function no(){return{controller:new Zp,data:new Map,refCount:0}}function Zi(e){e.refCount--,e.refCount===0&&Ip(Jp,function(){e.controller.abort()})}var Ii=null,io=0,Kn=0,Qn=null;function Fp(e,t){if(Ii===null){var a=Ii=[];io=0,Kn=rc(),Qn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return io++,t.then(xd,xd),t}function xd(){if(--io===0&&Ii!==null){Qn!==null&&(Qn.status="fulfilled");var e=Ii;Ii=null,Kn=0,Qn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wp(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(n.status="rejected",n.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),n}var wd=H.S;H.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fp(e,t),wd!==null&&wd(e,t)};var hn=K(null);function so(){var e=hn.current;return e!==null?e:Ue.pooledCache}function dl(e,t){t===null?J(hn,hn.current):J(hn,t.pool)}function Sd(){var e=so();return e===null?null:{parent:Xe._currentValue,pool:e}}var Ji=Error(l(460)),jd=Error(l(474)),fl=Error(l(542)),lo={then:function(){}};function Ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hl(){}function Nd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(hl,hl),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ad(e),e;default:if(typeof t.status=="string")t.then(hl,hl);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=n}},function(n){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ad(e),e}throw Fi=t,Ji}}var Fi=null;function Td(){if(Fi===null)throw Error(l(459));var e=Fi;return Fi=null,e}function Ad(e){if(e===Ji||e===fl)throw Error(l(483))}var Oa=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Te&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,t=sl(e),md(e,null,a),t}return il(e,n,t,a),sl(e)}function Wi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,xu(e,a)}}function co(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var o=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?o=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?o=f=t:f=f.next=t}else o=f=t;a={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var uo=!1;function es(){if(uo){var e=Qn;if(e!==null)throw e}}function ts(e,t,a,n){uo=!1;var o=e.updateQueue;Oa=!1;var f=o.firstBaseUpdate,y=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var j=_,D=j.next;j.next=null,y===null?f=D:y.next=D,y=j;var $=e.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==y&&(_===null?$.firstBaseUpdate=D:_.next=D,$.lastBaseUpdate=j))}if(f!==null){var V=o.baseState;y=0,$=D=j=null,_=f;do{var z=_.lane&-536870913,B=z!==_.lane;if(B?(Se&z)===z:(n&z)===z){z!==0&&z===Kn&&(uo=!0),$!==null&&($=$.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var de=e,oe=_;z=t;var Re=a;switch(oe.tag){case 1:if(de=oe.payload,typeof de=="function"){V=de.call(Re,V,z);break e}V=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=oe.payload,z=typeof de=="function"?de.call(Re,V,z):de,z==null)break e;V=g({},V,z);break e;case 2:Oa=!0}}z=_.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=o.callbacks,B===null?o.callbacks=[z]:B.push(z))}else B={lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(D=$=B,j=V):$=$.next=B,y|=z;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;B=_,_=B.next,B.next=null,o.lastBaseUpdate=B,o.shared.pending=null}}while(!0);$===null&&(j=V),o.baseState=j,o.firstBaseUpdate=D,o.lastBaseUpdate=$,f===null&&(o.shared.lanes=0),Ha|=y,e.lanes=y,e.memoizedState=V}}function Cd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Od(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cd(a[e],t)}var Xn=K(null),ml=K(0);function Rd(e,t){e=va,J(ml,e),J(Xn,t),va=e|t.baseLanes}function fo(){J(ml,va),J(Xn,Xn.current)}function ho(){va=ml.current,F(Xn),F(ml)}var Ma=0,pe=null,Ce=null,Ye=null,vl=!1,Zn=!1,mn=!1,pl=0,as=0,In=null,eg=0;function Pe(){throw Error(l(321))}function mo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!_t(e[a],t[a]))return!1;return!0}function vo(e,t,a,n,o,f){return Ma=f,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?vf:pf,mn=!1,f=a(n,o),mn=!1,Zn&&(f=Md(t,a,n,o)),kd(e),f}function kd(e){H.H=wl;var t=Ce!==null&&Ce.next!==null;if(Ma=0,Ye=Ce=pe=null,vl=!1,as=0,In=null,t)throw Error(l(300));e===null||We||(e=e.dependencies,e!==null&&cl(e)&&(We=!0))}function Md(e,t,a,n){pe=e;var o=0;do{if(Zn&&(In=null),as=0,Zn=!1,25<=o)throw Error(l(301));if(o+=1,Ye=Ce=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=rg,f=t(a,n)}while(Zn);return f}function tg(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?ns(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(pe.flags|=1024),t}function po(){var e=pl!==0;return pl=0,e}function go(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function yo(e){if(vl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vl=!1}Ma=0,Ye=Ce=pe=null,Zn=!1,as=pl=0,In=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?pe.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ke(){if(Ce===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ye===null?pe.memoizedState:Ye.next;if(t!==null)Ye=t,Ce=e;else{if(e===null)throw pe.alternate===null?Error(l(467)):Error(l(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ye===null?pe.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function _o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(e){var t=as;return as+=1,In===null&&(In=[]),e=Nd(In,e,t),t=pe,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?vf:pf),e}function gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ns(e);if(e.$$typeof===C)return rt(e)}throw Error(l(438,String(e)))}function bo(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=pe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=_o(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Ee;return t.index++,a}function ca(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=Ke();return xo(t,Ce,e)}function xo(e,t,a){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=a;var o=e.baseQueue,f=n.pending;if(f!==null){if(o!==null){var y=o.next;o.next=f.next,f.next=y}t.baseQueue=o=f,n.pending=null}if(f=e.baseState,o===null)e.memoizedState=f;else{t=o.next;var _=y=null,j=null,D=t,$=!1;do{var V=D.lane&-536870913;if(V!==D.lane?(Se&V)===V:(Ma&V)===V){var z=D.revertLane;if(z===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),V===Kn&&($=!0);else if((Ma&z)===z){D=D.next,z===Kn&&($=!0);continue}else V={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},j===null?(_=j=V,y=f):j=j.next=V,pe.lanes|=z,Ha|=z;V=D.action,mn&&a(f,V),f=D.hasEagerState?D.eagerState:a(f,V)}else z={lane:V,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},j===null?(_=j=z,y=f):j=j.next=z,pe.lanes|=V,Ha|=V;D=D.next}while(D!==null&&D!==t);if(j===null?y=f:j.next=_,!_t(f,e.memoizedState)&&(We=!0,$&&(a=Qn,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=j,n.lastRenderedState=f}return o===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function wo(e){var t=Ke(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,o=a.pending,f=t.memoizedState;if(o!==null){a.pending=null;var y=o=o.next;do f=e(f,y.action),y=y.next;while(y!==o);_t(f,t.memoizedState)||(We=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,n]}function Dd(e,t,a){var n=pe,o=Ke(),f=Ne;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=t();var y=!_t((Ce||o).memoizedState,a);y&&(o.memoizedState=a,We=!0),o=o.queue;var _=Ld.bind(null,n,o,e);if(is(2048,8,_,[e]),o.getSnapshot!==t||y||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,Jn(9,_l(),zd.bind(null,n,o,a,t),null),Ue===null)throw Error(l(349));f||(Ma&124)!==0||Ud(n,t,a)}return a}function Ud(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=_o(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function zd(e,t,a,n){t.value=a,t.getSnapshot=n,Bd(t)&&qd(e)}function Ld(e,t,a){return a(function(){Bd(t)&&qd(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!_t(e,a)}catch{return!0}}function qd(e){var t=Gn(e,2);t!==null&&Et(t,e,2)}function So(e){var t=mt();if(typeof e=="function"){var a=e;if(e=a(),mn){Na(!0);try{a()}finally{Na(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t}function Hd(e,t,a,n){return e.baseState=a,xo(e,Ce,typeof n=="function"?n:ca)}function ag(e,t,a,n,o){if(xl(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,n(f),a=t.pending,a===null?(f.next=t.pending=f,$d(t,f)):(f.next=a.next,t.pending=a.next=f)}}function $d(e,t){var a=t.action,n=t.payload,o=e.state;if(t.isTransition){var f=H.T,y={};H.T=y;try{var _=a(o,n),j=H.S;j!==null&&j(y,_),Gd(e,t,_)}catch(D){jo(e,t,D)}finally{H.T=f}}else try{f=a(o,n),Gd(e,t,f)}catch(D){jo(e,t,D)}}function Gd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Pd(e,t,n)},function(n){return jo(e,t,n)}):Pd(e,t,a)}function Pd(e,t,a){t.status="fulfilled",t.value=a,Vd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,$d(e,a)))}function jo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Vd(t),t=t.next;while(t!==n)}e.action=null}function Vd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yd(e,t){return t}function Kd(e,t){if(Ne){var a=Ue.formState;if(a!==null){e:{var n=pe;if(Ne){if(He){t:{for(var o=He,f=Qt;o.nodeType!==8;){if(!f){o=null;break t}if(o=qt(o.nextSibling),o===null){o=null;break t}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){He=qt(o.nextSibling),n=o.data==="F!";break e}}un(n)}n=!1}n&&(t=a[0])}}return a=mt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:t},a.queue=n,a=ff.bind(null,pe,n),n.dispatch=a,n=So(!1),f=Co.bind(null,pe,!1,n.queue),n=mt(),o={state:t,dispatch:null,action:e,pending:null},n.queue=o,a=ag.bind(null,pe,o,f,a),o.dispatch=a,n.memoizedState=e,[t,a,!1]}function Qd(e){var t=Ke();return Xd(t,Ce,e)}function Xd(e,t,a){if(t=xo(e,t,Yd)[0],e=yl(ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ns(t)}catch(y){throw y===Ji?fl:y}else n=t;t=Ke();var o=t.queue,f=o.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,Jn(9,_l(),ng.bind(null,o,a),null)),[n,f,e]}function ng(e,t){e.action=t}function Zd(e){var t=Ke(),a=Ce;if(a!==null)return Xd(t,a,e);Ke(),t=t.memoizedState,a=Ke();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Jn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=pe.updateQueue,t===null&&(t=_o(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function _l(){return{destroy:void 0,resource:void 0}}function Id(){return Ke().memoizedState}function bl(e,t,a,n){var o=mt();n=n===void 0?null:n,pe.flags|=e,o.memoizedState=Jn(1|t,_l(),a,n)}function is(e,t,a,n){var o=Ke();n=n===void 0?null:n;var f=o.memoizedState.inst;Ce!==null&&n!==null&&mo(n,Ce.memoizedState.deps)?o.memoizedState=Jn(t,f,a,n):(pe.flags|=e,o.memoizedState=Jn(1|t,f,a,n))}function Jd(e,t){bl(8390656,8,e,t)}function Fd(e,t){is(2048,8,e,t)}function Wd(e,t){return is(4,2,e,t)}function ef(e,t){return is(4,4,e,t)}function tf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function af(e,t,a){a=a!=null?a.concat([e]):null,is(4,4,tf.bind(null,t,e),a)}function Eo(){}function nf(e,t){var a=Ke();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&mo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function sf(e,t){var a=Ke();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&mo(t,n[1]))return n[0];if(n=e(),mn){Na(!0);try{e()}finally{Na(!1)}}return a.memoizedState=[n,t],n}function No(e,t,a){return a===void 0||(Ma&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=oh(),pe.lanes|=e,Ha|=e,a)}function lf(e,t,a,n){return _t(a,t)?a:Xn.current!==null?(e=No(e,a,n),_t(e,t)||(We=!0),e):(Ma&42)===0?(We=!0,e.memoizedState=a):(e=oh(),pe.lanes|=e,Ha|=e,t)}function rf(e,t,a,n,o){var f=Z.p;Z.p=f!==0&&8>f?f:8;var y=H.T,_={};H.T=_,Co(e,!1,t,a);try{var j=o(),D=H.S;if(D!==null&&D(_,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var $=Wp(j,n);ss(e,t,$,jt(e))}else ss(e,t,n,jt(e))}catch(V){ss(e,t,{then:function(){},status:"rejected",reason:V},jt())}finally{Z.p=f,H.T=y}}function ig(){}function To(e,t,a,n){if(e.tag!==5)throw Error(l(476));var o=of(e).queue;rf(e,o,t,ee,a===null?ig:function(){return cf(e),a(n)})}function of(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cf(e){var t=of(e).next.queue;ss(e,t,{},jt())}function Ao(){return rt(Ss)}function uf(){return Ke().memoizedState}function df(){return Ke().memoizedState}function sg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=jt();e=Ra(a);var n=ka(t,e,a);n!==null&&(Et(n,t,a),Wi(n,t,a)),t={cache:no()},e.payload=t;return}t=t.return}}function lg(e,t,a){var n=jt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xl(e)?hf(t,a):(a=Qr(e,t,a,n),a!==null&&(Et(a,e,n),mf(a,t,n)))}function ff(e,t,a){var n=jt();ss(e,t,a,n)}function ss(e,t,a,n){var o={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xl(e))hf(t,o);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,_=f(y,a);if(o.hasEagerState=!0,o.eagerState=_,_t(_,y))return il(e,t,o,0),Ue===null&&nl(),!1}catch{}finally{}if(a=Qr(e,t,o,n),a!==null)return Et(a,e,n),mf(a,t,n),!0}return!1}function Co(e,t,a,n){if(n={lane:2,revertLane:rc(),action:n,hasEagerState:!1,eagerState:null,next:null},xl(e)){if(t)throw Error(l(479))}else t=Qr(e,a,n,2),t!==null&&Et(t,e,2)}function xl(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function hf(e,t){Zn=vl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function mf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,xu(e,a)}}var wl={readContext:rt,use:gl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},vf={readContext:rt,use:gl,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Jd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,bl(4194308,4,tf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){bl(4,2,e,t)},useMemo:function(e,t){var a=mt();t=t===void 0?null:t;var n=e();if(mn){Na(!0);try{e()}finally{Na(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=mt();if(a!==void 0){var o=a(t);if(mn){Na(!0);try{a(t)}finally{Na(!1)}}}else o=t;return n.memoizedState=n.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},n.queue=e,e=e.dispatch=lg.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=So(e);var t=e.queue,a=ff.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Eo,useDeferredValue:function(e,t){var a=mt();return No(a,e,t)},useTransition:function(){var e=So(!1);return e=rf.bind(null,pe,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=pe,o=mt();if(Ne){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Ue===null)throw Error(l(349));(Se&124)!==0||Ud(n,t,a)}o.memoizedState=a;var f={value:a,getSnapshot:t};return o.queue=f,Jd(Ld.bind(null,n,f,e),[e]),n.flags|=2048,Jn(9,_l(),zd.bind(null,n,f,a,t),null),a},useId:function(){var e=mt(),t=Ue.identifierPrefix;if(Ne){var a=la,n=sa;a=(n&~(1<<32-yt(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=pl++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=eg++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ao,useFormState:Kd,useActionState:Kd,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Co.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:bo,useCacheRefresh:function(){return mt().memoizedState=sg.bind(null,pe)}},pf={readContext:rt,use:gl,useCallback:nf,useContext:rt,useEffect:Fd,useImperativeHandle:af,useInsertionEffect:Wd,useLayoutEffect:ef,useMemo:sf,useReducer:yl,useRef:Id,useState:function(){return yl(ca)},useDebugValue:Eo,useDeferredValue:function(e,t){var a=Ke();return lf(a,Ce.memoizedState,e,t)},useTransition:function(){var e=yl(ca)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:Dd,useId:uf,useHostTransitionStatus:Ao,useFormState:Qd,useActionState:Qd,useOptimistic:function(e,t){var a=Ke();return Hd(a,Ce,e,t)},useMemoCache:bo,useCacheRefresh:df},rg={readContext:rt,use:gl,useCallback:nf,useContext:rt,useEffect:Fd,useImperativeHandle:af,useInsertionEffect:Wd,useLayoutEffect:ef,useMemo:sf,useReducer:wo,useRef:Id,useState:function(){return wo(ca)},useDebugValue:Eo,useDeferredValue:function(e,t){var a=Ke();return Ce===null?No(a,e,t):lf(a,Ce.memoizedState,e,t)},useTransition:function(){var e=wo(ca)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:Dd,useId:uf,useHostTransitionStatus:Ao,useFormState:Zd,useActionState:Zd,useOptimistic:function(e,t){var a=Ke();return Ce!==null?Hd(a,Ce,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bo,useCacheRefresh:df},Fn=null,ls=0;function Sl(e){var t=ls;return ls+=1,Fn===null&&(Fn=[]),Nd(Fn,e,t)}function rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function jl(e,t){throw t.$$typeof===b?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gf(e){var t=e._init;return t(e._payload)}function yf(e){function t(R,A){if(e){var M=R.deletions;M===null?(R.deletions=[A],R.flags|=16):M.push(A)}}function a(R,A){if(!e)return null;for(;A!==null;)t(R,A),A=A.sibling;return null}function n(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function o(R,A){return R=ia(R,A),R.index=0,R.sibling=null,R}function f(R,A,M){return R.index=M,e?(M=R.alternate,M!==null?(M=M.index,M<A?(R.flags|=67108866,A):M):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,A,M,G){return A===null||A.tag!==6?(A=Zr(M,R.mode,G),A.return=R,A):(A=o(A,M),A.return=R,A)}function j(R,A,M,G){var W=M.type;return W===E?$(R,A,M.props.children,G,M.key):A!==null&&(A.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===te&&gf(W)===A.type)?(A=o(A,M.props),rs(A,M),A.return=R,A):(A=ll(M.type,M.key,M.props,null,R.mode,G),rs(A,M),A.return=R,A)}function D(R,A,M,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=Ir(M,R.mode,G),A.return=R,A):(A=o(A,M.children||[]),A.return=R,A)}function $(R,A,M,G,W){return A===null||A.tag!==7?(A=ln(M,R.mode,G,W),A.return=R,A):(A=o(A,M),A.return=R,A)}function V(R,A,M){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Zr(""+A,R.mode,M),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case x:return M=ll(A.type,A.key,A.props,null,R.mode,M),rs(M,A),M.return=R,M;case S:return A=Ir(A,R.mode,M),A.return=R,A;case te:var G=A._init;return A=G(A._payload),V(R,A,M)}if(me(A)||Q(A))return A=ln(A,R.mode,M,null),A.return=R,A;if(typeof A.then=="function")return V(R,Sl(A),M);if(A.$$typeof===C)return V(R,ul(R,A),M);jl(R,A)}return null}function z(R,A,M,G){var W=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return W!==null?null:_(R,A,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return M.key===W?j(R,A,M,G):null;case S:return M.key===W?D(R,A,M,G):null;case te:return W=M._init,M=W(M._payload),z(R,A,M,G)}if(me(M)||Q(M))return W!==null?null:$(R,A,M,G,null);if(typeof M.then=="function")return z(R,A,Sl(M),G);if(M.$$typeof===C)return z(R,A,ul(R,M),G);jl(R,M)}return null}function B(R,A,M,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(M)||null,_(A,R,""+G,W);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return R=R.get(G.key===null?M:G.key)||null,j(A,R,G,W);case S:return R=R.get(G.key===null?M:G.key)||null,D(A,R,G,W);case te:var ge=G._init;return G=ge(G._payload),B(R,A,M,G,W)}if(me(G)||Q(G))return R=R.get(M)||null,$(A,R,G,W,null);if(typeof G.then=="function")return B(R,A,M,Sl(G),W);if(G.$$typeof===C)return B(R,A,M,ul(A,G),W);jl(A,G)}return null}function de(R,A,M,G){for(var W=null,ge=null,ne=A,ce=A=0,tt=null;ne!==null&&ce<M.length;ce++){ne.index>ce?(tt=ne,ne=null):tt=ne.sibling;var je=z(R,ne,M[ce],G);if(je===null){ne===null&&(ne=tt);break}e&&ne&&je.alternate===null&&t(R,ne),A=f(je,A,ce),ge===null?W=je:ge.sibling=je,ge=je,ne=tt}if(ce===M.length)return a(R,ne),Ne&&on(R,ce),W;if(ne===null){for(;ce<M.length;ce++)ne=V(R,M[ce],G),ne!==null&&(A=f(ne,A,ce),ge===null?W=ne:ge.sibling=ne,ge=ne);return Ne&&on(R,ce),W}for(ne=n(ne);ce<M.length;ce++)tt=B(ne,R,ce,M[ce],G),tt!==null&&(e&&tt.alternate!==null&&ne.delete(tt.key===null?ce:tt.key),A=f(tt,A,ce),ge===null?W=tt:ge.sibling=tt,ge=tt);return e&&ne.forEach(function(Za){return t(R,Za)}),Ne&&on(R,ce),W}function oe(R,A,M,G){if(M==null)throw Error(l(151));for(var W=null,ge=null,ne=A,ce=A=0,tt=null,je=M.next();ne!==null&&!je.done;ce++,je=M.next()){ne.index>ce?(tt=ne,ne=null):tt=ne.sibling;var Za=z(R,ne,je.value,G);if(Za===null){ne===null&&(ne=tt);break}e&&ne&&Za.alternate===null&&t(R,ne),A=f(Za,A,ce),ge===null?W=Za:ge.sibling=Za,ge=Za,ne=tt}if(je.done)return a(R,ne),Ne&&on(R,ce),W;if(ne===null){for(;!je.done;ce++,je=M.next())je=V(R,je.value,G),je!==null&&(A=f(je,A,ce),ge===null?W=je:ge.sibling=je,ge=je);return Ne&&on(R,ce),W}for(ne=n(ne);!je.done;ce++,je=M.next())je=B(ne,R,ce,je.value,G),je!==null&&(e&&je.alternate!==null&&ne.delete(je.key===null?ce:je.key),A=f(je,A,ce),ge===null?W=je:ge.sibling=je,ge=je);return e&&ne.forEach(function(oy){return t(R,oy)}),Ne&&on(R,ce),W}function Re(R,A,M,G){if(typeof M=="object"&&M!==null&&M.type===E&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case x:e:{for(var W=M.key;A!==null;){if(A.key===W){if(W=M.type,W===E){if(A.tag===7){a(R,A.sibling),G=o(A,M.props.children),G.return=R,R=G;break e}}else if(A.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===te&&gf(W)===A.type){a(R,A.sibling),G=o(A,M.props),rs(G,M),G.return=R,R=G;break e}a(R,A);break}else t(R,A);A=A.sibling}M.type===E?(G=ln(M.props.children,R.mode,G,M.key),G.return=R,R=G):(G=ll(M.type,M.key,M.props,null,R.mode,G),rs(G,M),G.return=R,R=G)}return y(R);case S:e:{for(W=M.key;A!==null;){if(A.key===W)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){a(R,A.sibling),G=o(A,M.children||[]),G.return=R,R=G;break e}else{a(R,A);break}else t(R,A);A=A.sibling}G=Ir(M,R.mode,G),G.return=R,R=G}return y(R);case te:return W=M._init,M=W(M._payload),Re(R,A,M,G)}if(me(M))return de(R,A,M,G);if(Q(M)){if(W=Q(M),typeof W!="function")throw Error(l(150));return M=W.call(M),oe(R,A,M,G)}if(typeof M.then=="function")return Re(R,A,Sl(M),G);if(M.$$typeof===C)return Re(R,A,ul(R,M),G);jl(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,A!==null&&A.tag===6?(a(R,A.sibling),G=o(A,M),G.return=R,R=G):(a(R,A),G=Zr(M,R.mode,G),G.return=R,R=G),y(R)):a(R,A)}return function(R,A,M,G){try{ls=0;var W=Re(R,A,M,G);return Fn=null,W}catch(ne){if(ne===Ji||ne===fl)throw ne;var ge=bt(29,ne,null,R.mode);return ge.lanes=G,ge.return=R,ge}finally{}}}var Wn=yf(!0),_f=yf(!1),Dt=K(null),Xt=null;function Da(e){var t=e.alternate;J(Ze,Ze.current&1),J(Dt,e),Xt===null&&(t===null||Xn.current!==null||t.memoizedState!==null)&&(Xt=e)}function bf(e){if(e.tag===22){if(J(Ze,Ze.current),J(Dt,e),Xt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Xt=e)}}else Ua()}function Ua(){J(Ze,Ze.current),J(Dt,Dt.current)}function ua(e){F(Dt),Xt===e&&(Xt=null),F(Ze)}var Ze=K(0);function El(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_c(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Oo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:g({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ro={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=jt(),o=Ra(n);o.payload=t,a!=null&&(o.callback=a),t=ka(e,o,n),t!==null&&(Et(t,e,n),Wi(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=jt(),o=Ra(n);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=ka(e,o,n),t!==null&&(Et(t,e,n),Wi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=jt(),n=Ra(a);n.tag=2,t!=null&&(n.callback=t),t=ka(e,n,a),t!==null&&(Et(t,e,a),Wi(t,e,a))}};function xf(e,t,a,n,o,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,f,y):t.prototype&&t.prototype.isPureReactComponent?!Pi(a,n)||!Pi(o,f):!0}function wf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function vn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=g({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var Nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sf(e){Nl(e)}function jf(e){console.error(e)}function Ef(e){Nl(e)}function Tl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Nf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ko(e,t,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){Tl(e,t)},a}function Tf(e){return e=Ra(e),e.tag=3,e}function Af(e,t,a,n){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var f=n.value;e.payload=function(){return o(f)},e.callback=function(){Nf(t,a,n)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Nf(t,a,n),typeof o!="function"&&($a===null?$a=new Set([this]):$a.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})})}function og(e,t,a,n,o){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Xi(t,a,o,!0),a=Dt.current,a!==null){switch(a.tag){case 13:return Xt===null?ac():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=o,n===lo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),ic(e,n,o)),!1;case 22:return a.flags|=65536,n===lo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),ic(e,n,o)),!1}throw Error(l(435,a.tag))}return ic(e,n,o),ac(),!1}if(Ne)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,n!==Wr&&(e=Error(l(422),{cause:n}),Qi(Ot(e,a)))):(n!==Wr&&(t=Error(l(423),{cause:n}),Qi(Ot(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,n=Ot(n,a),o=ko(e.stateNode,n,o),co(e,o),$e!==4&&($e=2)),!1;var f=Error(l(520),{cause:n});if(f=Ot(f,a),ms===null?ms=[f]:ms.push(f),$e!==4&&($e=2),t===null)return!0;n=Ot(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=ko(a.stateNode,n,e),co(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($a===null||!$a.has(f))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Tf(o),Af(o,e,a,n),co(a,o),!1}a=a.return}while(a!==null);return!1}var Cf=Error(l(461)),We=!1;function nt(e,t,a,n){t.child=e===null?_f(t,null,a,n):Wn(t,e.child,a,n)}function Of(e,t,a,n,o){a=a.render;var f=t.ref;if("ref"in n){var y={};for(var _ in n)_!=="ref"&&(y[_]=n[_])}else y=n;return fn(t),n=vo(e,t,a,y,f,o),_=po(),e!==null&&!We?(go(e,t,o),da(e,t,o)):(Ne&&_&&Jr(t),t.flags|=1,nt(e,t,n,o),t.child)}function Rf(e,t,a,n,o){if(e===null){var f=a.type;return typeof f=="function"&&!Xr(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,kf(e,t,f,n,o)):(e=ll(a.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Ho(e,o)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Pi,a(y,n)&&e.ref===t.ref)return da(e,t,o)}return t.flags|=1,e=ia(f,n),e.ref=t.ref,e.return=t,t.child=e}function kf(e,t,a,n,o){if(e!==null){var f=e.memoizedProps;if(Pi(f,n)&&e.ref===t.ref)if(We=!1,t.pendingProps=n=f,Ho(e,o))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,da(e,t,o)}return Mo(e,t,a,n,o)}function Mf(e,t,a){var n=t.pendingProps,o=n.children,f=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=f!==null?f.baseLanes|a:a,e!==null){for(o=t.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;t.childLanes=f&~n}else t.childLanes=0,t.child=null;return Df(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&dl(t,f!==null?f.cachePool:null),f!==null?Rd(t,f):fo(),bf(t);else return t.lanes=t.childLanes=536870912,Df(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(dl(t,f.cachePool),Rd(t,f),Ua(),t.memoizedState=null):(e!==null&&dl(t,null),fo(),Ua());return nt(e,t,o,a),t.child}function Df(e,t,a,n){var o=so();return o=o===null?null:{parent:Xe._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&dl(t,null),fo(),bf(t),e!==null&&Xi(e,t,n,!0),null}function Al(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Mo(e,t,a,n,o){return fn(t),a=vo(e,t,a,n,void 0,o),n=po(),e!==null&&!We?(go(e,t,o),da(e,t,o)):(Ne&&n&&Jr(t),t.flags|=1,nt(e,t,a,o),t.child)}function Uf(e,t,a,n,o,f){return fn(t),t.updateQueue=null,a=Md(t,n,a,o),kd(e),n=po(),e!==null&&!We?(go(e,t,f),da(e,t,f)):(Ne&&n&&Jr(t),t.flags|=1,nt(e,t,a,f),t.child)}function zf(e,t,a,n,o){if(fn(t),t.stateNode===null){var f=Pn,y=a.contextType;typeof y=="object"&&y!==null&&(f=rt(y)),f=new a(n,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ro,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=n,f.state=t.memoizedState,f.refs={},ro(t),y=a.contextType,f.context=typeof y=="object"&&y!==null?rt(y):Pn,f.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Oo(t,a,y,n),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ro.enqueueReplaceState(f,f.state,null),ts(t,n,f,o),es(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){f=t.stateNode;var _=t.memoizedProps,j=vn(a,_);f.props=j;var D=f.context,$=a.contextType;y=Pn,typeof $=="object"&&$!==null&&(y=rt($));var V=a.getDerivedStateFromProps;$=typeof V=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||D!==y)&&wf(t,f,n,y),Oa=!1;var z=t.memoizedState;f.state=z,ts(t,n,f,o),es(),D=t.memoizedState,_||z!==D||Oa?(typeof V=="function"&&(Oo(t,a,V,n),D=t.memoizedState),(j=Oa||xf(t,a,j,n,z,D,y))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=D),f.props=n,f.state=D,f.context=y,n=j):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{f=t.stateNode,oo(e,t),y=t.memoizedProps,$=vn(a,y),f.props=$,V=t.pendingProps,z=f.context,D=a.contextType,j=Pn,typeof D=="object"&&D!==null&&(j=rt(D)),_=a.getDerivedStateFromProps,(D=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==V||z!==j)&&wf(t,f,n,j),Oa=!1,z=t.memoizedState,f.state=z,ts(t,n,f,o),es();var B=t.memoizedState;y!==V||z!==B||Oa||e!==null&&e.dependencies!==null&&cl(e.dependencies)?(typeof _=="function"&&(Oo(t,a,_,n),B=t.memoizedState),($=Oa||xf(t,a,$,n,z,B,j)||e!==null&&e.dependencies!==null&&cl(e.dependencies))?(D||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(n,B,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(n,B,j)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=B),f.props=n,f.state=B,f.context=j,n=$):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),n=!1)}return f=n,Al(e,t),n=(t.flags&128)!==0,f||n?(f=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&n?(t.child=Wn(t,e.child,null,o),t.child=Wn(t,null,a,o)):nt(e,t,a,o),t.memoizedState=f.state,e=t.child):e=da(e,t,o),e}function Lf(e,t,a,n){return Ki(),t.flags|=256,nt(e,t,a,n),t.child}var Do={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:Sd()}}function zo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ut),e}function Bf(e,t,a){var n=t.pendingProps,o=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),y&&(o=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(o?Da(t):Ua(),Ne){var _=He,j;if(j=_){e:{for(j=_,_=Qt;j.nodeType!==8;){if(!_){_=null;break e}if(j=qt(j.nextSibling),j===null){_=null;break e}}_=j}_!==null?(t.memoizedState={dehydrated:_,treeContext:rn!==null?{id:sa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},j=bt(18,null,null,0),j.stateNode=_,j.return=t,t.child=j,ut=t,He=null,j=!0):j=!1}j||un(t)}if(_=t.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _c(_)?t.lanes=32:t.lanes=536870912,null;ua(t)}return _=n.children,n=n.fallback,o?(Ua(),o=t.mode,_=Cl({mode:"hidden",children:_},o),n=ln(n,o,a,null),_.return=t,n.return=t,_.sibling=n,t.child=_,o=t.child,o.memoizedState=Uo(a),o.childLanes=zo(e,y,a),t.memoizedState=Do,n):(Da(t),Lo(t,_))}if(j=e.memoizedState,j!==null&&(_=j.dehydrated,_!==null)){if(f)t.flags&256?(Da(t),t.flags&=-257,t=Bo(e,t,a)):t.memoizedState!==null?(Ua(),t.child=e.child,t.flags|=128,t=null):(Ua(),o=n.fallback,_=t.mode,n=Cl({mode:"visible",children:n.children},_),o=ln(o,_,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,Wn(t,e.child,null,a),n=t.child,n.memoizedState=Uo(a),n.childLanes=zo(e,y,a),t.memoizedState=Do,t=o);else if(Da(t),_c(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var D=y.dgst;y=D,n=Error(l(419)),n.stack="",n.digest=y,Qi({value:n,source:null,stack:null}),t=Bo(e,t,a)}else if(We||Xi(e,t,a,!1),y=(a&e.childLanes)!==0,We||y){if(y=Ue,y!==null&&(n=a&-a,n=(n&42)!==0?1:_r(n),n=(n&(y.suspendedLanes|a))!==0?0:n,n!==0&&n!==j.retryLane))throw j.retryLane=n,Gn(e,n),Et(y,e,n),Cf;_.data==="$?"||ac(),t=Bo(e,t,a)}else _.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,He=qt(_.nextSibling),ut=t,Ne=!0,cn=null,Qt=!1,e!==null&&(kt[Mt++]=sa,kt[Mt++]=la,kt[Mt++]=rn,sa=e.id,la=e.overflow,rn=t),t=Lo(t,n.children),t.flags|=4096);return t}return o?(Ua(),o=n.fallback,_=t.mode,j=e.child,D=j.sibling,n=ia(j,{mode:"hidden",children:n.children}),n.subtreeFlags=j.subtreeFlags&65011712,D!==null?o=ia(D,o):(o=ln(o,_,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,_=e.child.memoizedState,_===null?_=Uo(a):(j=_.cachePool,j!==null?(D=Xe._currentValue,j=j.parent!==D?{parent:D,pool:D}:j):j=Sd(),_={baseLanes:_.baseLanes|a,cachePool:j}),o.memoizedState=_,o.childLanes=zo(e,y,a),t.memoizedState=Do,n):(Da(t),a=e.child,e=a.sibling,a=ia(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function Lo(e,t){return t=Cl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cl(e,t){return e=bt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Bo(e,t,a){return Wn(t,e.child,null,a),e=Lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),to(e.return,t,a)}function qo(e,t,a,n,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:o}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=n,f.tail=a,f.tailMode=o)}function Hf(e,t,a){var n=t.pendingProps,o=n.revealOrder,f=n.tail;if(nt(e,t,n.children,a),n=Ze.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qf(e,a,t);else if(e.tag===19)qf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(J(Ze,n),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&El(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),qo(t,!1,o,a,f);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&El(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}qo(t,!0,a,null,f);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function da(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ha|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ho(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cl(e)))}function cg(e,t,a){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),Ca(t,Xe,e.memoizedState.cache),Ki();break;case 27:case 5:$s(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:Ca(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Da(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Bf(e,t,a):(Da(t),e=da(e,t,a),e!==null?e.sibling:null);Da(t);break;case 19:var o=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Xi(e,t,a,!1),n=(a&t.childLanes)!==0),o){if(n)return Hf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(Ze,Ze.current),n)break;return null;case 22:case 23:return t.lanes=0,Mf(e,t,a);case 24:Ca(t,Xe,e.memoizedState.cache)}return da(e,t,a)}function $f(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Ho(e,a)&&(t.flags&128)===0)return We=!1,cg(e,t,a);We=(e.flags&131072)!==0}else We=!1,Ne&&(t.flags&1048576)!==0&&pd(t,ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,o=n._init;if(n=o(n._payload),t.type=n,typeof n=="function")Xr(n)?(e=vn(n,e),t.tag=1,t=zf(null,t,n,e,a)):(t.tag=0,t=Mo(null,t,n,e,a));else{if(n!=null){if(o=n.$$typeof,o===Y){t.tag=11,t=Of(null,t,n,e,a);break e}else if(o===P){t.tag=14,t=Rf(null,t,n,e,a);break e}}throw t=ae(n)||n,Error(l(306,t,""))}}return t;case 0:return Mo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,o=vn(n,t.pendingProps),zf(e,t,n,o,a);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var f=t.memoizedState;o=f.element,oo(e,t),ts(t,n,null,a);var y=t.memoizedState;if(n=y.cache,Ca(t,Xe,n),n!==f.cache&&ao(t,[Xe],a,!0),es(),n=y.element,f.isDehydrated)if(f={element:n,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Lf(e,t,n,a);break e}else if(n!==o){o=Ot(Error(l(424)),t),Qi(o),t=Lf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=qt(e.firstChild),ut=t,Ne=!0,cn=null,Qt=!0,a=_f(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ki(),n===o){t=da(e,t,a);break e}nt(e,t,n,a)}t=t.child}return t;case 26:return Al(e,t),e===null?(a=Yh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,n=Pl(ue.current).createElement(a),n[lt]=t,n[ft]=e,st(n,a,e),Fe(n),t.stateNode=n):t.memoizedState=Yh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $s(t),e===null&&Ne&&(n=t.stateNode=Gh(t.type,t.pendingProps,ue.current),ut=t,Qt=!0,o=He,Va(t.type)?(bc=o,He=qt(n.firstChild)):He=o),nt(e,t,t.pendingProps.children,a),Al(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((o=n=He)&&(n=Lg(n,t.type,t.pendingProps,Qt),n!==null?(t.stateNode=n,ut=t,He=qt(n.firstChild),Qt=!1,o=!0):o=!1),o||un(t)),$s(t),o=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,n=f.children,pc(o,f)?n=null:y!==null&&pc(o,y)&&(t.flags|=32),t.memoizedState!==null&&(o=vo(e,t,tg,null,null,a),Ss._currentValue=o),Al(e,t),nt(e,t,n,a),t.child;case 6:return e===null&&Ne&&((e=a=He)&&(a=Bg(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,ut=t,He=null,e=!0):e=!1),e||un(t)),null;case 13:return Bf(e,t,a);case 4:return De(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wn(t,null,n,a):nt(e,t,n,a),t.child;case 11:return Of(e,t,t.type,t.pendingProps,a);case 7:return nt(e,t,t.pendingProps,a),t.child;case 8:return nt(e,t,t.pendingProps.children,a),t.child;case 12:return nt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ca(t,t.type,n.value),nt(e,t,n.children,a),t.child;case 9:return o=t.type._context,n=t.pendingProps.children,fn(t),o=rt(o),n=n(o),t.flags|=1,nt(e,t,n,a),t.child;case 14:return Rf(e,t,t.type,t.pendingProps,a);case 15:return kf(e,t,t.type,t.pendingProps,a);case 19:return Hf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Cl(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ia(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Mf(e,t,a);case 24:return fn(t),n=rt(Xe),e===null?(o=so(),o===null&&(o=Ue,f=no(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=a),o=f),t.memoizedState={parent:n,cache:o},ro(t),Ca(t,Xe,o)):((e.lanes&a)!==0&&(oo(e,t),ts(t,null,null,a),es()),o=e.memoizedState,f=t.memoizedState,o.parent!==n?(o={parent:n,cache:n},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ca(t,Xe,n)):(n=f.cache,Ca(t,Xe,n),n!==o.cache&&ao(t,[Xe],a,!0))),nt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function fa(e){e.flags|=4}function Gf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ih(t)){if(t=Dt.current,t!==null&&((Se&4194048)===Se?Xt!==null:(Se&62914560)!==Se&&(Se&536870912)===0||t!==Xt))throw Fi=lo,jd;e.flags|=8192}}function Ol(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_u():536870912,e.lanes|=t,ni|=t)}function os(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags&65011712,n|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function ug(e,t,a){var n=t.pendingProps;switch(Fr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oa(Xe),Kt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?fa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_d())),Be(t),null;case 26:return a=t.memoizedState,e===null?(fa(t),a!==null?(Be(t),Gf(t,a)):(Be(t),t.flags&=-16777217)):a?a!==e.memoizedState?(fa(t),Be(t),Gf(t,a)):(Be(t),t.flags&=-16777217):(e.memoizedProps!==n&&fa(t),Be(t),t.flags&=-16777217),null;case 27:En(t),a=ue.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&fa(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Be(t),null}e=re.current,Yi(t)?gd(t):(e=Gh(o,n,a),t.stateNode=e,fa(t))}return Be(t),null;case 5:if(En(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&fa(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Be(t),null}if(e=re.current,Yi(t))gd(t);else{switch(o=Pl(ue.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}e[lt]=t,e[ft]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(st(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&fa(t)}}return Be(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&fa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=ue.current,Yi(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,o=ut,o!==null)switch(o.tag){case 27:case 5:n=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Uh(e.nodeValue,a)),e||un(t)}else e=Pl(e).createTextNode(n),e[lt]=t,t.stateNode=e}return Be(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Yi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[lt]=t}else Ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else o=_d(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ua(t),t):(ua(t),null)}if(ua(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,o=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(o=n.alternate.memoizedState.cachePool.pool);var f=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(f=n.memoizedState.cachePool.pool),f!==o&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ol(t,t.updateQueue),Be(t),null;case 4:return Kt(),e===null&&dc(t.stateNode.containerInfo),Be(t),null;case 10:return oa(t.type),Be(t),null;case 19:if(F(Ze),o=t.memoizedState,o===null)return Be(t),null;if(n=(t.flags&128)!==0,f=o.rendering,f===null)if(n)os(o,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=El(e),f!==null){for(t.flags|=128,os(o,!1),e=f.updateQueue,t.updateQueue=e,Ol(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)vd(a,e),a=a.sibling;return J(Ze,Ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&ie()>Ml&&(t.flags|=128,n=!0,os(o,!1),t.lanes=4194304)}else{if(!n)if(e=El(f),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ol(t,e),os(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ne)return Be(t),null}else 2*ie()-o.renderingStartTime>Ml&&a!==536870912&&(t.flags|=128,n=!0,os(o,!1),t.lanes=4194304);o.isBackwards?(f.sibling=t.child,t.child=f):(e=o.last,e!==null?e.sibling=f:t.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ie(),t.sibling=null,e=Ze.current,J(Ze,n?e&1|2:e&1),t):(Be(t),null);case 22:case 23:return ua(t),ho(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),a=t.updateQueue,a!==null&&Ol(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&F(hn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oa(Xe),Be(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function dg(e,t){switch(Fr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(Xe),Kt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return En(t),null;case 13:if(ua(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(Ze),null;case 4:return Kt(),null;case 10:return oa(t.type),null;case 22:case 23:return ua(t),ho(),e!==null&&F(hn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(Xe),null;case 25:return null;default:return null}}function Pf(e,t){switch(Fr(t),t.tag){case 3:oa(Xe),Kt();break;case 26:case 27:case 5:En(t);break;case 4:Kt();break;case 13:ua(t);break;case 19:F(Ze);break;case 10:oa(t.type);break;case 22:case 23:ua(t),ho(),e!==null&&F(hn);break;case 24:oa(Xe)}}function cs(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var o=n.next;a=o;do{if((a.tag&e)===e){n=void 0;var f=a.create,y=a.inst;n=f(),y.destroy=n}a=a.next}while(a!==o)}}catch(_){Me(t,t.return,_)}}function za(e,t,a){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var f=o.next;n=f;do{if((n.tag&e)===e){var y=n.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,o=t;var j=a,D=_;try{D()}catch($){Me(o,j,$)}}}n=n.next}while(n!==f)}}catch($){Me(t,t.return,$)}}function Vf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Od(t,a)}catch(n){Me(e,e.return,n)}}}function Yf(e,t,a){a.props=vn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Me(e,t,n)}}function us(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(o){Me(e,t,o)}}function Zt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(o){Me(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Me(e,t,o)}else a.current=null}function Kf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(o){Me(e,e.return,o)}}function $o(e,t,a){try{var n=e.stateNode;kg(n,e.type,a,t),n[ft]=t}catch(o){Me(e,e.return,o)}}function Qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Va(e.type)||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Gl));else if(n!==4&&(n===27&&Va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Po(e,t,a),e=e.sibling;e!==null;)Po(e,t,a),e=e.sibling}function Rl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Rl(e,t,a),e=e.sibling;e!==null;)Rl(e,t,a),e=e.sibling}function Xf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);st(t,n,a),t[lt]=e,t[ft]=a}catch(f){Me(e,e.return,f)}}var ha=!1,Ve=!1,Vo=!1,Zf=typeof WeakSet=="function"?WeakSet:Set,et=null;function fg(e,t){if(e=e.containerInfo,mc=Zl,e=sd(e),$r(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var o=n.anchorOffset,f=n.focusNode;n=n.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,_=-1,j=-1,D=0,$=0,V=e,z=null;t:for(;;){for(var B;V!==a||o!==0&&V.nodeType!==3||(_=y+o),V!==f||n!==0&&V.nodeType!==3||(j=y+n),V.nodeType===3&&(y+=V.nodeValue.length),(B=V.firstChild)!==null;)z=V,V=B;for(;;){if(V===e)break t;if(z===a&&++D===o&&(_=y),z===f&&++$===n&&(j=y),(B=V.nextSibling)!==null)break;V=z,z=V.parentNode}V=B}a=_===-1||j===-1?null:{start:_,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(vc={focusedElem:e,selectionRange:a},Zl=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,o=f.memoizedProps,f=f.memoizedState,n=a.stateNode;try{var de=vn(a.type,o,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(de,f),n.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Me(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)yc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function If(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:La(e,a),n&4&&cs(5,a);break;case 1:if(La(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){Me(a,a.return,y)}else{var o=vn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Me(a,a.return,y)}}n&64&&Vf(a),n&512&&us(a,a.return);break;case 3:if(La(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Od(e,t)}catch(y){Me(a,a.return,y)}}break;case 27:t===null&&n&4&&Xf(a);case 26:case 5:La(e,a),t===null&&n&4&&Kf(a),n&512&&us(a,a.return);break;case 12:La(e,a);break;case 13:La(e,a),n&4&&Wf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xg.bind(null,a),qg(e,a))));break;case 22:if(n=a.memoizedState!==null||ha,!n){t=t!==null&&t.memoizedState!==null||Ve,o=ha;var f=Ve;ha=n,(Ve=t)&&!f?Ba(e,a,(a.subtreeFlags&8772)!==0):La(e,a),ha=o,Ve=f}break;case 30:break;default:La(e,a)}}function Jf(e){var t=e.alternate;t!==null&&(e.alternate=null,Jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&wr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,vt=!1;function ma(e,t,a){for(a=a.child;a!==null;)Ff(e,t,a),a=a.sibling}function Ff(e,t,a){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Ri,a)}catch{}switch(a.tag){case 26:Ve||Zt(a,t),ma(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||Zt(a,t);var n=Le,o=vt;Va(a.type)&&(Le=a.stateNode,vt=!1),ma(e,t,a),_s(a.stateNode),Le=n,vt=o;break;case 5:Ve||Zt(a,t);case 6:if(n=Le,o=vt,Le=null,ma(e,t,a),Le=n,vt=o,Le!==null)if(vt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(a.stateNode)}catch(f){Me(a,t,f)}else try{Le.removeChild(a.stateNode)}catch(f){Me(a,t,f)}break;case 18:Le!==null&&(vt?(e=Le,Hh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ts(e)):Hh(Le,a.stateNode));break;case 4:n=Le,o=vt,Le=a.stateNode.containerInfo,vt=!0,ma(e,t,a),Le=n,vt=o;break;case 0:case 11:case 14:case 15:Ve||za(2,a,t),Ve||za(4,a,t),ma(e,t,a);break;case 1:Ve||(Zt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Yf(a,t,n)),ma(e,t,a);break;case 21:ma(e,t,a);break;case 22:Ve=(n=Ve)||a.memoizedState!==null,ma(e,t,a),Ve=n;break;default:ma(e,t,a)}}function Wf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ts(e)}catch(a){Me(t,t.return,a)}}function hg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Zf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Zf),t;default:throw Error(l(435,e.tag))}}function Yo(e,t){var a=hg(e);t.forEach(function(n){var o=wg.bind(null,e,n);a.has(n)||(a.add(n),n.then(o,o))})}function xt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var o=a[n],f=e,y=t,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(Va(_.type)){Le=_.stateNode,vt=!1;break e}break;case 5:Le=_.stateNode,vt=!1;break e;case 3:case 4:Le=_.stateNode.containerInfo,vt=!0;break e}_=_.return}if(Le===null)throw Error(l(160));Ff(f,y,o),Le=null,vt=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)eh(t,e),t=t.sibling}var Bt=null;function eh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),wt(e),n&4&&(za(3,e,e.return),cs(3,e),za(5,e,e.return));break;case 1:xt(t,e),wt(e),n&512&&(Ve||a===null||Zt(a,a.return)),n&64&&ha&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var o=Bt;if(xt(t,e),wt(e),n&512&&(Ve||a===null||Zt(a,a.return)),n&4){var f=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(n){case"title":f=o.getElementsByTagName("title")[0],(!f||f[Di]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(n),o.head.insertBefore(f,o.querySelector("head > title"))),st(f,n,a),f[lt]=e,Fe(f),n=f;break e;case"link":var y=Xh("link","href",o).get(n+(a.href||""));if(y){for(var _=0;_<y.length;_++)if(f=y[_],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(_,1);break t}}f=o.createElement(n),st(f,n,a),o.head.appendChild(f);break;case"meta":if(y=Xh("meta","content",o).get(n+(a.content||""))){for(_=0;_<y.length;_++)if(f=y[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(_,1);break t}}f=o.createElement(n),st(f,n,a),o.head.appendChild(f);break;default:throw Error(l(468,n))}f[lt]=e,Fe(f),n=f}e.stateNode=n}else Zh(o,e.type,e.stateNode);else e.stateNode=Qh(o,n,e.memoizedProps);else f!==n?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,n===null?Zh(o,e.type,e.stateNode):Qh(o,n,e.memoizedProps)):n===null&&e.stateNode!==null&&$o(e,e.memoizedProps,a.memoizedProps)}break;case 27:xt(t,e),wt(e),n&512&&(Ve||a===null||Zt(a,a.return)),a!==null&&n&4&&$o(e,e.memoizedProps,a.memoizedProps);break;case 5:if(xt(t,e),wt(e),n&512&&(Ve||a===null||Zt(a,a.return)),e.flags&32){o=e.stateNode;try{Un(o,"")}catch(B){Me(e,e.return,B)}}n&4&&e.stateNode!=null&&(o=e.memoizedProps,$o(e,o,a!==null?a.memoizedProps:o)),n&1024&&(Vo=!0);break;case 6:if(xt(t,e),wt(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(B){Me(e,e.return,B)}}break;case 3:if(Kl=null,o=Bt,Bt=Vl(t.containerInfo),xt(t,e),Bt=o,wt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(B){Me(e,e.return,B)}Vo&&(Vo=!1,th(e));break;case 4:n=Bt,Bt=Vl(e.stateNode.containerInfo),xt(t,e),wt(e),Bt=n;break;case 12:xt(t,e),wt(e);break;case 13:xt(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jo=ie()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Yo(e,n)));break;case 22:o=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,D=ha,$=Ve;if(ha=D||o,Ve=$||j,xt(t,e),Ve=$,ha=D,wt(e),n&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||j||ha||Ve||pn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(f=j.stateNode,o)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=j.stateNode;var V=j.memoizedProps.style,z=V!=null&&V.hasOwnProperty("display")?V.display:null;_.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Me(j,j.return,B)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=o?"":j.memoizedProps}catch(B){Me(j,j.return,B)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Yo(e,a))));break;case 19:xt(t,e),wt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Yo(e,n)));break;case 30:break;case 21:break;default:xt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Qf(n)){a=n;break}n=n.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,f=Go(e);Rl(e,f,o);break;case 5:var y=a.stateNode;a.flags&32&&(Un(y,""),a.flags&=-33);var _=Go(e);Rl(e,_,y);break;case 3:case 4:var j=a.stateNode.containerInfo,D=Go(e);Po(e,D,j);break;default:throw Error(l(161))}}catch($){Me(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function th(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;th(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function La(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)If(e,t.alternate,t),t=t.sibling}function pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:za(4,t,t.return),pn(t);break;case 1:Zt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Yf(t,t.return,a),pn(t);break;case 27:_s(t.stateNode);case 26:case 5:Zt(t,t.return),pn(t);break;case 22:t.memoizedState===null&&pn(t);break;case 30:pn(t);break;default:pn(t)}e=e.sibling}}function Ba(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,o=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ba(o,f,a),cs(4,f);break;case 1:if(Ba(o,f,a),n=f,o=n.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){Me(n,n.return,D)}if(n=f,o=n.updateQueue,o!==null){var _=n.stateNode;try{var j=o.shared.hiddenCallbacks;if(j!==null)for(o.shared.hiddenCallbacks=null,o=0;o<j.length;o++)Cd(j[o],_)}catch(D){Me(n,n.return,D)}}a&&y&64&&Vf(f),us(f,f.return);break;case 27:Xf(f);case 26:case 5:Ba(o,f,a),a&&n===null&&y&4&&Kf(f),us(f,f.return);break;case 12:Ba(o,f,a);break;case 13:Ba(o,f,a),a&&y&4&&Wf(o,f);break;case 22:f.memoizedState===null&&Ba(o,f,a),us(f,f.return);break;case 30:break;default:Ba(o,f,a)}t=t.sibling}}function Ko(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zi(a))}function Qo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zi(e))}function It(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ah(e,t,a,n),t=t.sibling}function ah(e,t,a,n){var o=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,n),o&2048&&cs(9,t);break;case 1:It(e,t,a,n);break;case 3:It(e,t,a,n),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zi(e)));break;case 12:if(o&2048){It(e,t,a,n),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,_=f.onPostCommit;typeof _=="function"&&_(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Me(t,t.return,j)}}else It(e,t,a,n);break;case 13:It(e,t,a,n);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?It(e,t,a,n):ds(e,t):f._visibility&2?It(e,t,a,n):(f._visibility|=2,ei(e,t,a,n,(t.subtreeFlags&10256)!==0)),o&2048&&Ko(y,t);break;case 24:It(e,t,a,n),o&2048&&Qo(t.alternate,t);break;default:It(e,t,a,n)}}function ei(e,t,a,n,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,y=t,_=a,j=n,D=y.flags;switch(y.tag){case 0:case 11:case 15:ei(f,y,_,j,o),cs(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?ei(f,y,_,j,o):ds(f,y):($._visibility|=2,ei(f,y,_,j,o)),o&&D&2048&&Ko(y.alternate,y);break;case 24:ei(f,y,_,j,o),o&&D&2048&&Qo(y.alternate,y);break;default:ei(f,y,_,j,o)}t=t.sibling}}function ds(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,o=n.flags;switch(n.tag){case 22:ds(a,n),o&2048&&Ko(n.alternate,n);break;case 24:ds(a,n),o&2048&&Qo(n.alternate,n);break;default:ds(a,n)}t=t.sibling}}var fs=8192;function ti(e){if(e.subtreeFlags&fs)for(e=e.child;e!==null;)nh(e),e=e.sibling}function nh(e){switch(e.tag){case 26:ti(e),e.flags&fs&&e.memoizedState!==null&&Fg(Bt,e.memoizedState,e.memoizedProps);break;case 5:ti(e);break;case 3:case 4:var t=Bt;Bt=Vl(e.stateNode.containerInfo),ti(e),Bt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=fs,fs=16777216,ti(e),fs=t):ti(e));break;default:ti(e)}}function ih(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];et=n,lh(n,e)}ih(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sh(e),e=e.sibling}function sh(e){switch(e.tag){case 0:case 11:case 15:hs(e),e.flags&2048&&za(9,e,e.return);break;case 3:hs(e);break;case 12:hs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kl(e)):hs(e);break;default:hs(e)}}function kl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];et=n,lh(n,e)}ih(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:za(8,t,t.return),kl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,kl(t));break;default:kl(t)}e=e.sibling}}function lh(e,t){for(;et!==null;){var a=et;switch(a.tag){case 0:case 11:case 15:za(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Zi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,et=n;else e:for(a=e;et!==null;){n=et;var o=n.sibling,f=n.return;if(Jf(n),n===a){et=null;break e}if(o!==null){o.return=f,et=o;break e}et=f}}}var mg={getCacheForType:function(e){var t=rt(Xe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},vg=typeof WeakMap=="function"?WeakMap:Map,Te=0,Ue=null,ye=null,Se=0,Ae=0,St=null,qa=!1,ai=!1,Xo=!1,va=0,$e=0,Ha=0,gn=0,Zo=0,Ut=0,ni=0,ms=null,pt=null,Io=!1,Jo=0,Ml=1/0,Dl=null,$a=null,it=0,Ga=null,ii=null,si=0,Fo=0,Wo=null,rh=null,vs=0,ec=null;function jt(){if((Te&2)!==0&&Se!==0)return Se&-Se;if(H.T!==null){var e=Kn;return e!==0?e:rc()}return wu()}function oh(){Ut===0&&(Ut=(Se&536870912)===0||Ne?yu():536870912);var e=Dt.current;return e!==null&&(e.flags|=32),Ut}function Et(e,t,a){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(li(e,0),Pa(e,Se,Ut,!1)),Mi(e,a),((Te&2)===0||e!==Ue)&&(e===Ue&&((Te&2)===0&&(gn|=a),$e===4&&Pa(e,Se,Ut,!1)),Jt(e))}function ch(e,t,a){if((Te&6)!==0)throw Error(l(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||ki(e,t),o=n?yg(e,t):nc(e,t,!0),f=n;do{if(o===0){ai&&!n&&Pa(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!pg(a)){o=nc(e,t,!1),f=!1;continue}if(o===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var _=e;o=ms;var j=_.current.memoizedState.isDehydrated;if(j&&(li(_,y).flags|=256),y=nc(_,y,!1),y!==2){if(Xo&&!j){_.errorRecoveryDisabledLanes|=f,gn|=f,o=4;break e}f=pt,pt=o,f!==null&&(pt===null?pt=f:pt.push.apply(pt,f))}o=y}if(f=!1,o!==2)continue}}if(o===1){li(e,0),Pa(e,t,0,!0);break}e:{switch(n=e,f=o,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Pa(n,t,Ut,!qa);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Jo+300-ie(),10<o)){if(Pa(n,t,Ut,!qa),Ys(n,0,!0)!==0)break e;n.timeoutHandle=Bh(uh.bind(null,n,a,pt,Dl,Io,t,Ut,gn,ni,qa,f,2,-0,0),o);break e}uh(n,a,pt,Dl,Io,t,Ut,gn,ni,qa,f,0,-0,0)}}break}while(!0);Jt(e)}function uh(e,t,a,n,o,f,y,_,j,D,$,V,z,B){if(e.timeoutHandle=-1,V=t.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(ws={stylesheets:null,count:0,unsuspend:Jg},nh(t),V=Wg(),V!==null)){e.cancelPendingCommit=V(gh.bind(null,e,t,f,a,n,o,y,_,j,$,1,z,B)),Pa(e,f,y,!D);return}gh(e,t,f,a,n,o,y,_,j)}function pg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var o=a[n],f=o.getSnapshot;o=o.value;try{if(!_t(f(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t,a,n){t&=~Zo,t&=~gn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var o=t;0<o;){var f=31-yt(o),y=1<<f;n[f]=-1,o&=~y}a!==0&&bu(e,a,t)}function Ul(){return(Te&6)===0?(ps(0),!1):!0}function tc(){if(ye!==null){if(Ae===0)var e=ye.return;else e=ye,ra=dn=null,yo(e),Fn=null,ls=0,e=ye;for(;e!==null;)Pf(e.alternate,e),e=e.return;ye=null}}function li(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Dg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),tc(),Ue=e,ye=a=ia(e.current,null),Se=t,Ae=0,St=null,qa=!1,ai=ki(e,t),Xo=!1,ni=Ut=Zo=gn=Ha=$e=0,pt=ms=null,Io=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var o=31-yt(n),f=1<<o;t|=e[o],n&=~f}return va=t,nl(),a}function dh(e,t){pe=null,H.H=wl,t===Ji||t===fl?(t=Td(),Ae=3):t===jd?(t=Td(),Ae=4):Ae=t===Cf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,St=t,ye===null&&($e=1,Tl(e,Ot(t,e.current)))}function fh(){var e=H.H;return H.H=wl,e===null?wl:e}function hh(){var e=H.A;return H.A=mg,e}function ac(){$e=4,qa||(Se&4194048)!==Se&&Dt.current!==null||(ai=!0),(Ha&134217727)===0&&(gn&134217727)===0||Ue===null||Pa(Ue,Se,Ut,!1)}function nc(e,t,a){var n=Te;Te|=2;var o=fh(),f=hh();(Ue!==e||Se!==t)&&(Dl=null,li(e,t)),t=!1;var y=$e;e:do try{if(Ae!==0&&ye!==null){var _=ye,j=St;switch(Ae){case 8:tc(),y=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var D=Ae;if(Ae=0,St=null,ri(e,_,j,D),a&&ai){y=0;break e}break;default:D=Ae,Ae=0,St=null,ri(e,_,j,D)}}gg(),y=$e;break}catch($){dh(e,$)}while(!0);return t&&e.shellSuspendCounter++,ra=dn=null,Te=n,H.H=o,H.A=f,ye===null&&(Ue=null,Se=0,nl()),y}function gg(){for(;ye!==null;)mh(ye)}function yg(e,t){var a=Te;Te|=2;var n=fh(),o=hh();Ue!==e||Se!==t?(Dl=null,Ml=ie()+500,li(e,t)):ai=ki(e,t);e:do try{if(Ae!==0&&ye!==null){t=ye;var f=St;t:switch(Ae){case 1:Ae=0,St=null,ri(e,t,f,1);break;case 2:case 9:if(Ed(f)){Ae=0,St=null,vh(t);break}t=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),Jt(e)},f.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Ed(f)?(Ae=0,St=null,vh(t)):(Ae=0,St=null,ri(e,t,f,7));break;case 5:var y=null;switch(ye.tag){case 26:y=ye.memoizedState;case 5:case 27:var _=ye;if(!y||Ih(y)){Ae=0,St=null;var j=_.sibling;if(j!==null)ye=j;else{var D=_.return;D!==null?(ye=D,zl(D)):ye=null}break t}}Ae=0,St=null,ri(e,t,f,5);break;case 6:Ae=0,St=null,ri(e,t,f,6);break;case 8:tc(),$e=6;break e;default:throw Error(l(462))}}_g();break}catch($){dh(e,$)}while(!0);return ra=dn=null,H.H=n,H.A=o,Te=a,ye!==null?0:(Ue=null,Se=0,nl(),$e)}function _g(){for(;ye!==null&&!Tn();)mh(ye)}function mh(e){var t=$f(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?zl(e):ye=t}function vh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Uf(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Uf(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:yo(t);default:Pf(a,t),t=ye=vd(t,va),t=$f(a,t,va)}e.memoizedProps=e.pendingProps,t===null?zl(e):ye=t}function ri(e,t,a,n){ra=dn=null,yo(t),Fn=null,ls=0;var o=t.return;try{if(og(e,o,t,a,Se)){$e=1,Tl(e,Ot(a,e.current)),ye=null;return}}catch(f){if(o!==null)throw ye=o,f;$e=1,Tl(e,Ot(a,e.current)),ye=null;return}t.flags&32768?(Ne||n===1?e=!0:ai||(Se&536870912)!==0?e=!1:(qa=e=!0,(n===2||n===9||n===3||n===6)&&(n=Dt.current,n!==null&&n.tag===13&&(n.flags|=16384))),ph(t,e)):zl(t)}function zl(e){var t=e;do{if((t.flags&32768)!==0){ph(t,qa);return}e=t.return;var a=ug(t.alternate,t,va);if(a!==null){ye=a;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);$e===0&&($e=5)}function ph(e,t){do{var a=dg(e.alternate,e);if(a!==null){a.flags&=32767,ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=a}while(e!==null);$e=6,ye=null}function gh(e,t,a,n,o,f,y,_,j){e.cancelPendingCommit=null;do Ll();while(it!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=Kr,Jv(e,a,f,y,_,j),e===Ue&&(ye=Ue=null,Se=0),ii=t,Ga=e,si=a,Fo=f,Wo=o,rh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sg(Ea,function(){return wh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=H.T,H.T=null,o=Z.p,Z.p=2,y=Te,Te|=4;try{fg(e,t,a)}finally{Te=y,Z.p=o,H.T=n}}it=1,yh(),_h(),bh()}}function yh(){if(it===1){it=0;var e=Ga,t=ii,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var n=Z.p;Z.p=2;var o=Te;Te|=4;try{eh(t,e);var f=vc,y=sd(e.containerInfo),_=f.focusedElem,j=f.selectionRange;if(y!==_&&_&&_.ownerDocument&&id(_.ownerDocument.documentElement,_)){if(j!==null&&$r(_)){var D=j.start,$=j.end;if($===void 0&&($=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min($,_.value.length);else{var V=_.ownerDocument||document,z=V&&V.defaultView||window;if(z.getSelection){var B=z.getSelection(),de=_.textContent.length,oe=Math.min(j.start,de),Re=j.end===void 0?oe:Math.min(j.end,de);!B.extend&&oe>Re&&(y=Re,Re=oe,oe=y);var R=nd(_,oe),A=nd(_,Re);if(R&&A&&(B.rangeCount!==1||B.anchorNode!==R.node||B.anchorOffset!==R.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var M=V.createRange();M.setStart(R.node,R.offset),B.removeAllRanges(),oe>Re?(B.addRange(M),B.extend(A.node,A.offset)):(M.setEnd(A.node,A.offset),B.addRange(M))}}}}for(V=[],B=_;B=B.parentNode;)B.nodeType===1&&V.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<V.length;_++){var G=V[_];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Zl=!!mc,vc=mc=null}finally{Te=o,Z.p=n,H.T=a}}e.current=t,it=2}}function _h(){if(it===2){it=0;var e=Ga,t=ii,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var n=Z.p;Z.p=2;var o=Te;Te|=4;try{If(e,t.alternate,t)}finally{Te=o,Z.p=n,H.T=a}}it=3}}function bh(){if(it===4||it===3){it=0,I();var e=Ga,t=ii,a=si,n=rh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,ii=Ga=null,xh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&($a=null),br(a),t=t.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Ri,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=H.T,o=Z.p,Z.p=2,H.T=null;try{for(var f=e.onRecoverableError,y=0;y<n.length;y++){var _=n[y];f(_.value,{componentStack:_.stack})}}finally{H.T=t,Z.p=o}}(si&3)!==0&&Ll(),Jt(e),o=e.pendingLanes,(a&4194090)!==0&&(o&42)!==0?e===ec?vs++:(vs=0,ec=e):vs=0,ps(0)}}function xh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zi(t)))}function Ll(e){return yh(),_h(),bh(),wh()}function wh(){if(it!==5)return!1;var e=Ga,t=Fo;Fo=0;var a=br(si),n=H.T,o=Z.p;try{Z.p=32>a?32:a,H.T=null,a=Wo,Wo=null;var f=Ga,y=si;if(it=0,ii=Ga=null,si=0,(Te&6)!==0)throw Error(l(331));var _=Te;if(Te|=4,sh(f.current),ah(f,f.current,y,a),Te=_,ps(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Ri,f)}catch{}return!0}finally{Z.p=o,H.T=n,xh(e,t)}}function Sh(e,t,a){t=Ot(a,t),t=ko(e.stateNode,t,2),e=ka(e,t,2),e!==null&&(Mi(e,2),Jt(e))}function Me(e,t,a){if(e.tag===3)Sh(e,e,a);else for(;t!==null;){if(t.tag===3){Sh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($a===null||!$a.has(n))){e=Ot(a,e),a=Tf(2),n=ka(t,a,2),n!==null&&(Af(a,n,t,e),Mi(n,2),Jt(n));break}}t=t.return}}function ic(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new vg;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(a)||(Xo=!0,o.add(a),e=bg.bind(null,e,t,a),t.then(e,e))}function bg(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(Se&a)===a&&($e===4||$e===3&&(Se&62914560)===Se&&300>ie()-Jo?(Te&2)===0&&li(e,0):Zo|=a,ni===Se&&(ni=0)),Jt(e)}function jh(e,t){t===0&&(t=_u()),e=Gn(e,t),e!==null&&(Mi(e,t),Jt(e))}function xg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),jh(e,a)}function wg(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),jh(e,a)}function Sg(e,t){return Ci(e,t)}var Bl=null,oi=null,sc=!1,ql=!1,lc=!1,yn=0;function Jt(e){e!==oi&&e.next===null&&(oi===null?Bl=oi=e:oi=oi.next=e),ql=!0,sc||(sc=!0,Eg())}function ps(e,t){if(!lc&&ql){lc=!0;do for(var a=!1,n=Bl;n!==null;){if(e!==0){var o=n.pendingLanes;if(o===0)var f=0;else{var y=n.suspendedLanes,_=n.pingedLanes;f=(1<<31-yt(42|e)+1)-1,f&=o&~(y&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ah(n,f))}else f=Se,f=Ys(n,n===Ue?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(f&3)===0||ki(n,f)||(a=!0,Ah(n,f));n=n.next}while(a);lc=!1}}function jg(){Eh()}function Eh(){ql=sc=!1;var e=0;yn!==0&&(Mg()&&(e=yn),yn=0);for(var t=ie(),a=null,n=Bl;n!==null;){var o=n.next,f=Nh(n,t);f===0?(n.next=null,a===null?Bl=o:a.next=o,o===null&&(oi=a)):(a=n,(e!==0||(f&3)!==0)&&(ql=!0)),n=o}ps(e)}function Nh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-yt(f),_=1<<y,j=o[y];j===-1?((_&a)===0||(_&n)!==0)&&(o[y]=Iv(_,t)):j<=t&&(e.expiredLanes|=_),f&=~_}if(t=Ue,a=Se,a=Ys(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Oi(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ki(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Oi(n),br(a)){case 2:case 8:a=ja;break;case 32:a=Ea;break;case 268435456:a=Gs;break;default:a=Ea}return n=Th.bind(null,e),a=Ci(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Oi(n),e.callbackPriority=2,e.callbackNode=null,2}function Th(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ll()&&e.callbackNode!==a)return null;var n=Se;return n=Ys(e,e===Ue?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(ch(e,n,t),Nh(e,ie()),e.callbackNode!=null&&e.callbackNode===a?Th.bind(null,e):null)}function Ah(e,t){if(Ll())return null;ch(e,t,!0)}function Eg(){Ug(function(){(Te&6)!==0?Ci(ke,jg):Eh()})}function rc(){return yn===0&&(yn=yu()),yn}function Ch(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Is(""+e)}function Oh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Ng(e,t,a,n,o){if(t==="submit"&&a&&a.stateNode===o){var f=Ch((o[ft]||null).action),y=n.submitter;y&&(t=(t=y[ft]||null)?Ch(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var _=new el("action","action",null,n,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(yn!==0){var j=y?Oh(o,y):new FormData(o);To(a,{pending:!0,data:j,method:o.method,action:f},null,j)}}else typeof f=="function"&&(_.preventDefault(),j=y?Oh(o,y):new FormData(o),To(a,{pending:!0,data:j,method:o.method,action:f},f,j))},currentTarget:o}]})}}for(var oc=0;oc<Yr.length;oc++){var cc=Yr[oc],Tg=cc.toLowerCase(),Ag=cc[0].toUpperCase()+cc.slice(1);Lt(Tg,"on"+Ag)}Lt(od,"onAnimationEnd"),Lt(cd,"onAnimationIteration"),Lt(ud,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(Yp,"onTransitionRun"),Lt(Kp,"onTransitionStart"),Lt(Qp,"onTransitionCancel"),Lt(dd,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gs));function Rh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],o=n.event;n=n.listeners;e:{var f=void 0;if(t)for(var y=n.length-1;0<=y;y--){var _=n[y],j=_.instance,D=_.currentTarget;if(_=_.listener,j!==f&&o.isPropagationStopped())break e;f=_,o.currentTarget=D;try{f(o)}catch($){Nl($)}o.currentTarget=null,f=j}else for(y=0;y<n.length;y++){if(_=n[y],j=_.instance,D=_.currentTarget,_=_.listener,j!==f&&o.isPropagationStopped())break e;f=_,o.currentTarget=D;try{f(o)}catch($){Nl($)}o.currentTarget=null,f=j}}}}function _e(e,t){var a=t[xr];a===void 0&&(a=t[xr]=new Set);var n=e+"__bubble";a.has(n)||(kh(t,e,2,!1),a.add(n))}function uc(e,t,a){var n=0;t&&(n|=4),kh(a,e,n,t)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function dc(e){if(!e[Hl]){e[Hl]=!0,ju.forEach(function(a){a!=="selectionchange"&&(Cg.has(a)||uc(a,!1,e),uc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hl]||(t[Hl]=!0,uc("selectionchange",!1,t))}}function kh(e,t,a,n){switch(am(t)){case 2:var o=ay;break;case 8:o=ny;break;default:o=Ec}a=o.bind(null,t,a,e),o=void 0,!kr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function fc(e,t,a,n,o){var f=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var y=n.tag;if(y===3||y===4){var _=n.stateNode.containerInfo;if(_===o)break;if(y===4)for(y=n.return;y!==null;){var j=y.tag;if((j===3||j===4)&&y.stateNode.containerInfo===o)return;y=y.return}for(;_!==null;){if(y=Cn(_),y===null)return;if(j=y.tag,j===5||j===6||j===26||j===27){n=f=y;continue e}_=_.parentNode}}n=n.return}Bu(function(){var D=f,$=Or(a),V=[];e:{var z=fd.get(e);if(z!==void 0){var B=el,de=e;switch(e){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":B=Sp;break;case"focusin":de="focus",B=zr;break;case"focusout":de="blur",B=zr;break;case"beforeblur":case"afterblur":B=zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Np;break;case od:case cd:case ud:B=mp;break;case dd:B=Ap;break;case"scroll":case"scrollend":B=cp;break;case"wheel":B=Op;break;case"copy":case"cut":case"paste":B=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Pu;break;case"toggle":case"beforetoggle":B=kp}var oe=(t&4)!==0,Re=!oe&&(e==="scroll"||e==="scrollend"),R=oe?z!==null?z+"Capture":null:z;oe=[];for(var A=D,M;A!==null;){var G=A;if(M=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||M===null||R===null||(G=zi(A,R),G!=null&&oe.push(ys(A,G,M))),Re)break;A=A.return}0<oe.length&&(z=new B(z,de,null,a,$),V.push({event:z,listeners:oe}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Cr&&(de=a.relatedTarget||a.fromElement)&&(Cn(de)||de[An]))break e;if((B||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,B?(de=a.relatedTarget||a.toElement,B=D,de=de?Cn(de):null,de!==null&&(Re=d(de),oe=de.tag,de!==Re||oe!==5&&oe!==27&&oe!==6)&&(de=null)):(B=null,de=D),B!==de)){if(oe=$u,G="onMouseLeave",R="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Pu,G="onPointerLeave",R="onPointerEnter",A="pointer"),Re=B==null?z:Ui(B),M=de==null?z:Ui(de),z=new oe(G,A+"leave",B,a,$),z.target=Re,z.relatedTarget=M,G=null,Cn($)===D&&(oe=new oe(R,A+"enter",de,a,$),oe.target=M,oe.relatedTarget=Re,G=oe),Re=G,B&&de)t:{for(oe=B,R=de,A=0,M=oe;M;M=ci(M))A++;for(M=0,G=R;G;G=ci(G))M++;for(;0<A-M;)oe=ci(oe),A--;for(;0<M-A;)R=ci(R),M--;for(;A--;){if(oe===R||R!==null&&oe===R.alternate)break t;oe=ci(oe),R=ci(R)}oe=null}else oe=null;B!==null&&Mh(V,z,B,oe,!1),de!==null&&Re!==null&&Mh(V,Re,de,oe,!0)}}e:{if(z=D?Ui(D):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var W=Ju;else if(Zu(z))if(Fu)W=Gp;else{W=Hp;var ge=qp}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?D&&Ar(D.elementType)&&(W=Ju):W=$p;if(W&&(W=W(e,D))){Iu(V,W,a,$);break e}ge&&ge(e,z,D),e==="focusout"&&D&&z.type==="number"&&D.memoizedProps.value!=null&&Tr(z,"number",z.value)}switch(ge=D?Ui(D):window,e){case"focusin":(Zu(ge)||ge.contentEditable==="true")&&(qn=ge,Gr=D,Vi=null);break;case"focusout":Vi=Gr=qn=null;break;case"mousedown":Pr=!0;break;case"contextmenu":case"mouseup":case"dragend":Pr=!1,ld(V,a,$);break;case"selectionchange":if(Vp)break;case"keydown":case"keyup":ld(V,a,$)}var ne;if(Br)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Bn?Qu(e,a)&&(ce="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ce="onCompositionStart");ce&&(Vu&&a.locale!=="ko"&&(Bn||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Bn&&(ne=qu()):(Aa=$,Mr="value"in Aa?Aa.value:Aa.textContent,Bn=!0)),ge=$l(D,ce),0<ge.length&&(ce=new Gu(ce,e,null,a,$),V.push({event:ce,listeners:ge}),ne?ce.data=ne:(ne=Xu(a),ne!==null&&(ce.data=ne)))),(ne=Dp?Up(e,a):zp(e,a))&&(ce=$l(D,"onBeforeInput"),0<ce.length&&(ge=new Gu("onBeforeInput","beforeinput",null,a,$),V.push({event:ge,listeners:ce}),ge.data=ne)),Ng(V,e,D,a,$)}Rh(V,t)})}function ys(e,t,a){return{instance:e,listener:t,currentTarget:a}}function $l(e,t){for(var a=t+"Capture",n=[];e!==null;){var o=e,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=zi(e,a),o!=null&&n.unshift(ys(e,o,f)),o=zi(e,t),o!=null&&n.push(ys(e,o,f))),e.tag===3)return n;e=e.return}return[]}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mh(e,t,a,n,o){for(var f=t._reactName,y=[];a!==null&&a!==n;){var _=a,j=_.alternate,D=_.stateNode;if(_=_.tag,j!==null&&j===n)break;_!==5&&_!==26&&_!==27||D===null||(j=D,o?(D=zi(a,f),D!=null&&y.unshift(ys(a,D,j))):o||(D=zi(a,f),D!=null&&y.push(ys(a,D,j)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var Og=/\r\n?/g,Rg=/\u0000|\uFFFD/g;function Dh(e){return(typeof e=="string"?e:""+e).replace(Og,`
`).replace(Rg,"")}function Uh(e,t){return t=Dh(t),Dh(e)===t}function Gl(){}function Oe(e,t,a,n,o,f){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Un(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Un(e,""+n);break;case"className":Qs(e,"class",n);break;case"tabIndex":Qs(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Qs(e,a,n);break;case"style":zu(e,n,f);break;case"data":if(t!=="object"){Qs(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Is(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Oe(e,t,"name",o.name,o,null),Oe(e,t,"formEncType",o.formEncType,o,null),Oe(e,t,"formMethod",o.formMethod,o,null),Oe(e,t,"formTarget",o.formTarget,o,null)):(Oe(e,t,"encType",o.encType,o,null),Oe(e,t,"method",o.method,o,null),Oe(e,t,"target",o.target,o,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Is(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Gl);break;case"onScroll":n!=null&&_e("scroll",e);break;case"onScrollEnd":n!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Is(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Ks(e,"popover",n);break;case"xlinkActuate":aa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":aa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":aa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":aa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":aa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":aa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":aa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":aa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":aa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ks(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rp.get(a)||a,Ks(e,a,n))}}function hc(e,t,a,n,o,f){switch(a){case"style":zu(e,n,f);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Un(e,n):(typeof n=="number"||typeof n=="bigint")&&Un(e,""+n);break;case"onScroll":n!=null&&_e("scroll",e);break;case"onScrollEnd":n!=null&&_e("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Gl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),f=e[ft]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,o),typeof n=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,o);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ks(e,a,n)}}}function st(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var n=!1,o=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Oe(e,t,f,y,a,null)}}o&&Oe(e,t,"srcSet",a.srcSet,a,null),n&&Oe(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var _=f=y=o=null,j=null,D=null;for(n in a)if(a.hasOwnProperty(n)){var $=a[n];if($!=null)switch(n){case"name":o=$;break;case"type":y=$;break;case"checked":j=$;break;case"defaultChecked":D=$;break;case"value":f=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Oe(e,t,n,$,a,null)}}ku(e,f,_,j,D,y,o,!1),Xs(e);return;case"select":_e("invalid",e),n=y=f=null;for(o in a)if(a.hasOwnProperty(o)&&(_=a[o],_!=null))switch(o){case"value":f=_;break;case"defaultValue":y=_;break;case"multiple":n=_;default:Oe(e,t,o,_,a,null)}t=f,a=y,e.multiple=!!n,t!=null?Dn(e,!!n,t,!1):a!=null&&Dn(e,!!n,a,!0);return;case"textarea":_e("invalid",e),f=o=n=null;for(y in a)if(a.hasOwnProperty(y)&&(_=a[y],_!=null))switch(y){case"value":n=_;break;case"defaultValue":o=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Oe(e,t,y,_,a,null)}Du(e,n,o,f),Xs(e);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(n=a[j],n!=null))switch(j){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Oe(e,t,j,n,a,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(n=0;n<gs.length;n++)_e(gs[n],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(n=a[D],n!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Oe(e,t,D,n,a,null)}return;default:if(Ar(t)){for($ in a)a.hasOwnProperty($)&&(n=a[$],n!==void 0&&hc(e,t,$,n,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(n=a[_],n!=null&&Oe(e,t,_,n,a,null))}function kg(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,y=null,_=null,j=null,D=null,$=null;for(B in a){var V=a[B];if(a.hasOwnProperty(B)&&V!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":j=V;default:n.hasOwnProperty(B)||Oe(e,t,B,null,n,V)}}for(var z in n){var B=n[z];if(V=a[z],n.hasOwnProperty(z)&&(B!=null||V!=null))switch(z){case"type":f=B;break;case"name":o=B;break;case"checked":D=B;break;case"defaultChecked":$=B;break;case"value":y=B;break;case"defaultValue":_=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==V&&Oe(e,t,z,B,n,V)}}Nr(e,y,_,j,D,$,f,o);return;case"select":B=y=_=z=null;for(f in a)if(j=a[f],a.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":B=j;default:n.hasOwnProperty(f)||Oe(e,t,f,null,n,j)}for(o in n)if(f=n[o],j=a[o],n.hasOwnProperty(o)&&(f!=null||j!=null))switch(o){case"value":z=f;break;case"defaultValue":_=f;break;case"multiple":y=f;default:f!==j&&Oe(e,t,o,f,n,j)}t=_,a=y,n=B,z!=null?Dn(e,!!a,z,!1):!!n!=!!a&&(t!=null?Dn(e,!!a,t,!0):Dn(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(_ in a)if(o=a[_],a.hasOwnProperty(_)&&o!=null&&!n.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(e,t,_,null,n,o)}for(y in n)if(o=n[y],f=a[y],n.hasOwnProperty(y)&&(o!=null||f!=null))switch(y){case"value":z=o;break;case"defaultValue":B=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==f&&Oe(e,t,y,o,n,f)}Mu(e,z,B);return;case"option":for(var de in a)if(z=a[de],a.hasOwnProperty(de)&&z!=null&&!n.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Oe(e,t,de,null,n,z)}for(j in n)if(z=n[j],B=a[j],n.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Oe(e,t,j,z,n,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)z=a[oe],a.hasOwnProperty(oe)&&z!=null&&!n.hasOwnProperty(oe)&&Oe(e,t,oe,null,n,z);for(D in n)if(z=n[D],B=a[D],n.hasOwnProperty(D)&&z!==B&&(z!=null||B!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Oe(e,t,D,z,n,B)}return;default:if(Ar(t)){for(var Re in a)z=a[Re],a.hasOwnProperty(Re)&&z!==void 0&&!n.hasOwnProperty(Re)&&hc(e,t,Re,void 0,n,z);for($ in n)z=n[$],B=a[$],!n.hasOwnProperty($)||z===B||z===void 0&&B===void 0||hc(e,t,$,z,n,B);return}}for(var R in a)z=a[R],a.hasOwnProperty(R)&&z!=null&&!n.hasOwnProperty(R)&&Oe(e,t,R,null,n,z);for(V in n)z=n[V],B=a[V],!n.hasOwnProperty(V)||z===B||z==null&&B==null||Oe(e,t,V,z,n,B)}var mc=null,vc=null;function Pl(e){return e.nodeType===9?e:e.ownerDocument}function zh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gc=null;function Mg(){var e=window.event;return e&&e.type==="popstate"?e===gc?!1:(gc=e,!0):(gc=null,!1)}var Bh=typeof setTimeout=="function"?setTimeout:void 0,Dg=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,Ug=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(e){return qh.resolve(null).then(e).catch(zg)}:Bh;function zg(e){setTimeout(function(){throw e})}function Va(e){return e==="head"}function Hh(e,t){var a=t,n=0,o=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<n&&8>n){a=n;var y=e.ownerDocument;if(a&1&&_s(y.documentElement),a&2&&_s(y.body),a&4)for(a=y.head,_s(a),y=a.firstChild;y;){var _=y.nextSibling,j=y.nodeName;y[Di]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=_}}if(o===0){e.removeChild(f),Ts(t);return}o--}else a==="$"||a==="$?"||a==="$!"?o++:n=a.charCodeAt(0)-48;else n=0;a=f}while(a);Ts(t)}function yc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yc(a),wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lg(e,t,a,n){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Di])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function Bg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qt(e.nextSibling),e===null))return null;return e}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function qg(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var bc=null;function $h(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Gh(e,t,a){switch(t=Pl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function _s(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);wr(e)}var zt=new Map,Ph=new Set;function Vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=Z.d;Z.d={f:Hg,r:$g,D:Gg,C:Pg,L:Vg,m:Yg,X:Qg,S:Kg,M:Xg};function Hg(){var e=pa.f(),t=Ul();return e||t}function $g(e){var t=On(e);t!==null&&t.tag===5&&t.type==="form"?cf(t):pa.r(e)}var ui=typeof document>"u"?null:document;function Vh(e,t,a){var n=ui;if(n&&typeof t=="string"&&t){var o=Ct(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Ph.has(o)||(Ph.add(o),e={rel:e,crossOrigin:a,href:t},n.querySelector(o)===null&&(t=n.createElement("link"),st(t,"link",e),Fe(t),n.head.appendChild(t)))}}function Gg(e){pa.D(e),Vh("dns-prefetch",e,null)}function Pg(e,t){pa.C(e,t),Vh("preconnect",e,t)}function Vg(e,t,a){pa.L(e,t,a);var n=ui;if(n&&e&&t){var o='link[rel="preload"][as="'+Ct(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ct(a.imageSizes)+'"]')):o+='[href="'+Ct(e)+'"]';var f=o;switch(t){case"style":f=di(e);break;case"script":f=fi(e)}zt.has(f)||(e=g({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),zt.set(f,e),n.querySelector(o)!==null||t==="style"&&n.querySelector(bs(f))||t==="script"&&n.querySelector(xs(f))||(t=n.createElement("link"),st(t,"link",e),Fe(t),n.head.appendChild(t)))}}function Yg(e,t){pa.m(e,t);var a=ui;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ct(n)+'"][href="'+Ct(e)+'"]',f=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fi(e)}if(!zt.has(f)&&(e=g({rel:"modulepreload",href:e},t),zt.set(f,e),a.querySelector(o)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xs(f)))return}n=a.createElement("link"),st(n,"link",e),Fe(n),a.head.appendChild(n)}}}function Kg(e,t,a){pa.S(e,t,a);var n=ui;if(n&&e){var o=Rn(n).hoistableStyles,f=di(e);t=t||"default";var y=o.get(f);if(!y){var _={loading:0,preload:null};if(y=n.querySelector(bs(f)))_.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},a),(a=zt.get(f))&&xc(e,a);var j=y=n.createElement("link");Fe(j),st(j,"link",e),j._p=new Promise(function(D,$){j.onload=D,j.onerror=$}),j.addEventListener("load",function(){_.loading|=1}),j.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Yl(y,t,n)}y={type:"stylesheet",instance:y,count:1,state:_},o.set(f,y)}}}function Qg(e,t){pa.X(e,t);var a=ui;if(a&&e){var n=Rn(a).hoistableScripts,o=fi(e),f=n.get(o);f||(f=a.querySelector(xs(o)),f||(e=g({src:e,async:!0},t),(t=zt.get(o))&&wc(e,t),f=a.createElement("script"),Fe(f),st(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},n.set(o,f))}}function Xg(e,t){pa.M(e,t);var a=ui;if(a&&e){var n=Rn(a).hoistableScripts,o=fi(e),f=n.get(o);f||(f=a.querySelector(xs(o)),f||(e=g({src:e,async:!0,type:"module"},t),(t=zt.get(o))&&wc(e,t),f=a.createElement("script"),Fe(f),st(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},n.set(o,f))}}function Yh(e,t,a,n){var o=(o=ue.current)?Vl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=di(a.href),a=Rn(o).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=di(a.href);var f=Rn(o).hoistableStyles,y=f.get(e);if(y||(o=o.ownerDocument||o,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=o.querySelector(bs(e)))&&!f._p&&(y.instance=f,y.state.loading=5),zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zt.set(e,a),f||Zg(o,e,a,y.state))),t&&n===null)throw Error(l(528,""));return y}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fi(a),a=Rn(o).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function di(e){return'href="'+Ct(e)+'"'}function bs(e){return'link[rel="stylesheet"]['+e+"]"}function Kh(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Zg(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),st(t,"link",a),Fe(t),e.head.appendChild(t))}function fi(e){return'[src="'+Ct(e)+'"]'}function xs(e){return"script[async]"+e}function Qh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ct(a.href)+'"]');if(n)return t.instance=n,Fe(n),n;var o=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Fe(n),st(n,"style",o),Yl(n,a.precedence,e),t.instance=n;case"stylesheet":o=di(a.href);var f=e.querySelector(bs(o));if(f)return t.state.loading|=4,t.instance=f,Fe(f),f;n=Kh(a),(o=zt.get(o))&&xc(n,o),f=(e.ownerDocument||e).createElement("link"),Fe(f);var y=f;return y._p=new Promise(function(_,j){y.onload=_,y.onerror=j}),st(f,"link",n),t.state.loading|=4,Yl(f,a.precedence,e),t.instance=f;case"script":return f=fi(a.src),(o=e.querySelector(xs(f)))?(t.instance=o,Fe(o),o):(n=a,(o=zt.get(f))&&(n=g({},a),wc(n,o)),e=e.ownerDocument||e,o=e.createElement("script"),Fe(o),st(o,"link",n),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Yl(n,a.precedence,e));return t.instance}function Yl(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=n.length?n[n.length-1]:null,f=o,y=0;y<n.length;y++){var _=n[y];if(_.dataset.precedence===t)f=_;else if(f!==o)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function wc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kl=null;function Xh(e,t,a){if(Kl===null){var n=new Map,o=Kl=new Map;o.set(a,n)}else o=Kl,n=o.get(a),n||(n=new Map,o.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var f=a[o];if(!(f[Di]||f[lt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var _=n.get(y);_?_.push(f):n.set(y,[f])}}return n}function Zh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ig(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ih(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ws=null;function Jg(){}function Fg(e,t,a){if(ws===null)throw Error(l(475));var n=ws;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=di(a.href),f=e.querySelector(bs(o));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Ql.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=f,Fe(f);return}f=e.ownerDocument||e,a=Kh(a),(o=zt.get(o))&&xc(a,o),f=f.createElement("link"),Fe(f);var y=f;y._p=new Promise(function(_,j){y.onload=_,y.onerror=j}),st(f,"link",a),t.instance=f}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Ql.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Wg(){if(ws===null)throw Error(l(475));var e=ws;return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ql(){if(this.count--,this.count===0){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xl=null;function Sc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xl=new Map,t.forEach(ey,e),Xl=null,Ql.call(e))}function ey(e,t){if(!(t.state.loading&4)){var a=Xl.get(e);if(a)var n=a.get(null);else{a=new Map,Xl.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var y=o[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),n=y)}n&&a.set(null,n)}o=t.instance,y=o.getAttribute("data-precedence"),f=a.get(y)||n,f===n&&a.set(null,o),a.set(y,o),this.count++,n=Ql.bind(this),o.addEventListener("load",n),o.addEventListener("error",n),f?f.parentNode.insertBefore(o,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ss={$$typeof:C,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function ty(e,t,a,n,o,f,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=n,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Jh(e,t,a,n,o,f,y,_,j,D,$,V){return e=new ty(e,t,a,y,_,j,D,V),t=1,f===!0&&(t|=24),f=bt(3,null,null,t),e.current=f,f.stateNode=e,t=no(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:n,isDehydrated:a,cache:t},ro(f),e}function Fh(e){return e?(e=Pn,e):Pn}function Wh(e,t,a,n,o,f){o=Fh(o),n.context===null?n.context=o:n.pendingContext=o,n=Ra(t),n.payload={element:a},f=f===void 0?null:f,f!==null&&(n.callback=f),a=ka(e,n,t),a!==null&&(Et(a,e,t),Wi(a,e,t))}function em(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function jc(e,t){em(e,t),(e=e.alternate)&&em(e,t)}function tm(e){if(e.tag===13){var t=Gn(e,67108864);t!==null&&Et(t,e,67108864),jc(e,67108864)}}var Zl=!0;function ay(e,t,a,n){var o=H.T;H.T=null;var f=Z.p;try{Z.p=2,Ec(e,t,a,n)}finally{Z.p=f,H.T=o}}function ny(e,t,a,n){var o=H.T;H.T=null;var f=Z.p;try{Z.p=8,Ec(e,t,a,n)}finally{Z.p=f,H.T=o}}function Ec(e,t,a,n){if(Zl){var o=Nc(n);if(o===null)fc(e,t,n,Il,a),nm(e,n);else if(sy(o,e,t,a,n))n.stopPropagation();else if(nm(e,n),t&4&&-1<iy.indexOf(e)){for(;o!==null;){var f=On(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=en(f.pendingLanes);if(y!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var j=1<<31-yt(y);_.entanglements[1]|=j,y&=~j}Jt(f),(Te&6)===0&&(Ml=ie()+500,ps(0))}}break;case 13:_=Gn(f,2),_!==null&&Et(_,f,2),Ul(),jc(f,2)}if(f=Nc(n),f===null&&fc(e,t,n,Il,a),f===o)break;o=f}o!==null&&n.stopPropagation()}else fc(e,t,n,null,a)}}function Nc(e){return e=Or(e),Tc(e)}var Il=null;function Tc(e){if(Il=null,e=Cn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Il=e,null}function am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case ke:return 2;case ja:return 8;case Ea:case ta:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var Ac=!1,Ya=null,Ka=null,Qa=null,js=new Map,Es=new Map,Xa=[],iy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nm(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Ns(e,t,a,n,o,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:f,targetContainers:[o]},t!==null&&(t=On(t),t!==null&&tm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function sy(e,t,a,n,o){switch(t){case"focusin":return Ya=Ns(Ya,e,t,a,n,o),!0;case"dragenter":return Ka=Ns(Ka,e,t,a,n,o),!0;case"mouseover":return Qa=Ns(Qa,e,t,a,n,o),!0;case"pointerover":var f=o.pointerId;return js.set(f,Ns(js.get(f)||null,e,t,a,n,o)),!0;case"gotpointercapture":return f=o.pointerId,Es.set(f,Ns(Es.get(f)||null,e,t,a,n,o)),!0}return!1}function im(e){var t=Cn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Fv(e.priority,function(){if(a.tag===13){var n=jt();n=_r(n);var o=Gn(a,n);o!==null&&Et(o,a,n),jc(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Nc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Cr=n,a.target.dispatchEvent(n),Cr=null}else return t=On(a),t!==null&&tm(t),e.blockedOn=a,!1;t.shift()}return!0}function sm(e,t,a){Jl(e)&&a.delete(t)}function ly(){Ac=!1,Ya!==null&&Jl(Ya)&&(Ya=null),Ka!==null&&Jl(Ka)&&(Ka=null),Qa!==null&&Jl(Qa)&&(Qa=null),js.forEach(sm),Es.forEach(sm)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ac||(Ac=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ly)))}var Wl=null;function lm(e){Wl!==e&&(Wl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],o=e[t+2];if(typeof n!="function"){if(Tc(n||a)===null)continue;break}var f=On(a);f!==null&&(e.splice(t,3),t-=3,To(f,{pending:!0,data:o,method:a.method,action:n},n,o))}}))}function Ts(e){function t(j){return Fl(j,e)}Ya!==null&&Fl(Ya,e),Ka!==null&&Fl(Ka,e),Qa!==null&&Fl(Qa,e),js.forEach(t),Es.forEach(t);for(var a=0;a<Xa.length;a++){var n=Xa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Xa.length&&(a=Xa[0],a.blockedOn===null);)im(a),a.blockedOn===null&&Xa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var o=a[n],f=a[n+1],y=o[ft]||null;if(typeof f=="function")y||lm(a);else if(y){var _=null;if(f&&f.hasAttribute("formAction")){if(o=f,y=f[ft]||null)_=y.formAction;else if(Tc(o)!==null)continue}else _=y.action;typeof _=="function"?a[n+1]=_:(a.splice(n,3),n-=3),lm(a)}}}function Cc(e){this._internalRoot=e}er.prototype.render=Cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,n=jt();Wh(a,n,e,t,null,null)},er.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wh(e.current,2,null,e,null,null),Ul(),t[An]=null}};function er(e){this._internalRoot=e}er.prototype.unstable_scheduleHydration=function(e){if(e){var t=wu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Xa.length&&t!==0&&t<Xa[a].priority;a++);Xa.splice(a,0,e),a===0&&im(e)}};var rm=i.version;if(rm!=="19.1.1")throw Error(l(527,rm,"19.1.1"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var ry={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tr.isDisabled&&tr.supportsFiber)try{Ri=tr.inject(ry),gt=tr}catch{}}return Cs.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,n="",o=Sf,f=jf,y=Ef,_=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(_=t.unstable_transitionCallbacks)),t=Jh(e,1,!1,null,null,a,n,o,f,y,_,null),e[An]=t.current,dc(e),new Cc(t)},Cs.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var n=!1,o="",f=Sf,y=jf,_=Ef,j=null,D=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(D=a.formState)),t=Jh(e,1,!0,t,a??null,n,o,f,y,_,j,D),t.context=Fh(null),a=t.current,n=jt(),n=_r(n),o=Ra(n),o.callback=null,ka(a,o,n),a=n,t.current.lanes=a,Mi(t,a),Jt(t),e[An]=t.current,dc(e),new er(t)},Cs.version="19.1.1",Cs}var gm;function _y(){if(gm)return Rc.exports;gm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Rc.exports=yy(),Rc.exports}var by=_y(),w=lu();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ym="popstate";function xy(r={}){function i(l,u){let{pathname:d,search:h,hash:v}=l.location;return Kc("",{pathname:d,search:h,hash:v},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(l,u){return typeof u=="string"?u:Us(u)}return Sy(i,s,null,r)}function qe(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function Vt(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function wy(){return Math.random().toString(36).substring(2,10)}function _m(r,i){return{usr:r.state,key:r.key,idx:i}}function Kc(r,i,s=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?Ni(i):i,state:s,key:i&&i.key||l||wy()}}function Us({pathname:r="/",search:i="",hash:s=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ni(r){let i={};if(r){let s=r.indexOf("#");s>=0&&(i.hash=r.substring(s),r=r.substring(0,s));let l=r.indexOf("?");l>=0&&(i.search=r.substring(l),r=r.substring(0,l)),r&&(i.pathname=r)}return i}function Sy(r,i,s,l={}){let{window:u=document.defaultView,v5Compat:d=!1}=l,h=u.history,v="POP",m=null,p=g();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function g(){return(h.state||{idx:null}).idx}function b(){v="POP";let N=g(),k=N==null?null:N-p;p=N,m&&m({action:v,location:O.location,delta:k})}function x(N,k){v="PUSH";let L=Kc(O.location,N,k);p=g()+1;let C=_m(L,p),Y=O.createHref(L);try{h.pushState(C,"",Y)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;u.location.assign(Y)}d&&m&&m({action:v,location:O.location,delta:1})}function S(N,k){v="REPLACE";let L=Kc(O.location,N,k);p=g();let C=_m(L,p),Y=O.createHref(L);h.replaceState(C,"",Y),d&&m&&m({action:v,location:O.location,delta:0})}function E(N){return jy(N)}let O={get action(){return v},get location(){return r(u,h)},listen(N){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(ym,b),m=N,()=>{u.removeEventListener(ym,b),m=null}},createHref(N){return i(u,N)},createURL:E,encodeLocation(N){let k=E(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:S,go(N){return h.go(N)}};return O}function jy(r,i=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),qe(s,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Us(r);return l=l.replace(/ $/,"%20"),!i&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function ev(r,i,s="/"){return Ey(r,i,s,!1)}function Ey(r,i,s,l){let u=typeof i=="string"?Ni(i):i,d=xa(u.pathname||"/",s);if(d==null)return null;let h=tv(r);Ny(h);let v=null;for(let m=0;v==null&&m<h.length;++m){let p=Ly(d);v=Uy(h[m],p,l)}return v}function tv(r,i=[],s=[],l="",u=!1){let d=(h,v,m=u,p)=>{let g={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:v,route:h};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(l)&&m)return;qe(g.relativePath.startsWith(l),`Absolute route path "${g.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(l.length)}let b=ba([l,g.relativePath]),x=s.concat(g);h.children&&h.children.length>0&&(qe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),tv(h.children,i,x,b,m)),!(h.path==null&&!h.index)&&i.push({path:b,score:My(b,h.index),routesMeta:x})};return r.forEach((h,v)=>{if(h.path===""||!h.path?.includes("?"))d(h,v);else for(let m of av(h.path))d(h,v,!0,m)}),i}function av(r){let i=r.split("/");if(i.length===0)return[];let[s,...l]=i,u=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return u?[d,""]:[d];let h=av(l.join("/")),v=[];return v.push(...h.map(m=>m===""?d:[d,m].join("/"))),u&&v.push(...h),v.map(m=>r.startsWith("/")&&m===""?"/":m)}function Ny(r){r.sort((i,s)=>i.score!==s.score?s.score-i.score:Dy(i.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var Ty=/^:[\w-]+$/,Ay=3,Cy=2,Oy=1,Ry=10,ky=-2,bm=r=>r==="*";function My(r,i){let s=r.split("/"),l=s.length;return s.some(bm)&&(l+=ky),i&&(l+=Cy),s.filter(u=>!bm(u)).reduce((u,d)=>u+(Ty.test(d)?Ay:d===""?Oy:Ry),l)}function Dy(r,i){return r.length===i.length&&r.slice(0,-1).every((l,u)=>l===i[u])?r[r.length-1]-i[i.length-1]:0}function Uy(r,i,s=!1){let{routesMeta:l}=r,u={},d="/",h=[];for(let v=0;v<l.length;++v){let m=l[v],p=v===l.length-1,g=d==="/"?i:i.slice(d.length)||"/",b=ur({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),x=m.route;if(!b&&p&&s&&!l[l.length-1].route.index&&(b=ur({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!b)return null;Object.assign(u,b.params),h.push({params:u,pathname:ba([d,b.pathname]),pathnameBase:$y(ba([d,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(d=ba([d,b.pathnameBase]))}return h}function ur(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,l]=zy(r.path,r.caseSensitive,r.end),u=i.match(s);if(!u)return null;let d=u[0],h=d.replace(/(.)\/+$/,"$1"),v=u.slice(1);return{params:l.reduce((p,{paramName:g,isOptional:b},x)=>{if(g==="*"){let E=v[x]||"";h=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const S=v[x];return b&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:h,pattern:r}}function zy(r,i=!1,s=!0){Vt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,v,m)=>(l.push({paramName:v,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),l]}function Ly(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Vt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function xa(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,l=r.charAt(s);return l&&l!=="/"?null:r.slice(s)||"/"}function By(r,i="/"){let{pathname:s,search:l="",hash:u=""}=typeof r=="string"?Ni(r):r;return{pathname:s?s.startsWith("/")?s:qy(s,i):i,search:Gy(l),hash:Py(u)}}function qy(r,i){let s=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function zc(r,i,s,l){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hy(r){return r.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function nv(r){let i=Hy(r);return i.map((s,l)=>l===i.length-1?s.pathname:s.pathnameBase)}function iv(r,i,s,l=!1){let u;typeof r=="string"?u=Ni(r):(u={...r},qe(!u.pathname||!u.pathname.includes("?"),zc("?","pathname","search",u)),qe(!u.pathname||!u.pathname.includes("#"),zc("#","pathname","hash",u)),qe(!u.search||!u.search.includes("#"),zc("#","search","hash",u)));let d=r===""||u.pathname==="",h=d?"/":u.pathname,v;if(h==null)v=s;else{let b=i.length-1;if(!l&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),b-=1;u.pathname=x.join("/")}v=b>=0?i[b]:"/"}let m=By(u,v),p=h&&h!=="/"&&h.endsWith("/"),g=(d||h===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var ba=r=>r.join("/").replace(/\/\/+/g,"/"),$y=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Gy=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Py=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Vy(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var sv=["POST","PUT","PATCH","DELETE"];new Set(sv);var Yy=["GET",...sv];new Set(Yy);var Ti=w.createContext(null);Ti.displayName="DataRouter";var hr=w.createContext(null);hr.displayName="DataRouterState";w.createContext(!1);var lv=w.createContext({isTransitioning:!1});lv.displayName="ViewTransition";var Ky=w.createContext(new Map);Ky.displayName="Fetchers";var Qy=w.createContext(null);Qy.displayName="Await";var Wt=w.createContext(null);Wt.displayName="Navigation";var Ls=w.createContext(null);Ls.displayName="Location";var ea=w.createContext({outlet:null,matches:[],isDataRoute:!1});ea.displayName="Route";var ru=w.createContext(null);ru.displayName="RouteError";function Xy(r,{relative:i}={}){qe(Bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=w.useContext(Wt),{hash:u,pathname:d,search:h}=qs(r,{relative:i}),v=d;return s!=="/"&&(v=d==="/"?s:ba([s,d])),l.createHref({pathname:v,search:h,hash:u})}function Bs(){return w.useContext(Ls)!=null}function wa(){return qe(Bs(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ls).location}var rv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ov(r){w.useContext(Wt).static||w.useLayoutEffect(r)}function Tt(){let{isDataRoute:r}=w.useContext(ea);return r?r0():Zy()}function Zy(){qe(Bs(),"useNavigate() may be used only in the context of a <Router> component.");let r=w.useContext(Ti),{basename:i,navigator:s}=w.useContext(Wt),{matches:l}=w.useContext(ea),{pathname:u}=wa(),d=JSON.stringify(nv(l)),h=w.useRef(!1);return ov(()=>{h.current=!0}),w.useCallback((m,p={})=>{if(Vt(h.current,rv),!h.current)return;if(typeof m=="number"){s.go(m);return}let g=iv(m,JSON.parse(d),u,p.relative==="path");r==null&&i!=="/"&&(g.pathname=g.pathname==="/"?i:ba([i,g.pathname])),(p.replace?s.replace:s.push)(g,p.state,p)},[i,s,d,u,r])}w.createContext(null);function cv(){let{matches:r}=w.useContext(ea),i=r[r.length-1];return i?i.params:{}}function qs(r,{relative:i}={}){let{matches:s}=w.useContext(ea),{pathname:l}=wa(),u=JSON.stringify(nv(s));return w.useMemo(()=>iv(r,JSON.parse(u),l,i==="path"),[r,u,l,i])}function Iy(r,i){return uv(r,i)}function uv(r,i,s,l,u){qe(Bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=w.useContext(Wt),{matches:h}=w.useContext(ea),v=h[h.length-1],m=v?v.params:{},p=v?v.pathname:"/",g=v?v.pathnameBase:"/",b=v&&v.route;{let L=b&&b.path||"";dv(p,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let x=wa(),S;if(i){let L=typeof i=="string"?Ni(i):i;qe(g==="/"||L.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=x;let E=S.pathname||"/",O=E;if(g!=="/"){let L=g.replace(/^\//,"").split("/");O="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let N=ev(r,{pathname:O});Vt(b||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Vt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=t0(N&&N.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:ba([g,d.encodeLocation?d.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:ba([g,d.encodeLocation?d.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),h,s,l,u);return i&&k?w.createElement(Ls.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function Jy(){let r=l0(),i=Vy(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:d},"ErrorBoundary")," or"," ",w.createElement("code",{style:d},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},i),s?w.createElement("pre",{style:u},s):null,h)}var Fy=w.createElement(Jy,null),Wy=class extends w.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){this.props.unstable_onError?this.props.unstable_onError(r,i):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?w.createElement(ea.Provider,{value:this.props.routeContext},w.createElement(ru.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e0({routeContext:r,match:i,children:s}){let l=w.useContext(Ti);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),w.createElement(ea.Provider,{value:r},s)}function t0(r,i=[],s=null,l=null,u=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let d=r,h=s?.errors;if(h!=null){let p=d.findIndex(g=>g.route.id&&h?.[g.route.id]!==void 0);qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let v=!1,m=-1;if(s)for(let p=0;p<d.length;p++){let g=d[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:b,errors:x}=s,S=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||S){v=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}return d.reduceRight((p,g,b)=>{let x,S=!1,E=null,O=null;s&&(x=h&&g.route.id?h[g.route.id]:void 0,E=g.route.errorElement||Fy,v&&(m<0&&b===0?(dv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===b&&(S=!0,O=g.route.hydrateFallbackElement||null)));let N=i.concat(d.slice(0,b+1)),k=()=>{let L;return x?L=E:S?L=O:g.route.Component?L=w.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,w.createElement(e0,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:s!=null},children:L})};return s&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?w.createElement(Wy,{location:s.location,revalidation:s.revalidation,component:E,error:x,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:l}):k()},null)}function ou(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a0(r){let i=w.useContext(Ti);return qe(i,ou(r)),i}function n0(r){let i=w.useContext(hr);return qe(i,ou(r)),i}function i0(r){let i=w.useContext(ea);return qe(i,ou(r)),i}function cu(r){let i=i0(r),s=i.matches[i.matches.length-1];return qe(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function s0(){return cu("useRouteId")}function l0(){let r=w.useContext(ru),i=n0("useRouteError"),s=cu("useRouteError");return r!==void 0?r:i.errors?.[s]}function r0(){let{router:r}=a0("useNavigate"),i=cu("useNavigate"),s=w.useRef(!1);return ov(()=>{s.current=!0}),w.useCallback(async(u,d={})=>{Vt(s.current,rv),s.current&&(typeof u=="number"?r.navigate(u):await r.navigate(u,{fromRouteId:i,...d}))},[r,i])}var xm={};function dv(r,i,s){!i&&!xm[r]&&(xm[r]=!0,Vt(!1,s))}w.memo(o0);function o0({routes:r,future:i,state:s,unstable_onError:l}){return uv(r,void 0,s,l,i)}function ga(r){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c0({basename:r="/",children:i=null,location:s,navigationType:l="POP",navigator:u,static:d=!1}){qe(!Bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),v=w.useMemo(()=>({basename:h,navigator:u,static:d,future:{}}),[h,u,d]);typeof s=="string"&&(s=Ni(s));let{pathname:m="/",search:p="",hash:g="",state:b=null,key:x="default"}=s,S=w.useMemo(()=>{let E=xa(m,h);return E==null?null:{location:{pathname:E,search:p,hash:g,state:b,key:x},navigationType:l}},[h,m,p,g,b,x,l]);return Vt(S!=null,`<Router basename="${h}"> is not able to match the URL "${m}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(Wt.Provider,{value:v},w.createElement(Ls.Provider,{children:i,value:S}))}function u0({children:r,location:i}){return Iy(Qc(r),i)}function Qc(r,i=[]){let s=[];return w.Children.forEach(r,(l,u)=>{if(!w.isValidElement(l))return;let d=[...i,u];if(l.type===w.Fragment){s.push.apply(s,Qc(l.props.children,d));return}qe(l.type===ga,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Qc(l.props.children,d)),s.push(h)}),s}var or="get",cr="application/x-www-form-urlencoded";function mr(r){return r!=null&&typeof r.tagName=="string"}function d0(r){return mr(r)&&r.tagName.toLowerCase()==="button"}function f0(r){return mr(r)&&r.tagName.toLowerCase()==="form"}function h0(r){return mr(r)&&r.tagName.toLowerCase()==="input"}function m0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function v0(r,i){return r.button===0&&(!i||i==="_self")&&!m0(r)}function Xc(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((i,s)=>{let l=r[s];return i.concat(Array.isArray(l)?l.map(u=>[s,u]):[[s,l]])},[]))}function p0(r,i){let s=Xc(r);return i&&i.forEach((l,u)=>{s.has(u)||i.getAll(u).forEach(d=>{s.append(u,d)})}),s}var ar=null;function g0(){if(ar===null)try{new FormData(document.createElement("form"),0),ar=!1}catch{ar=!0}return ar}var y0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lc(r){return r!=null&&!y0.has(r)?(Vt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cr}"`),null):r}function _0(r,i){let s,l,u,d,h;if(f0(r)){let v=r.getAttribute("action");l=v?xa(v,i):null,s=r.getAttribute("method")||or,u=Lc(r.getAttribute("enctype"))||cr,d=new FormData(r)}else if(d0(r)||h0(r)&&(r.type==="submit"||r.type==="image")){let v=r.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||v.getAttribute("action");if(l=m?xa(m,i):null,s=r.getAttribute("formmethod")||v.getAttribute("method")||or,u=Lc(r.getAttribute("formenctype"))||Lc(v.getAttribute("enctype"))||cr,d=new FormData(v,r),!g0()){let{name:p,type:g,value:b}=r;if(g==="image"){let x=p?`${p}.`:"";d.append(`${x}x`,"0"),d.append(`${x}y`,"0")}else p&&d.append(p,b)}}else{if(mr(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=or,l=null,u=cr,h=r}return d&&u==="text/plain"&&(h=d,d=void 0),{action:l,method:s.toLowerCase(),encType:u,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uu(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function b0(r,i,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${s}`:i&&xa(l.pathname,i)==="/"?l.pathname=`${i.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function x0(r,i){if(r.id in i)return i[r.id];try{let s=await import(r.module);return i[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function S0(r,i,s){let l=await Promise.all(r.map(async u=>{let d=i.routes[u.route.id];if(d){let h=await x0(d,s);return h.links?h.links():[]}return[]}));return T0(l.flat(1).filter(w0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function wm(r,i,s,l,u,d){let h=(m,p)=>s[p]?m.route.id!==s[p].route.id:!0,v=(m,p)=>s[p].pathname!==m.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==m.params["*"];return d==="assets"?i.filter((m,p)=>h(m,p)||v(m,p)):d==="data"?i.filter((m,p)=>{let g=l.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(h(m,p)||v(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function j0(r,i,{includeHydrateFallback:s}={}){return E0(r.map(l=>{let u=i.routes[l.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),s&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function E0(r){return[...new Set(r)]}function N0(r){let i={},s=Object.keys(r).sort();for(let l of s)i[l]=r[l];return i}function T0(r,i){let s=new Set;return new Set(i),r.reduce((l,u)=>{let d=JSON.stringify(N0(u));return s.has(d)||(s.add(d),l.push({key:d,link:u})),l},[])}function fv(){let r=w.useContext(Ti);return uu(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function A0(){let r=w.useContext(hr);return uu(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var du=w.createContext(void 0);du.displayName="FrameworkContext";function hv(){let r=w.useContext(du);return uu(r,"You must render this element inside a <HydratedRouter> element"),r}function C0(r,i){let s=w.useContext(du),[l,u]=w.useState(!1),[d,h]=w.useState(!1),{onFocus:v,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:b}=i,x=w.useRef(null);w.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let O=k=>{k.forEach(L=>{h(L.isIntersecting)})},N=new IntersectionObserver(O,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[r]),w.useEffect(()=>{if(l){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[l]);let S=()=>{u(!0)},E=()=>{u(!1),h(!1)};return s?r!=="intent"?[d,x,{}]:[d,x,{onFocus:Os(v,S),onBlur:Os(m,E),onMouseEnter:Os(p,S),onMouseLeave:Os(g,E),onTouchStart:Os(b,S)}]:[!1,x,{}]}function Os(r,i){return s=>{r&&r(s),s.defaultPrevented||i(s)}}function O0({page:r,...i}){let{router:s}=fv(),l=w.useMemo(()=>ev(s.routes,r,s.basename),[s.routes,r,s.basename]);return l?w.createElement(k0,{page:r,matches:l,...i}):null}function R0(r){let{manifest:i,routeModules:s}=hv(),[l,u]=w.useState([]);return w.useEffect(()=>{let d=!1;return S0(r,i,s).then(h=>{d||u(h)}),()=>{d=!0}},[r,i,s]),l}function k0({page:r,matches:i,...s}){let l=wa(),{manifest:u,routeModules:d}=hv(),{basename:h}=fv(),{loaderData:v,matches:m}=A0(),p=w.useMemo(()=>wm(r,i,m,u,l,"data"),[r,i,m,u,l]),g=w.useMemo(()=>wm(r,i,m,u,l,"assets"),[r,i,m,u,l]),b=w.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let E=new Set,O=!1;if(i.forEach(k=>{let L=u.routes[k.route.id];!L||!L.hasLoader||(!p.some(C=>C.route.id===k.route.id)&&k.route.id in v&&d[k.route.id]?.shouldRevalidate||L.hasClientLoader?O=!0:E.add(k.route.id))}),E.size===0)return[];let N=b0(r,h,"data");return O&&E.size>0&&N.searchParams.set("_routes",i.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[h,v,l,u,p,i,r,d]),x=w.useMemo(()=>j0(g,u),[g,u]),S=R0(g);return w.createElement(w.Fragment,null,b.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),x.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),S.map(({key:E,link:O})=>w.createElement("link",{key:E,nonce:s.nonce,...O})))}function M0(...r){return i=>{r.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mv&&(window.__reactRouterVersion="7.8.2")}catch{}function D0({basename:r,children:i,window:s}){let l=w.useRef();l.current==null&&(l.current=xy({window:s,v5Compat:!0}));let u=l.current,[d,h]=w.useState({action:u.action,location:u.location}),v=w.useCallback(m=>{w.startTransition(()=>h(m))},[h]);return w.useLayoutEffect(()=>u.listen(v),[u,v]),w.createElement(c0,{basename:r,children:i,location:d.location,navigationType:d.action,navigator:u})}var vv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pv=w.forwardRef(function({onClick:i,discover:s="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:v,target:m,to:p,preventScrollReset:g,viewTransition:b,...x},S){let{basename:E}=w.useContext(Wt),O=typeof p=="string"&&vv.test(p),N,k=!1;if(typeof p=="string"&&O&&(N=p,mv))try{let se=new URL(window.location.href),Ee=p.startsWith("//")?new URL(se.protocol+p):new URL(p),X=xa(Ee.pathname,E);Ee.origin===se.origin&&X!=null?p=X+Ee.search+Ee.hash:k=!0}catch{Vt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=Xy(p,{relative:u}),[C,Y,q]=C0(l,x),U=B0(p,{replace:h,state:v,target:m,preventScrollReset:g,relative:u,viewTransition:b});function P(se){i&&i(se),se.defaultPrevented||U(se)}let te=w.createElement("a",{...x,...q,href:N||L,onClick:k||d?i:P,ref:M0(S,Y),target:m,"data-discover":!O&&s==="render"?"true":void 0});return C&&!O?w.createElement(w.Fragment,null,te,w.createElement(O0,{page:L})):te});pv.displayName="Link";var U0=w.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:l="",end:u=!1,style:d,to:h,viewTransition:v,children:m,...p},g){let b=qs(h,{relative:p.relative}),x=wa(),S=w.useContext(hr),{navigator:E,basename:O}=w.useContext(Wt),N=S!=null&&V0(b)&&v===!0,k=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,L=x.pathname,C=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(L=L.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&O&&(C=xa(C,O)||C);const Y=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let q=L===k||!u&&L.startsWith(k)&&L.charAt(Y)==="/",U=C!=null&&(C===k||!u&&C.startsWith(k)&&C.charAt(k.length)==="/"),P={isActive:q,isPending:U,isTransitioning:N},te=q?i:void 0,se;typeof l=="function"?se=l(P):se=[l,q?"active":null,U?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof d=="function"?d(P):d;return w.createElement(pv,{...p,"aria-current":te,className:se,ref:g,style:Ee,to:h,viewTransition:v},typeof m=="function"?m(P):m)});U0.displayName="NavLink";var z0=w.forwardRef(({discover:r="render",fetcherKey:i,navigate:s,reloadDocument:l,replace:u,state:d,method:h=or,action:v,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:b,...x},S)=>{let E=G0(),O=P0(v,{relative:p}),N=h.toLowerCase()==="get"?"get":"post",k=typeof v=="string"&&vv.test(v),L=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let Y=C.nativeEvent.submitter,q=Y?.getAttribute("formmethod")||h;E(Y||C.currentTarget,{fetcherKey:i,method:q,navigate:s,replace:u,state:d,relative:p,preventScrollReset:g,viewTransition:b})};return w.createElement("form",{ref:S,method:N,action:O,onSubmit:l?m:L,...x,"data-discover":!k&&r==="render"?"true":void 0})});z0.displayName="Form";function L0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gv(r){let i=w.useContext(Ti);return qe(i,L0(r)),i}function B0(r,{target:i,replace:s,state:l,preventScrollReset:u,relative:d,viewTransition:h}={}){let v=Tt(),m=wa(),p=qs(r,{relative:d});return w.useCallback(g=>{if(v0(g,i)){g.preventDefault();let b=s!==void 0?s:Us(m)===Us(p);v(r,{replace:b,state:l,preventScrollReset:u,relative:d,viewTransition:h})}},[m,v,p,s,l,i,r,u,d,h])}function q0(r){Vt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=w.useRef(Xc(r)),s=w.useRef(!1),l=wa(),u=w.useMemo(()=>p0(l.search,s.current?null:i.current),[l.search]),d=Tt(),h=w.useCallback((v,m)=>{const p=Xc(typeof v=="function"?v(new URLSearchParams(u)):v);s.current=!0,d("?"+p,m)},[d,u]);return[u,h]}var H0=0,$0=()=>`__${String(++H0)}__`;function G0(){let{router:r}=gv("useSubmit"),{basename:i}=w.useContext(Wt),s=s0();return w.useCallback(async(l,u={})=>{let{action:d,method:h,encType:v,formData:m,body:p}=_0(l,i);if(u.navigate===!1){let g=u.fetcherKey||$0();await r.fetch(g,s,u.action||d,{preventScrollReset:u.preventScrollReset,formData:m,body:p,formMethod:u.method||h,formEncType:u.encType||v,flushSync:u.flushSync})}else await r.navigate(u.action||d,{preventScrollReset:u.preventScrollReset,formData:m,body:p,formMethod:u.method||h,formEncType:u.encType||v,replace:u.replace,state:u.state,fromRouteId:s,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,i,s])}function P0(r,{relative:i}={}){let{basename:s}=w.useContext(Wt),l=w.useContext(ea);qe(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),d={...qs(r||".",{relative:i})},h=wa();if(r==null){d.search=h.search;let v=new URLSearchParams(d.search),m=v.getAll("index");if(m.some(g=>g==="")){v.delete("index"),m.filter(b=>b).forEach(b=>v.append("index",b));let g=v.toString();d.search=g?`?${g}`:""}}return(!r||r===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:ba([s,d.pathname])),Us(d)}function V0(r,{relative:i}={}){let s=w.useContext(lv);qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=gv("useViewTransitionState"),u=qs(r,{relative:i});if(!s.isTransitioning)return!1;let d=xa(s.currentLocation.pathname,l)||s.currentLocation.pathname,h=xa(s.nextLocation.pathname,l)||s.nextLocation.pathname;return ur(u.pathname,h)!=null||ur(u.pathname,d)!=null}const Y0="modulepreload",K0=function(r){return"/Skunk/"+r},Sm={},Sa=function(i,s,l){let u=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var h=p;document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),m=v?.nonce||v?.getAttribute("nonce");u=p(s.map(g=>{if(g=K0(g),g in Sm)return;Sm[g]=!0;const b=g.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":Y0,b||(S.as="script"),S.crossOrigin="",S.href=g,m&&S.setAttribute("nonce",m),document.head.appendChild(S),b)return new Promise((E,O)=>{S.addEventListener("load",E),S.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${g}`)))})}))}function d(v){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=v,window.dispatchEvent(m),!m.defaultPrevented)throw v}return u.then(v=>{for(const m of v||[])m.status==="rejected"&&d(m.reason);return i().catch(d)})},jm=["Milano","Roma","Torino","Napoli","Bologna","Firenze","Venezia","Palermo","Genova","Bari"];function Em({value:r,onChange:i,onKeyPress:s}){const[l,u]=w.useState(!1),[d,h]=w.useState(r),v=jm.filter(x=>x.toLowerCase().includes(d.toLowerCase())),m=x=>{const S=x.target.value;h(S),i(S),u(S.length>0&&v.length>0)},p=x=>{h(x),i(x),u(!1)},g=()=>{u(d.length===0||v.length>0)},b=()=>{setTimeout(()=>u(!1),200)};return c.jsxs("div",{className:"location-select",children:[c.jsx("input",{type:"text",className:"location-input",placeholder:"Città",value:d,onChange:m,onFocus:g,onBlur:b,onKeyPress:s}),l&&c.jsx("div",{className:"location-dropdown",children:v.length>0?v.map(x=>c.jsx("div",{className:"location-option",onClick:()=>p(x),children:x},x)):d.length>0?c.jsx("div",{className:"location-option disabled",children:"Nessuna città trovata"}):jm.map(x=>c.jsx("div",{className:"location-option",onClick:()=>p(x),children:x},x))})]})}const Q0=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>Sa(async()=>{const{default:l}=await Promise.resolve().then(()=>Ai);return{default:l}},[]).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)};class fu extends Error{constructor(i,s="FunctionsError",l){super(i),this.name=s,this.context=l}}class X0 extends fu{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class Nm extends fu{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class Tm extends fu{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var Zc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Zc||(Zc={}));var Z0=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):u(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};class I0{constructor(i,{headers:s={},customFetch:l,region:u=Zc.Any}={}){this.url=i,this.headers=s,this.region=u,this.fetch=Q0(l)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,s={}){var l;return Z0(this,void 0,void 0,function*(){try{const{headers:u,method:d,body:h}=s;let v={},{region:m}=s;m||(m=this.region);const p=new URL(`${this.url}/${i}`);m&&m!=="any"&&(v["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let g;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",g=h):typeof h=="string"?(v["Content-Type"]="text/plain",g=h):typeof FormData<"u"&&h instanceof FormData?g=h:(v["Content-Type"]="application/json",g=JSON.stringify(h)));const b=yield this.fetch(p.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:g}).catch(O=>{throw new X0(O)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new Nm(b);if(!b.ok)throw new Tm(b);let S=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield b.json():S==="application/octet-stream"?E=yield b.blob():S==="text/event-stream"?E=b:S==="multipart/form-data"?E=yield b.formData():E=yield b.text(),{data:E,error:null,response:b}}catch(u){return{data:null,error:u,response:u instanceof Tm||u instanceof Nm?u.context:void 0}}})}}var at={},hi={},mi={},vi={},pi={},gi={},J0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ei=J0();const F0=Ei.fetch,yv=Ei.fetch.bind(Ei),_v=Ei.Headers,W0=Ei.Request,e_=Ei.Response,Ai=Object.freeze(Object.defineProperty({__proto__:null,Headers:_v,Request:W0,Response:e_,default:yv,fetch:F0},Symbol.toStringTag,{value:"Module"})),t_=uy(Ai);var nr={},Am;function bv(){if(Am)return nr;Am=1,Object.defineProperty(nr,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return nr.default=r,nr}var Cm;function xv(){if(Cm)return gi;Cm=1;var r=gi&&gi.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(gi,"__esModule",{value:!0});const i=r(t_),s=r(bv());class l{constructor(d){var h,v;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(v=d.isMaybeSingle)!==null&&v!==void 0?v:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const v=this.fetch;let m=v(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,b,x,S;let E=null,O=null,N=null,k=p.status,L=p.statusText;if(p.ok){if(this.method!=="HEAD"){const U=await p.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?O=U:O=JSON.parse(U))}const Y=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),q=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");Y&&q&&q.length>1&&(N=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(E={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,N=null,k=406,L="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const Y=await p.text();try{E=JSON.parse(Y),Array.isArray(E)&&p.status===404&&(O=[],E=null,k=200,L="OK")}catch{p.status===404&&Y===""?(k=204,L="No Content"):E={message:Y}}if(E&&this.isMaybeSingle&&(!((S=E?.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,k=200,L="OK"),E&&this.shouldThrowOnError)throw new s.default(E)}return{error:E,data:O,count:N,status:k,statusText:L}});return this.shouldThrowOnError||(m=m.catch(p=>{var g,b,x;return{error:{message:`${(g=p?.name)!==null&&g!==void 0?g:"FetchError"}: ${p?.message}`,details:`${(b=p?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(x=p?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),m.then(d,h)}returns(){return this}overrideTypes(){return this}}return gi.default=l,gi}var Om;function wv(){if(Om)return pi;Om=1;var r=pi&&pi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(pi,"__esModule",{value:!0});const i=r(xv());class s extends i.default{select(u){let d=!1;const h=(u??"*").split("").map(v=>/\s/.test(v)&&!d?"":(v==='"'&&(d=!d),v)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:h,foreignTable:v,referencedTable:m=v}={}){const p=m?`${m}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${u}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:h=d}={}){const v=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(v,`${u}`),this}range(u,d,{foreignTable:h,referencedTable:v=h}={}){const m=typeof v>"u"?"offset":`${v}.offset`,p=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(m,`${u}`),this.url.searchParams.set(p,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:h=!1,buffers:v=!1,wal:m=!1,format:p="text"}={}){var g;const b=[u?"analyze":null,d?"verbose":null,h?"settings":null,v?"buffers":null,m?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return pi.default=s,pi}var Rm;function hu(){if(Rm)return vi;Rm=1;var r=vi&&vi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(vi,"__esModule",{value:!0});const i=r(wv());class s extends i.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const h=Array.from(new Set(d)).map(v=>typeof v=="string"&&new RegExp("[,()]").test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:h,type:v}={}){let m="";v==="plain"?m="pl":v==="phrase"?m="ph":v==="websearch"&&(m="w");const p=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${m}fts${p}.${d}`),this}match(u){return Object.entries(u).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(u,d,h){return this.url.searchParams.append(u,`not.${d}.${h}`),this}or(u,{foreignTable:d,referencedTable:h=d}={}){const v=h?`${h}.or`:"or";return this.url.searchParams.append(v,`(${u})`),this}filter(u,d,h){return this.url.searchParams.append(u,`${d}.${h}`),this}}return vi.default=s,vi}var km;function Sv(){if(km)return mi;km=1;var r=mi&&mi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(mi,"__esModule",{value:!0});const i=r(hu());class s{constructor(u,{headers:d={},schema:h,fetch:v}){this.url=u,this.headers=new Headers(d),this.schema=h,this.fetch=v}select(u,{head:d=!1,count:h}={}){const v=d?"HEAD":"GET";let m=!1;const p=(u??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",p),h&&this.headers.append("Prefer",`count=${h}`),new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:h=!0}={}){var v;const m="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const p=u.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(p.length>0){const g=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new i.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:h=!1,count:v,defaultToNull:m=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),v&&this.headers.append("Prefer",`count=${v}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const b=u.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(b.length>0){const x=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(u,{count:d}={}){var h;const v="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var d;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new i.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return mi.default=s,mi}var Mm;function a_(){if(Mm)return hi;Mm=1;var r=hi&&hi.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(hi,"__esModule",{value:!0});const i=r(Sv()),s=r(hu());class l{constructor(d,{headers:h={},schema:v,fetch:m}={}){this.url=d,this.headers=new Headers(h),this.schemaName=v,this.fetch=m}from(d){const h=new URL(`${this.url}/${d}`);return new i.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:v=!1,get:m=!1,count:p}={}){var g;let b;const x=new URL(`${this.url}/rpc/${d}`);let S;v||m?(b=v?"HEAD":"GET",Object.entries(h).filter(([O,N])=>N!==void 0).map(([O,N])=>[O,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([O,N])=>{x.searchParams.append(O,N)})):(b="POST",S=h);const E=new Headers(this.headers);return p&&E.set("Prefer",`count=${p}`),new s.default({method:b,url:x,headers:E,schema:this.schemaName,body:S,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return hi.default=l,hi}var Dm;function n_(){if(Dm)return at;Dm=1;var r=at&&at.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const i=r(a_());at.PostgrestClient=i.default;const s=r(Sv());at.PostgrestQueryBuilder=s.default;const l=r(hu());at.PostgrestFilterBuilder=l.default;const u=r(wv());at.PostgrestTransformBuilder=u.default;const d=r(xv());at.PostgrestBuilder=d.default;const h=r(bv());return at.PostgrestError=h.default,at.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:h.default},at}var i_=n_();const s_=cy(i_),{PostgrestClient:l_,PostgrestQueryBuilder:Cx,PostgrestFilterBuilder:Ox,PostgrestTransformBuilder:Rx,PostgrestBuilder:kx,PostgrestError:Mx}=s_;class r_{static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let s=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(s+=`

Suggested solution: ${i.workaround}`),new Error(s)}static createWebSocket(i,s){const l=this.getWebSocketConstructor();return new l(i,s)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const o_="2.15.1",c_=`realtime-js/${o_}`,u_="1.0.0",Ic=1e4,d_=1e3,f_=100;var ks;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ks||(ks={}));var Ie;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ie||(Ie={}));var $t;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})($t||($t={}));var Jc;(function(r){r.websocket="websocket"})(Jc||(Jc={}));var wn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(wn||(wn={}));class h_{constructor(){this.HEADER_LENGTH=1}decode(i,s){return i.constructor===ArrayBuffer?s(this._binaryDecode(i)):s(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const s=new DataView(i),l=new TextDecoder;return this._decodeBroadcast(i,s,l)}_decodeBroadcast(i,s,l){const u=s.getUint8(1),d=s.getUint8(2);let h=this.HEADER_LENGTH+2;const v=l.decode(i.slice(h,h+u));h=h+u;const m=l.decode(i.slice(h,h+d));h=h+d;const p=JSON.parse(l.decode(i.slice(h,i.byteLength)));return{ref:null,topic:v,event:m,payload:p}}}class jv{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ze||(ze={}));const Um=(r,i,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(i).reduce((d,h)=>(d[h]=m_(h,r,i,u),d),{})},m_=(r,i,s,l)=>{const u=i.find(v=>v.name===r),d=u?.type,h=s[r];return d&&!l.includes(d)?Ev(d,h):Fc(h)},Ev=(r,i)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return y_(i,s)}switch(r){case ze.bool:return v_(i);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return p_(i);case ze.json:case ze.jsonb:return g_(i);case ze.timestamp:return __(i);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Fc(i);default:return Fc(i)}},Fc=r=>r,v_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},p_=r=>{if(typeof r=="string"){const i=parseFloat(r);if(!Number.isNaN(i))return i}return r},g_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(i){return console.log(`JSON parse error: ${i}`),r}return r},y_=(r,i)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let d;const h=r.slice(1,s);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(v=>Ev(i,v))}return r},__=r=>typeof r=="string"?r.replace(" ","T"):r,Nv=r=>{let i=r;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"};class Bc{constructor(i,s,l={},u=Ic){this.channel=i,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var l;return this._hasReceived(i)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(l=>l.status===i).forEach(l=>l.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var zm;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(zm||(zm={}));class Ms{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:h,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ms.syncState(this.state,u,d,h),this.pendingDiffs.forEach(m=>{this.state=Ms.syncDiff(this.state,m,d,h)}),this.pendingDiffs=[],v()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:h,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ms.syncDiff(this.state,u,d,h),v())}),this.onJoin((u,d,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:h})}),this.onLeave((u,d,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,l,u){const d=this.cloneDeep(i),h=this.transformState(s),v={},m={};return this.map(d,(p,g)=>{h[p]||(m[p]=g)}),this.map(h,(p,g)=>{const b=d[p];if(b){const x=g.map(N=>N.presence_ref),S=b.map(N=>N.presence_ref),E=g.filter(N=>S.indexOf(N.presence_ref)<0),O=b.filter(N=>x.indexOf(N.presence_ref)<0);E.length>0&&(v[p]=E),O.length>0&&(m[p]=O)}else v[p]=g}),this.syncDiff(d,{joins:v,leaves:m},l,u)}static syncDiff(i,s,l,u){const{joins:d,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(v,m)=>{var p;const g=(p=i[v])!==null&&p!==void 0?p:[];if(i[v]=this.cloneDeep(m),g.length>0){const b=i[v].map(S=>S.presence_ref),x=g.filter(S=>b.indexOf(S.presence_ref)<0);i[v].unshift(...x)}l(v,g,m)}),this.map(h,(v,m)=>{let p=i[v];if(!p)return;const g=m.map(b=>b.presence_ref);p=p.filter(b=>g.indexOf(b.presence_ref)<0),i[v]=p,u(v,p,m),p.length===0&&delete i[v]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(l=>s(l,i[l]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,l)=>{const u=i[l];return"metas"in u?s[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[l]=u,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Lm||(Lm={}));var Ds;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ds||(Ds={}));var _a;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(_a||(_a={}));class mu{constructor(i,s={config:{}},l){this.topic=i,this.params=s,this.socket=l,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Bc(this,$t.join,this.params,this.timeout),this.rejoinTimer=new jv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on($t.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Ms(this),this.broadcastEndpointURL=Nv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(i,s=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:d,presence:h,private:v}}=this.params,m=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(x=>x.filter))!==null&&u!==void 0?u:[],p=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0,g={},b={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:m,private:v};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>i?.(_a.CHANNEL_ERROR,x)),this._onClose(()=>i?.(_a.CLOSED)),this.updateJoinPayload(Object.assign({config:b},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){i?.(_a.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(S=E?.length)!==null&&S!==void 0?S:0,N=[];for(let k=0;k<O;k++){const L=E[k],{filter:{event:C,schema:Y,table:q,filter:U}}=L,P=x&&x[k];if(P&&P.event===C&&P.schema===Y&&P.table===q&&P.filter===U)N.push(Object.assign(Object.assign({},L),{id:P.id}));else{this.unsubscribe(),this.state=Ie.errored,i?.(_a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,i&&i(_a.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ie.errored,i?.(_a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{i?.(_a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,s={}){return await this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,s,l){return this.state===Ie.joined&&i===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(i,s,l)}async send(i,s={}){var l,u;if(!this._canPush()&&i.type==="broadcast"){const{event:d,payload:h}=i,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,v,m;const p=this._push(i.type,i,s.timeout||this.timeout);i.type==="broadcast"&&!(!((m=(v=(h=this.params)===null||h===void 0?void 0:h.config)===null||v===void 0?void 0:v.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Ie.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($t.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Bc(this,$t.leave,{},i),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(i,s,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),h=await this.socket.fetch(i,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(d),h}_push(i,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Bc(this,i,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>f_){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(i,s,l){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,l){var u,d;const h=i.toLocaleLowerCase(),{close:v,error:m,leave:p,join:g}=$t;if(l&&[v,m,p,g].indexOf(h)>=0&&l!==this._joinRef())return;let x=this._onMessage(h,s,l);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var E,O,N;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(O=S.filter)===null||O===void 0?void 0:O.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(S=>S.callback(x,l)):(d=this.bindings[h])===null||d===void 0||d.filter(S=>{var E,O,N,k,L,C;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const Y=S.id,q=(E=S.filter)===null||E===void 0?void 0:E.event;return Y&&((O=s.ids)===null||O===void 0?void 0:O.includes(Y))&&(q==="*"||q?.toLocaleLowerCase()===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const Y=(L=(k=S?.filter)===null||k===void 0?void 0:k.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return Y==="*"||Y===((C=s?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:O,table:N,commit_timestamp:k,type:L,errors:C}=E;x=Object.assign(Object.assign({},{schema:O,table:N,commit_timestamp:k,eventType:L,new:{},old:{},errors:C}),this._getPayloadRecords(E))}S.callback(x,l)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,l){const u=i.toLocaleLowerCase(),d={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(i,s){const l=i.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&mu.isEqual(u.filter,s))})),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const l in i)if(i[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on($t.close,{},i)}_onError(i){this._on($t.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=Um(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=Um(i.columns,i.old_record)),s}}const Bm=()=>{},ir={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},b_=[1e3,2e3,5e3,1e4],x_=1e4,w_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S_{constructor(i,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ic,this.transport=null,this.heartbeatIntervalMs=ir.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bm,this.ref=0,this.reconnectTimer=null,this.logger=Bm,this.conn=null,this.sendBuffer=[],this.serializer=new h_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...h)=>Sa(async()=>{const{default:v}=await Promise.resolve().then(()=>Ai);return{default:v}},void 0).then(({default:v})=>v(...h)).catch(v=>{throw new Error(`Failed to load @supabase/node-fetch: ${v.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${i}/${Jc.websocket}`,this.httpEndpoint=Nv(i),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r_.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const s=i.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:u_}))}disconnect(i,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},i?this.conn.close(i,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const s=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const i=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,s,l){this.logger(i,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ks.connecting:return wn.Connecting;case ks.open:return wn.Open;case ks.closing:return wn.Closing;default:return wn.Closed}}isConnected(){return this.connectionState()===wn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,s={config:{}}){const l=`realtime:${i}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new mu(`realtime:${i}`,s,this);return this.channels.push(d),d}}push(i){const{topic:s,event:l,payload:u,ref:d}=i,h=()=>{this.encode(i,v=>{var m;(m=this.conn)===null||m===void 0||m.send(v)})};this.log("push",`${s} ${l} (${d})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var i;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(d_,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ir.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(l=>l.topic===i&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:d,ref:h}=s,v=h?`(${h})`:"",m=d.status||"";this.log("receive",`${m} ${l} ${u} ${v}`.trim(),d),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,d,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(i){var s;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){var s;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger($t.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const l=i.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${i}${l}${u}`}_workerObjectUrl(i){let s;if(i)s=i;else{const l=new Blob([w_],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(i,s=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(i=null){let s;i?s=i:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:c_};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push($t.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${i}`,s)})}_triggerStateCallbacks(i,s){try{this.stateChangeCallbacks[i].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${i} callback`,u)}})}catch(l){this.log("error",`error triggering ${i} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new jv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ir.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var s,l,u,d,h,v,m,p;if(this.transport=(s=i?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=i?.timeout)!==null&&l!==void 0?l:Ic,this.heartbeatIntervalMs=(u=i?.heartbeatIntervalMs)!==null&&u!==void 0?u:ir.HEARTBEAT_INTERVAL,this.worker=(d=i?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=i?.accessToken)!==null&&h!==void 0?h:null,i?.params&&(this.params=i.params),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=i?.reconnectAfterMs)!==null&&v!==void 0?v:(g=>b_[g-1]||x_),this.encode=(m=i?.encode)!==null&&m!==void 0?m:((g,b)=>b(JSON.stringify(g))),this.decode=(p=i?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i?.workerUrl}}}class vu extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function Je(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class j_ extends vu{constructor(i,s,l){super(i),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wc extends vu{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}}var E_=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):u(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};const Tv=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>Sa(async()=>{const{default:l}=await Promise.resolve().then(()=>Ai);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},N_=()=>E_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sa(()=>Promise.resolve().then(()=>Ai),void 0)).Response:Response}),eu=r=>{if(Array.isArray(r))return r.map(s=>eu(s));if(typeof r=="function"||r!==Object(r))return r;const i={};return Object.entries(r).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));i[u]=eu(l)}),i},T_=r=>{if(typeof r!="object"||r===null)return!1;const i=Object.getPrototypeOf(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var jn=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):u(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};const qc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),A_=(r,i,s)=>jn(void 0,void 0,void 0,function*(){const l=yield N_();r instanceof l&&!s?.noResolveJson?r.json().then(u=>{const d=r.status||500,h=u?.statusCode||d+"";i(new j_(qc(u),d,h))}).catch(u=>{i(new Wc(qc(u),u))}):i(new Wc(qc(r),r))}),C_=(r,i,s,l)=>{const u={method:r,headers:i?.headers||{}};return r==="GET"||!l?u:(T_(l)?(u.headers=Object.assign({"Content-Type":"application/json"},i?.headers),u.body=JSON.stringify(l)):u.body=l,i?.duplex&&(u.duplex=i.duplex),Object.assign(Object.assign({},u),s))};function Hs(r,i,s,l,u,d){return jn(this,void 0,void 0,function*(){return new Promise((h,v)=>{r(s,C_(i,l,u,d)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>A_(m,v,l))})})}function dr(r,i,s,l){return jn(this,void 0,void 0,function*(){return Hs(r,"GET",i,s,l)})}function Ft(r,i,s,l,u){return jn(this,void 0,void 0,function*(){return Hs(r,"POST",i,l,u,s)})}function tu(r,i,s,l,u){return jn(this,void 0,void 0,function*(){return Hs(r,"PUT",i,l,u,s)})}function O_(r,i,s,l){return jn(this,void 0,void 0,function*(){return Hs(r,"HEAD",i,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function Av(r,i,s,l,u){return jn(this,void 0,void 0,function*(){return Hs(r,"DELETE",i,l,u,s)})}var dt=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):u(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};const R_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class k_{constructor(i,s={},l,u){this.url=i,this.headers=s,this.bucketId=l,this.fetch=Tv(u)}uploadOrUpdate(i,s,l,u){return dt(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},qm),u);let v=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),m&&d.append("metadata",this.encodeMetadata(m)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",h.cacheControl),m&&d.append("metadata",this.encodeMetadata(m))):(d=l,v["cache-control"]=`max-age=${h.cacheControl}`,v["content-type"]=h.contentType,m&&(v["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),u?.headers&&(v=Object.assign(Object.assign({},v),u.headers));const p=this._removeEmptyFolders(s),g=this._getFinalPath(p),b=yield(i=="PUT"?tu:Ft)(this.fetch,`${this.url}/object/${g}`,d,Object.assign({headers:v},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(Je(d))return{data:null,error:d};throw d}})}upload(i,s,l){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,s,l)})}uploadToSignedUrl(i,s,l,u){return dt(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(i),h=this._getFinalPath(d),v=new URL(this.url+`/object/upload/sign/${h}`);v.searchParams.set("token",s);try{let m;const p=Object.assign({upsert:qm.upsert},u),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",p.cacheControl)):(m=l,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const b=yield tu(this.fetch,v.toString(),m,{headers:g});return{data:{path:d,fullPath:b.Key},error:null}}catch(m){if(Je(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(i,s){return dt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(i);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const d=yield Ft(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),h=new URL(this.url+d.url),v=h.searchParams.get("token");if(!v)throw new vu("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:v},error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}update(i,s,l){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,s,l)})}move(i,s,l){return dt(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}copy(i,s,l){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}createSignedUrl(i,s,l){return dt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(i),d=yield Ft(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}createSignedUrls(i,s,l){return dt(this,void 0,void 0,function*(){try{const u=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:i},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}download(i,s){return dt(this,void 0,void 0,function*(){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),h=d?`?${d}`:"";try{const v=this._getFinalPath(i);return{data:yield(yield dr(this.fetch,`${this.url}/${u}/${v}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(v){if(Je(v))return{data:null,error:v};throw v}})}info(i){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{const l=yield dr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:eu(l),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}exists(i){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{return yield O_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(Je(l)&&l instanceof Wc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(i,s){const l=this._getFinalPath(i),u=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&u.push(d);const v=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&u.push(m);let p=u.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${v}/public/${l}${p}`)}}}remove(i){return dt(this,void 0,void 0,function*(){try{return{data:yield Av(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}list(i,s,l){return dt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},R_),s),{prefix:i||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}listV2(i,s){return dt(this,void 0,void 0,function*(){try{const l=Object.assign({},i);return{data:yield Ft(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}}const M_="2.11.0",D_={"X-Client-Info":`storage-js/${M_}`};var yi=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):u(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};class U_{constructor(i,s={},l,u){const d=new URL(i);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},D_),s),this.fetch=Tv(l)}listBuckets(){return yi(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(Je(i))return{data:null,error:i};throw i}})}getBucket(i){return yi(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}createBucket(i,s={public:!1}){return yi(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}updateBucket(i,s){return yi(this,void 0,void 0,function*(){try{return{data:yield tu(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}emptyBucket(i){return yi(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}deleteBucket(i){return yi(this,void 0,void 0,function*(){try{return{data:yield Av(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}}class z_ extends U_{constructor(i,s={},l,u){super(i,s,l,u)}from(i){return new k_(this.url,this.headers,i,this.fetch)}}const L_="2.56.0";let Rs="";typeof Deno<"u"?Rs="deno":typeof document<"u"?Rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rs="react-native":Rs="node";const B_={"X-Client-Info":`supabase-js-${Rs}/${L_}`},q_={headers:B_},H_={schema:"public"},$_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G_={};var P_=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):u(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};const V_=r=>{let i;return r?i=r:typeof fetch>"u"?i=yv:i=fetch,(...s)=>i(...s)},Y_=()=>typeof Headers>"u"?_v:Headers,K_=(r,i,s)=>{const l=V_(s),u=Y_();return(d,h)=>P_(void 0,void 0,void 0,function*(){var v;const m=(v=yield i())!==null&&v!==void 0?v:r;let p=new u(h?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(d,Object.assign(Object.assign({},h),{headers:p}))})};var Q_=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):u(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};function X_(r){return r.endsWith("/")?r:r+"/"}function Z_(r,i){var s,l;const{db:u,auth:d,realtime:h,global:v}=r,{db:m,auth:p,realtime:g,global:b}=i,x={db:Object.assign(Object.assign({},m),u),auth:Object.assign(Object.assign({},p),d),realtime:Object.assign(Object.assign({},g),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),v),{headers:Object.assign(Object.assign({},(s=b?.headers)!==null&&s!==void 0?s:{}),(l=v?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Q_(this,void 0,void 0,function*(){return""})};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}const Cv="2.71.1",Si=30*1e3,au=3,Hc=au*Si,I_="http://localhost:9999",J_="supabase.auth.token",F_={"X-Client-Info":`gotrue-js/${Cv}`},nu="X-Supabase-Api-Version",Ov={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eb=600*1e3;class pu extends Error{constructor(i,s,l){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function he(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class tb extends pu{constructor(i,s,l){super(i,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function ab(r){return he(r)&&r.name==="AuthApiError"}class Rv extends pu{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class Wa extends pu{constructor(i,s,l,u){super(i,l,u),this.name=s,this.status=l}}class Ja extends Wa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nb(r){return he(r)&&r.name==="AuthSessionMissingError"}class sr extends Wa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends Wa{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class rr extends Wa{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ib(r){return he(r)&&r.name==="AuthImplicitGrantRedirectError"}class Hm extends Wa{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iu extends Wa{constructor(i,s){super(i,"AuthRetryableFetchError",s,void 0)}}function $c(r){return he(r)&&r.name==="AuthRetryableFetchError"}class $m extends Wa{constructor(i,s,l){super(i,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class su extends Wa{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gm=` 	
\r=`.split(""),sb=(()=>{const r=new Array(128);for(let i=0;i<r.length;i+=1)r[i]=-1;for(let i=0;i<Gm.length;i+=1)r[Gm[i].charCodeAt(0)]=-2;for(let i=0;i<fr.length;i+=1)r[fr[i].charCodeAt(0)]=i;return r})();function Pm(r,i,s){if(r!==null)for(i.queue=i.queue<<8|r,i.queuedBits+=8;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(fr[l]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(fr[l]),i.queuedBits-=6}}function kv(r,i,s){const l=sb[r];if(l>-1)for(i.queue=i.queue<<6|l,i.queuedBits+=6;i.queuedBits>=8;)s(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Vm(r){const i=[],s=h=>{i.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=h=>{ob(h,l,s)};for(let h=0;h<r.length;h+=1)kv(r.charCodeAt(h),u,d);return i.join("")}function lb(r,i){if(r<=127){i(r);return}else if(r<=2047){i(192|r>>6),i(128|r&63);return}else if(r<=65535){i(224|r>>12),i(128|r>>6&63),i(128|r&63);return}else if(r<=1114111){i(240|r>>18),i(128|r>>12&63),i(128|r>>6&63),i(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function rb(r,i){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}lb(l,i)}}function ob(r,i,s){if(i.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){i.utf8seq=l;break}if(i.utf8seq===2)i.codepoint=r&31;else if(i.utf8seq===3)i.codepoint=r&15;else if(i.utf8seq===4)i.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|r&63,i.utf8seq-=1,i.utf8seq===0&&s(i.codepoint)}}function cb(r){const i=[],s={queue:0,queuedBits:0},l=u=>{i.push(u)};for(let u=0;u<r.length;u+=1)kv(r.charCodeAt(u),s,l);return new Uint8Array(i)}function ub(r){const i=[];return rb(r,s=>i.push(s)),new Uint8Array(i)}function db(r){const i=[],s={queue:0,queuedBits:0},l=u=>{i.push(u)};return r.forEach(u=>Pm(u,s,l)),Pm(null,s,l),i.join("")}function fb(r){return Math.round(Date.now()/1e3)+r}function hb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const i=Math.random()*16|0;return(r=="x"?i:i&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",_n={tested:!1,writable:!1},Mv=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_n.tested)return _n.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),_n.tested=!0,_n.writable=!0}catch{_n.tested=!0,_n.writable=!1}return _n.writable};function mb(r){const i={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,d)=>{i[d]=u})}catch{}return s.searchParams.forEach((l,u)=>{i[u]=l}),i}const Dv=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>Sa(async()=>{const{default:l}=await Promise.resolve().then(()=>Ai);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},vb=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ji=async(r,i,s)=>{await r.setItem(i,JSON.stringify(s))},bn=async(r,i)=>{const s=await r.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ia=async(r,i)=>{await r.removeItem(i)};class vr{constructor(){this.promise=new vr.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}vr.promiseConstructor=Promise;function Gc(r){const i=r.split(".");if(i.length!==3)throw new su("Invalid JWT structure");for(let l=0;l<i.length;l++)if(!W_.test(i[l]))throw new su("JWT not in base64url format");return{header:JSON.parse(Vm(i[0])),payload:JSON.parse(Vm(i[1])),signature:cb(i[2]),raw:{header:i[0],payload:i[1]}}}async function pb(r){return await new Promise(i=>{setTimeout(()=>i(null),r)})}function gb(r,i){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await r(d);if(!i(d,null,h)){l(h);return}}catch(h){if(!i(d,h)){u(h);return}}})()})}function yb(r){return("0"+r.toString(16)).substr(-2)}function _b(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let d=0;d<56;d++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(i),Array.from(i,yb).join("")}async function bb(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function xb(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await bb(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _i(r,i,s=!1){const l=_b();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await ji(r,`${i}-code-verifier`,u);const d=await xb(l);return[d,l===d?"plain":"s256"]}const wb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sb(r){const i=r.headers.get(nu);if(!i||!i.match(wb))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function jb(r){if(!r)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(r<=i)throw new Error("JWT has expired")}function Eb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bi(r){if(!Nb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pc(){const r={};return new Proxy(r,{get:(i,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ym(r){return JSON.parse(JSON.stringify(r))}var Tb=function(r,i){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(s[l[u]]=r[l[u]]);return s};const xn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ab=[502,503,504];async function Km(r){var i;if(!vb(r))throw new iu(xn(r),0);if(Ab.includes(r.status))throw new iu(xn(r),r.status);let s;try{s=await r.json()}catch(d){throw new Rv(xn(d),d)}let l;const u=Sb(r);if(u&&u.getTime()>=Ov["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new $m(xn(s),r.status,((i=s.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(l==="session_not_found")throw new Ja}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new $m(xn(s),r.status,s.weak_password.reasons);throw new tb(xn(s),r.status||500,l)}const Cb=(r,i,s,l)=>{const u={method:r,headers:i?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function be(r,i,s,l){var u;const d=Object.assign({},l?.headers);d[nu]||(d[nu]=Ov["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const h=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const v=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Ob(r,i,s+v,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function Ob(r,i,s,l,u,d){const h=Cb(i,l,u,d);let v;try{v=await r(s,Object.assign({},h))}catch(m){throw console.error(m),new iu(xn(m),0)}if(v.ok||await Km(v),l?.noResolveJson)return v;try{return await v.json()}catch(m){await Km(m)}}function ya(r){var i;let s=null;Db(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=fb(r.expires_in)));const l=(i=r.user)!==null&&i!==void 0?i:r;return{data:{session:s,user:l},error:null}}function Qm(r){const i=ya(r);return!i.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(i.data.weak_password=r.weak_password),i}function Fa(r){var i;return{data:{user:(i=r.user)!==null&&i!==void 0?i:r},error:null}}function Rb(r){return{data:r,error:null}}function kb(r){const{action_link:i,email_otp:s,hashed_token:l,redirect_to:u,verification_type:d}=r,h=Tb(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:i,email_otp:s,hashed_token:l,redirect_to:u,verification_type:d},m=Object.assign({},h);return{data:{properties:v,user:m},error:null}}function Mb(r){return r}function Db(r){return r.access_token&&r.refresh_token&&r.expires_in}const Vc=["global","local","others"];var Ub=function(r,i){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)i.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(s[l[u]]=r[l[u]]);return s};class zb{constructor({url:i="",headers:s={},fetch:l}){this.url=i,this.headers=s,this.fetch=Dv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,s=Vc[0]){if(Vc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vc.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}async inviteUserByEmail(i,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Fa})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async generateLink(i){try{const{options:s}=i,l=Ub(i,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:kb,redirectTo:s?.redirectTo})}catch(s){if(he(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(i){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Fa})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async listUsers(i){var s,l,u,d,h,v,m;try{const p={nextPage:null,lastPage:0,total:0},g=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=i?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=i?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Mb});if(g.error)throw g.error;const b=await g.json(),x=(h=g.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(m=(v=g.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(E=>{const O=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);p[`${N}Page`]=O}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(he(p))return{data:{users:[]},error:p};throw p}}async getUserById(i){bi(i);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Fa})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async updateUserById(i,s){bi(i);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:Fa})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async deleteUser(i,s=!1){bi(i);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:Fa})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async _listFactors(i){bi(i.userId);try{const{data:s,error:l}=await be(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteFactor(i){bi(i.userId),bi(i.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}}function Xm(r={}){return{getItem:i=>r[i]||null,setItem:(i,s)=>{r[i]=s},removeItem:i=>{delete r[i]}}}function Lb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xi={debug:!!(globalThis&&Mv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uv extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class Bb extends Uv{}async function qb(r,i,s){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,i);const l=new globalThis.AbortController;return i>0&&setTimeout(()=>{l.abort(),xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await s()}finally{xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(i===0)throw xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Bb(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(xi.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Lb();const Hb={url:I_,storageKey:J_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zm(r,i,s){return await s()}const wi={};class zs{constructor(i){var s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zs.nextInstanceID,zs.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Hb),i);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new zb({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Dv(u.fetch),this.lock=u.lock||Zm,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Ht()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=qb:this.lock=Zm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Mv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xm(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Xm(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var i,s;return(s=(i=wi[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(i){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,s;return(s=(i=wi[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{cachedAt:i})}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cv}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const s=mb(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),Ht()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(s,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),ib(d)){const m=(i=d.details)===null||i===void 0?void 0:i.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:v}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",v),await this._saveSession(h),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return he(s)?{error:s}:{error:new Rv("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var s,l,u;try{const d=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=i?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=i?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ya}),{data:h,error:v}=d;if(v||!h)return{data:{user:null,session:null},error:v};const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(d){if(he(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(i){var s,l,u;try{let d;if("email"in i){const{email:g,password:b,options:x}=i;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await _i(this.storage,this.storageKey)),d=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:b,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:S,code_challenge_method:E},xform:ya})}else if("phone"in i){const{phone:g,password:b,options:x}=i;d=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(u=x?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:ya})}else throw new lr("You must provide either an email or phone number and a password");const{data:h,error:v}=d;if(v||!h)return{data:{user:null,session:null},error:v};const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(d){if(he(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(i){try{let s;if("email"in i){const{email:d,password:h,options:v}=i;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Qm})}else if("phone"in i){const{phone:d,password:h,options:v}=i;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Qm})}else throw new lr("You must provide either an email or phone number and a password");const{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(i){var s,l,u,d;return await this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=i.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=i.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=i.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:s}=i;if(s==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(i){var s,l,u,d,h,v,m,p,g,b,x,S;let E,O;if("message"in i)E=i.message,O=i.signature;else{const{chain:N,wallet:k,statement:L,options:C}=i;let Y;if(Ht())if(typeof k=="object")Y=k;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))Y=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=k}const q=new URL((s=C?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Y&&Y.signIn){const U=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),L?{statement:L}:null));let P;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")P=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)P=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)E=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),O=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${q.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(u=(l=C?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=C?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((v=C?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((b=(g=C?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...C.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const U=await Y.signMessage(new TextEncoder().encode(E),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=U}}try{const{data:N,error:k}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:db(O)},!((x=i.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=i.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ya});if(k)throw k;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new sr}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:k})}catch(N){if(he(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(i){const s=await bn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{const{data:d,error:h}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:l},xform:ya});if(await Ia(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new sr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:h})}catch(d){if(he(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(i){try{const{options:s,provider:l,token:u,access_token:d,nonce:h}=i,v=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ya}),{data:m,error:p}=v;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new sr}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(i){var s,l,u,d,h;try{if("email"in i){const{email:v,options:m}=i;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await _i(this.storage,this.storageKey));const{error:b}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in i){const{phone:v,options:m}=i,{data:p,error:g}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(u=m?.data)!==null&&u!==void 0?u:{},create_user:(d=m?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new lr("You must provide either an email or phone number.")}catch(v){if(he(v))return{data:{user:null,session:null},error:v};throw v}}async verifyOtp(i){var s,l;try{let u,d;"options"in i&&(u=(s=i.options)===null||s===void 0?void 0:s.redirectTo,d=(l=i.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:v}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:ya});if(v)throw v;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,p=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(i){var s,l,u;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await _i(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(l=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=i?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:Rb})}catch(d){if(he(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;if(l)throw l;if(!s)throw new Ja;const{error:u}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:u}})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const s=`${this.url}/resend`;if("email"in i){const{email:l,type:u,options:d}=i,{error:h}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in i){const{phone:l,type:u,options:d}=i,{data:h,error:v}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:v}}throw new lr("You must provide either an email or phone number and a type")}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(i,s){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await i(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const s=await bn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?i=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const l=i.expires_at?i.expires_at*1e3-Date.now()<Hc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",i.expires_at),!l){if(this.userStorage){const h=await bn(this.userStorage,this.storageKey+"-user");h?.user?i.user=h.user:i.user=Pc()}if(this.storage.isServer&&i.user){let h=this.suppressGetSessionWarning;i=new Proxy(i,{get:(m,p,g)=>(!h&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,g))})}return{data:{session:i},error:null}}const{session:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{session:null},error:d}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Fa}):await this._useSession(async s=>{var l,u,d;const{data:h,error:v}=s;if(v)throw v;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ja}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Fa})})}catch(s){if(he(s))return nb(s)&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(i,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,s))}async _updateUser(i,s={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new Ja;const h=u.session;let v=null,m=null;this.flowType==="pkce"&&i.email!=null&&([v,m]=await _i(this.storage,this.storageKey));const{data:p,error:g}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:v,code_challenge_method:m}),jwt:h.access_token,xform:Fa});if(g)throw g;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Ja;const s=Date.now()/1e3;let l=s,u=!0,d=null;const{payload:h}=Gc(i.access_token);if(h.exp&&(l=h.exp,u=l<=s),u){const{session:v,error:m}=await this._callRefreshToken(i.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!v)return{data:{user:null,session:null},error:null};d=v}else{const{data:v,error:m}=await this._getUser(i.access_token);if(m)throw m;d={access_token:i.access_token,refresh_token:i.refresh_token,user:v.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(he(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async s=>{var l;if(!i){const{data:h,error:v}=s;if(v)throw v;i=(l=h.session)!==null&&l!==void 0?l:void 0}if(!i?.refresh_token)throw new Ja;const{session:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{user:null,session:null},error:d}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(i,s){try{if(!Ht())throw new rr("No browser detected.");if(i.error||i.error_description||i.error_code)throw new rr(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Hm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Hm("No code detected.");const{data:L,error:C}=await this._exchangeCodeForSession(i.code);if(C)throw C;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:h,expires_in:v,expires_at:m,token_type:p}=i;if(!d||!v||!h||!p)throw new rr("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(v);let x=g+b;m&&(x=parseInt(m));const S=x-g;S*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const E=x-b;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,g);const{data:O,error:N}=await this._getUser(d);if(N)throw N;const k={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:b,expires_at:x,refresh_token:h,token_type:p,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:i.type},error:null}}catch(l){if(he(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const s=await bn(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&s)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:d}=s;if(d)return{error:d};const h=(l=u.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:v}=await this.admin.signOut(h,i);if(v&&!(ab(v)&&(v.status===404||v.status===401||v.status===403)))return{error:v}}return i!=="others"&&(await this._removeSession(),await Ia(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const s=hb(),l={id:s,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(i){return await this._useSession(async s=>{var l,u;try{const{data:{session:d},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(i))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",i,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(i))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",d),console.error(d)}})}async resetPasswordForEmail(i,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await _i(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(he(d))return{data:null,error:d};throw d}}async getUserIdentities(){var i;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(i=s.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async linkIdentity(i){var s;try{const{data:l,error:u}=await this._useSession(async d=>{var h,v,m,p,g;const{data:b,error:x}=d;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(h=i.options)===null||h===void 0?void 0:h.redirectTo,scopes:(v=i.options)===null||v===void 0?void 0:v.scopes,queryParams:(m=i.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(u)throw u;return Ht()&&!(!((s=i.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:i.provider,url:l?.url},error:null}}catch(l){if(he(l))return{data:{provider:i.provider,url:null},error:l};throw l}}async unlinkIdentity(i){try{return await this._useSession(async s=>{var l,u;const{data:d,error:h}=s;if(h)throw h;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _refreshAccessToken(i){const s=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await gb(async u=>(u>0&&await pb(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:ya})),(u,d)=>{const h=200*Math.pow(2,u);return d&&$c(d)&&Date.now()+h-l<Si})}catch(l){if(this._debug(s,"error",l),he(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",s,"url",l),Ht()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:i,url:l},error:null}}async _recoverAndRefresh(){var i,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await bn(this.storage,this.storageKey);if(u&&this.userStorage){let h=await bn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await ji(this.userStorage,this.storageKey+"-user",h)),u.user=(i=h?.user)!==null&&i!==void 0?i:Pc()}else if(u&&!u.user&&!u.user){const h=await bn(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await Ia(this.storage,this.storageKey+"-user"),await ji(this.storage,this.storageKey,u)):u.user=Pc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Hc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Hc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),$c(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:v}=await this._getUser(u.access_token);!v&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(i){var s,l;if(!i)throw new Ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new vr;const{data:d,error:h}=await this._refreshAccessToken(i);if(h)throw h;if(!d.session)throw new Ja;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const v={session:d.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(d){if(this._debug(u,"error",d),he(d)){const h={session:null,error:d};return $c(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(i,s,l=!0){const u=`#_notifyAllSubscribers(${i})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:i,session:s});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(i,s)}catch(m){d.push(m)}});if(await Promise.all(h),d.length>0){for(let v=0;v<d.length;v+=1)console.error(d[v]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const s=Object.assign({},i),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await ji(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const d=Ym(u);await ji(this.storage,this.storageKey,d)}else{const u=Ym(s);await ji(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Ia(this.storage,this.storageKey),await Ia(this.storage,this.storageKey+"-code-verifier"),await Ia(this.storage,this.storageKey+"-user"),this.userStorage&&await Ia(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-i)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Si}ms, refresh threshold is ${au} ticks`),u<=au&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof Uv)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const s=`#_onVisibilityChanged(${i})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,h]=await _i(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(v.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${i}?${u.join("&")}`}async _unenroll(i){try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;return d?{data:null,error:d}:await be(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _enroll(i){try{return await this._useSession(async s=>{var l,u;const{data:d,error:h}=s;if(h)return{data:null,error:h};const v=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:m,error:p}=await be(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(i.factorType==="totp"&&(!((u=m?.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;if(d)return{data:null,error:d};const{data:h,error:v}=await be(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:v})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;return d?{data:null,error:d}:await be(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(i){const{data:s,error:l}=await this._challenge({factorId:i.factorId});return l?{data:null,error:l}:await this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})}async _listFactors(){const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=i?.factors||[],u=l.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=l.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:l,totp:u,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var s,l;const{data:{session:u},error:d}=i;if(d)return{data:null,error:d};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Gc(u.access_token);let v=null;h.aal&&(v=h.aal);let m=v;((l=(s=u.user.factors)===null||s===void 0?void 0:s.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(m="aal2");const g=h.amr||[];return{data:{currentLevel:v,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(i,s={keys:[]}){let l=s.keys.find(v=>v.kid===i);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(v=>v.kid===i),l&&this.jwks_cached_at+eb>u)return l;const{data:d,error:h}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(v=>v.kid===i),!l)?null:l}async getClaims(i,s={}){try{let l=i;if(!l){const{data:S,error:E}=await this.getSession();if(E||!S.session)return{data:null,error:E};l=S.session.access_token}const{header:u,payload:d,signature:h,raw:{header:v,payload:m}}=Gc(l);s?.allowExpired||jb(d.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:d,header:u,signature:h},error:null}}const g=Eb(u.alg),b=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,h,ub(`${v}.${m}`)))throw new su("Invalid JWT signature");return{data:{claims:d,header:u,signature:h},error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}}zs.nextInstanceID=0;const $b=zs;class Gb extends $b{constructor(i){super(i)}}var Pb=function(r,i,s,l){function u(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):u(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};class Vb{constructor(i,s,l){var u,d,h;if(this.supabaseUrl=i,this.supabaseKey=s,!i)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const v=X_(i),m=new URL(v);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:H_,realtime:G_,auth:Object.assign(Object.assign({},$_),{storageKey:p}),global:q_},b=Z_(l??{},g);this.storageKey=(u=b.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(x,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=K_(s,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new l_(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new z_(this.storageUrl.href,this.headers,this.fetch,l?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new I0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,s={},l={}){return this.rest.rpc(i,s,l)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,s;return Pb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:u,storageKey:d,flowType:h,lock:v,debug:m},p,g){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gb({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:d,autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:u,flowType:h,lock:v,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new S_(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(i,s,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:i==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yb=(r,i,s)=>new Vb(r,i,s);function Kb(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const i=r.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}Kb()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qb="https://shzouqqrxebzrqtkynqg.supabase.co",Xb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoem91cXFyeGVienJxdGt5bnFnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5NDc3MjksImV4cCI6MjA3MTUyMzcyOX0.vWu0hP3sQqVQCXwG1SsGadCnzCVy3DCgdgbemxFogWQ",fe=Yb(Qb,Xb),zv=w.createContext(void 0);function Zb({children:r}){const[i,s]=w.useState(null),[l,u]=w.useState(null),[d,h]=w.useState(!0),v=async E=>{try{const{data:O}=await fe.from("profiles").select("*").eq("user_id",E).maybeSingle();return O}catch{return console.error("Error fetching profile"),null}};w.useEffect(()=>{let E=!0;const O=async k=>{if(E){if(s(k?.user??null),k?.user)try{const L=await v(k.user.id);E&&u(L)}catch{console.error("Error fetching user profile"),E&&u(null)}else u(null);E&&h(!1)}};fe.auth.getSession().then(({data:{session:k}})=>{O(k)});const{data:{subscription:N}}=fe.auth.onAuthStateChange((k,L)=>{O(L)});return()=>{E=!1,N.unsubscribe()}},[]);const S={user:i,profile:l,loading:d,signUp:async(E,O)=>{const{error:N}=await fe.auth.signUp({email:E,password:O});return{error:N}},signIn:async(E,O)=>{try{const{error:N}=await fe.auth.signInWithPassword({email:E,password:O});return{error:N}}catch(N){return console.error("Network error during sign in:",N),{error:null}}},signInWithGoogle:async()=>{const{error:E}=await fe.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return{error:E}},signOut:async()=>{await fe.auth.signOut(),localStorage.removeItem("supabase.auth.token")},refreshProfile:async()=>{if(i?.id)try{const E=await v(i.id);u(E)}catch{console.error("Error refreshing user profile")}}};return c.jsx(zv.Provider,{value:S,children:r})}function Qe(){const r=w.useContext(zv);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function Ib(r){const i=[];return r.length<8&&i.push("La password deve contenere almeno 8 caratteri"),/[A-Z]/.test(r)||i.push("La password deve contenere almeno una lettera maiuscola"),/[a-z]/.test(r)||i.push("La password deve contenere almeno una lettera minuscola"),/\d/.test(r)||i.push("La password deve contenere almeno un numero"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(r)||i.push("La password deve contenere almeno un carattere speciale"),{isValid:i.length===0,errors:i}}function Jb(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function Lv({isOpen:r,onClose:i}){const{signIn:s,signUp:l,signInWithGoogle:u,loading:d}=Qe(),[h,v]=w.useState("login"),[m,p]=w.useState({email:"",password:"",confirmPassword:"",fullName:""}),[g,b]=w.useState({}),[x,S]=w.useState(!1),[E,O]=w.useState("");w.useEffect(()=>{r||(p({email:"",password:"",confirmPassword:"",fullName:""}),b({}),O(""),v("login"))},[r]),w.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),w.useEffect(()=>{const q=U=>{U.key==="Escape"&&i()};return r&&(document.addEventListener("keydown",q),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",q),document.body.style.overflow="unset"}},[r,i]);const N=()=>{const q={};if(m.email?Jb(m.email)||(q.email="Email non valida"):q.email="Email richiesta",!m.password)q.password=["Password richiesta"];else if(h==="register"){const U=Ib(m.password);U.isValid||(q.password=U.errors)}return h==="register"&&(m.fullName.trim()||(q.fullName="Nome completo richiesto"),m.confirmPassword?m.password!==m.confirmPassword&&(q.confirmPassword="Le password non coincidono"):q.confirmPassword="Conferma password richiesta"),b(q),Object.keys(q).length===0},k=async q=>{if(q.preventDefault(),!(!N()||x)){S(!0),b({}),O("");try{if(h==="login"){const{error:U}=await s(m.email,m.password);U?U.message.includes("Invalid login credentials")?b({general:"Email o password non corretti"}):b({general:"Errore durante il login. Riprova."}):i()}else{const{error:U}=await l(m.email,m.password);U?U.message.includes("User already registered")?b({email:"Questo indirizzo email è già registrato"}):U.message.includes("Password should be at least 6 characters")?b({password:["La password deve essere di almeno 6 caratteri"]}):b({general:"Errore durante la registrazione. Riprova."}):(O("Account creato con successo! Controlla la tua email per confermare l'account."),p({email:"",password:"",confirmPassword:"",fullName:""}),setTimeout(()=>{v("login"),O("")},3e3))}}catch{b({general:"Errore imprevisto. Riprova."})}finally{S(!1)}}},L=async()=>{S(!0),b({});try{const{error:q}=await u();q?b({general:"Errore durante l'accesso con Google. Riprova."}):i()}catch{b({general:"Errore imprevisto. Riprova."})}finally{S(!1)}},C=(q,U)=>{p(P=>({...P,[q]:U})),g[q]&&b(P=>{const te={...P};return delete te[q],te})},Y=q=>{q.target===q.currentTarget&&i()};return r?c.jsx("div",{className:"auth-overlay",onClick:Y,children:c.jsxs("div",{className:"auth-modal",children:[c.jsx("div",{className:"auth-header-sticky",children:c.jsx("button",{className:"auth-close-btn",onClick:i,children:"×"})}),c.jsxs("div",{className:"auth-modal-header",children:[c.jsxs("div",{className:"view-toggle",children:[c.jsx("button",{className:`toggle-btn ${h==="login"?"active":""}`,onClick:()=>v("login"),children:"Accedi"}),c.jsx("button",{className:`toggle-btn ${h==="register"?"active":""}`,onClick:()=>v("register"),children:"Registrati"})]}),c.jsx("div",{className:"auth-social",children:c.jsxs("button",{type:"button",className:"btn-google",onClick:L,disabled:x,children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",className:"google-icon",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),x?"Caricamento...":"Continua con Google"]})})]}),c.jsxs("div",{className:"auth-content",children:[g.general&&c.jsx("div",{className:"auth-error",children:g.general}),E&&c.jsx("div",{className:"auth-success",children:E}),c.jsx("div",{className:"auth-divider",children:c.jsx("span",{children:"oppure"})}),c.jsxs("form",{className:"auth-form",onSubmit:k,children:[h==="register"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"fullName",children:"Nome Completo *"}),c.jsx("input",{id:"fullName",type:"text",className:`form-input ${g.fullName?"error":""}`,value:m.fullName,onChange:q=>C("fullName",q.target.value),placeholder:"Inserisci il tuo nome completo"}),g.fullName&&c.jsx("div",{className:"form-error",children:g.fullName})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"email",children:"Email *"}),c.jsx("input",{id:"email",type:"email",className:`form-input ${g.email?"error":""}`,value:m.email,onChange:q=>C("email",q.target.value),placeholder:"inserisci@email.com"}),g.email&&c.jsx("div",{className:"form-error",children:g.email})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"password",children:"Password *"}),c.jsx("input",{id:"password",type:"password",className:`form-input ${g.password?"error":""}`,value:m.password,onChange:q=>C("password",q.target.value),placeholder:"Inserisci la tua password"}),g.password&&c.jsx("div",{className:"form-errors",children:g.password.map((q,U)=>c.jsx("div",{className:"form-error",children:q},U))}),h==="register"&&m.password&&c.jsxs("div",{className:"password-requirements",children:[c.jsx("strong",{children:"Requisiti password:"}),c.jsxs("ul",{children:[c.jsx("li",{className:m.password.length>=8?"valid":"invalid",children:"Almeno 8 caratteri"}),c.jsx("li",{className:/[A-Z]/.test(m.password)?"valid":"invalid",children:"Una lettera maiuscola"}),c.jsx("li",{className:/[a-z]/.test(m.password)?"valid":"invalid",children:"Una lettera minuscola"}),c.jsx("li",{className:/\d/.test(m.password)?"valid":"invalid",children:"Un numero"}),c.jsx("li",{className:/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(m.password)?"valid":"invalid",children:"Un carattere speciale"})]})]})]}),h==="register"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"confirmPassword",children:"Conferma Password *"}),c.jsx("input",{id:"confirmPassword",type:"password",className:`form-input ${g.confirmPassword?"error":""}`,value:m.confirmPassword,onChange:q=>C("confirmPassword",q.target.value),placeholder:"Conferma la tua password"}),g.confirmPassword&&c.jsx("div",{className:"form-error",children:g.confirmPassword})]}),c.jsx("button",{type:"submit",className:"action-btn",disabled:x||d,children:x?h==="login"?"Accesso...":"Registrazione...":h==="login"?"Accedi":"Registrati"})]})]})]})}):null}const pr=Object.freeze(Object.defineProperty({__proto__:null,AuthOverlay:Lv},Symbol.toStringTag,{value:"Module"}));function Fb(){const r=Tt(),i=()=>{r("/messages")},s=()=>{r("/saved")},l=()=>{};return c.jsxs("div",{className:"header-icons",children:[c.jsx("button",{className:"header-icon-btn",onClick:i,"aria-label":"Messaggi",title:"Messaggi",children:c.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),c.jsx("button",{className:"header-icon-btn",onClick:s,"aria-label":"Elementi salvati",title:"Elementi salvati",children:c.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),c.jsx("button",{className:"header-icon-btn",onClick:l,"aria-label":"Notifiche",title:"Notifiche",children:c.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})})]})}function Yt({src:r,alt:i,name:s,size:l="md",variant:u="default",onClick:d,className:h=""}){const v=b=>{if(!b)return null;if(b.includes("@")){const S=b.split("@")[0];return v(S)}if(b.includes(".")&&!b.includes(" "))return b.split(".").map(E=>E.charAt(0).toUpperCase()).slice(0,2).join("");const x=b.trim().split(/\s+/);if(x.length===1){const S=x[0];return S.length>=2?(S.charAt(0)+S.charAt(1)).toUpperCase():S.charAt(0).toUpperCase()}return x.map(S=>S.charAt(0).toUpperCase()).slice(0,2).join("")},m=()=>{const b="avatar",x=`avatar-${l}`,S=`avatar-${u}`;return[b,x,S,d?"avatar-clickable":"",h].filter(Boolean).join(" ")},p=()=>{d&&d()},g=b=>{d&&(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),d())};return c.jsx("div",{className:m(),onClick:p,onKeyPress:g,tabIndex:d?0:void 0,role:d?"button":void 0,"aria-label":i||`Avatar di ${s||"utente"}`,children:r?c.jsx("img",{src:r,alt:i||`Avatar di ${s||"utente"}`,className:"avatar-image",loading:"lazy"}):c.jsx("div",{className:"avatar-placeholder",children:v(s)||c.jsx("svg",{className:"avatar-icon",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})})}function Wb(){const{user:r,profile:i,loading:s,signOut:l}=Qe(),[u,d]=w.useState(!1),h=w.useRef(null),v=Tt();if(w.useEffect(()=>{const g=b=>{h.current&&!h.current.contains(b.target)&&d(!1)};return u&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[u]),s||!r)return null;const m=()=>{if(i?.full_name)return i.full_name;if(i?.username)return i.username;if(r?.email){const g=r.email.split("@")[0];return g.includes(".")?g.split(".").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" "):g}return"Utente"},p=g=>{switch(g){case"client":return"Cliente";case"artist":return"Artista";default:return g}};if(!i){const b=(()=>{if(!r?.email)return"U";const x=r.email.split("@")[0];return x.includes(".")?x.split(".").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" "):x})();return c.jsxs("div",{className:"profile-dropdown",children:[c.jsx(Yt,{name:b,size:"sm",variant:"default",onClick:()=>d(!u)}),u&&c.jsxs("div",{className:"dropdown-menu",children:[c.jsxs("div",{className:"dropdown-header",children:[c.jsx("div",{className:"avatar avatar-sm avatar-default",children:c.jsx("div",{className:"avatar-placeholder",children:b.split(" ").map(x=>x[0]).join("").substring(0,2).toUpperCase()})}),c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-name",children:b}),c.jsx("div",{className:"user-type",children:"Cliente"})]})]}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("button",{className:"dropdown-item become-artist-btn",onClick:()=>{v("/become-artist"),d(!1)},children:"Diventi un'artista"}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("button",{className:"dropdown-item",onClick:()=>{},children:"Impostazioni"}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("button",{className:"dropdown-item logout-item",onClick:()=>{l(),d(!1)},children:"Esci"})]})]})}return c.jsxs("div",{className:"profile-dropdown",ref:h,children:[c.jsx(Yt,{src:i.avatar_url,name:i.full_name,alt:`Avatar di ${m()}`,size:"sm",variant:"default",onClick:()=>d(!u)}),u&&c.jsxs("div",{className:"dropdown-menu",children:[c.jsxs("div",{className:"dropdown-header",children:[c.jsx("div",{className:"avatar avatar-sm avatar-default","aria-label":`Avatar di ${m()}`,children:i.avatar_url?c.jsx("img",{src:i.avatar_url,alt:`Avatar di ${m()}`,className:"avatar-image"}):c.jsx("div",{className:"avatar-placeholder",children:(i.full_name||m()).split(" ").map(g=>g[0]).join("").substring(0,2).toUpperCase()})}),c.jsxs("div",{className:"user-info",children:[c.jsx("div",{className:"user-name",children:i.full_name&&i.full_name.trim()?i.full_name:m()}),c.jsx("div",{className:"user-type",children:p(i.profile_type)})]})]}),c.jsx("div",{className:"dropdown-divider"}),i.profile_type!=="artist"&&c.jsx("button",{className:"dropdown-item become-artist-btn",onClick:()=>{v("/become-artist"),d(!1)},children:"Diventi un'artista"}),c.jsx("div",{className:"dropdown-divider"}),i.profile_type==="artist"&&c.jsx("button",{className:"dropdown-item",onClick:()=>{v("/profile"),d(!1)},children:"Il mio profilo"}),c.jsx("button",{className:"dropdown-item",onClick:()=>{},children:"Impostazioni"}),c.jsx("div",{className:"dropdown-divider"}),c.jsx("button",{className:"dropdown-item logout-item",onClick:()=>{l(),d(!1)},children:"Esci"})]})]})}function ex({onLogoClick:r,children:i,onAuthRequired:s,hideOnMobile:l=!1}){const{user:u,loading:d}=Qe(),h=()=>{s?.()};return c.jsx("header",{className:`header ${l?"hide-on-mobile":""}`,children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"header-content",children:[c.jsx("span",{className:"logo",onClick:r,children:"SKUNK"}),i,c.jsx("div",{className:"user-section",children:d?c.jsx("div",{className:"auth-loading",children:"..."}):u?c.jsxs(c.Fragment,{children:[c.jsx(Fb,{}),c.jsx(Wb,{})]}):c.jsx("button",{className:"btn btn-primary auth-btn",onClick:h,children:"Login/Registrati"})})]})})})}function Gt({onSearch:r,onLogoClick:i,hideOnMobile:s=!1}){const l=Tt(),[u,d]=w.useState(""),[h,v]=w.useState(""),[m,p]=w.useState(!1),[g,b]=w.useState(!1),x=()=>{l(`/?search=${encodeURIComponent(u)}&location=${encodeURIComponent(h)}`),r?.(u,h),b(!1)},S=O=>{O.key==="Enter"&&x()},E=()=>{setTimeout(()=>{const O=document.activeElement,N=O?.closest(".location-input-container"),k=O?.closest(".search-btn");!N&&!k&&b(!1)},100)};return c.jsxs(c.Fragment,{children:[c.jsx(ex,{onLogoClick:i,onAuthRequired:()=>p(!0),hideOnMobile:s,children:c.jsxs("div",{className:"search-form",children:[c.jsxs("div",{className:"search-input-container",children:[c.jsx("span",{className:"search-icon",children:"🔍"}),c.jsx("input",{type:"text",className:"search-input",placeholder:"Cerca tatuaggi, artisti...",value:u,onChange:O=>d(O.target.value),onKeyPress:S})]}),c.jsxs("div",{className:"location-input-container",children:[c.jsx("span",{className:"location-icon",children:"📍"}),c.jsx(Em,{value:h,onChange:v,onKeyPress:S})]}),c.jsxs("button",{className:"btn btn-accent search-btn",onClick:x,children:[c.jsx("span",{className:"btn-icon",children:"→"}),"Cerca"]})]})}),!s&&c.jsx("div",{className:"mobile-search-container",children:c.jsxs("div",{className:"search-form",children:[c.jsxs("div",{className:"search-input-container",children:[c.jsx("span",{className:"search-icon",children:"🔍"}),c.jsx("input",{type:"text",className:"search-input",placeholder:"Cerca tatuaggi, artisti...",value:u,onChange:O=>d(O.target.value),onKeyPress:S,onFocus:()=>b(!0),onBlur:E})]}),g&&c.jsxs("div",{className:"location-input-container",children:[c.jsx("span",{className:"location-icon",children:"📍"}),c.jsx(Em,{value:h,onChange:v,onKeyPress:S})]}),g&&c.jsxs("button",{className:"btn btn-accent search-btn",onClick:x,children:[c.jsx("span",{className:"btn-icon",children:"→"}),"Cerca"]})]})}),c.jsx(Lv,{isOpen:m,onClose:()=>p(!1)})]})}const tx=["NEOREALISMO","OLD SCHOOL","NEW SCHOOL","REALISMO","TRIBALE","GIAPPONESE","BLACKWORK","MINIMALISTA","WATERCOLOR","GEOMETRICO"];function ax({onCategoryChange:r,onViewModeChange:i,viewMode:s="portfolio",searchSource:l}){const[u,d]=w.useState("");w.useEffect(()=>{l==="search-bar"&&d("")},[l]);const h=m=>{const p=u===m?"":m;d(p),r?.(p)},v=m=>{i?.(m)};return c.jsx("section",{className:"category-bar",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"category-content",children:[c.jsx("div",{className:"category-filters",children:c.jsx("div",{className:"category-tags",children:tx.map(m=>c.jsx("button",{className:`category-tag ${u===m?"active":""}`,onClick:()=>h(m),children:m},m))})}),c.jsxs("div",{className:"view-toggle",children:[c.jsx("button",{className:`toggle-btn ${s==="portfolio"?"active":""}`,onClick:()=>v("portfolio"),children:"Opere"}),c.jsx("button",{className:`toggle-btn ${s==="artists"?"active":""}`,onClick:()=>v("artists"),children:"Artisti"})]})]})})})}function gu(){const{user:r,profile:i}=Qe(),[s,l]=w.useState(new Set),[u,d]=w.useState(!1),h=w.useCallback(()=>i?.user_id?i.user_id:r?.id?r.id:null,[r,i]),v=w.useCallback(async()=>{const x=h();if(!x){l(new Set);return}try{d(!0);const{data:S,error:E}=await fe.from("saved_tattoos").select("portfolio_item_id").eq("user_id",x);if(E){console.error("Error loading saved tattoos:",E.message);return}const O=new Set(S.map(N=>N.portfolio_item_id));l(O)}catch(S){console.error("Error loading saved tattoos:",S)}finally{d(!1)}},[h]),m=w.useCallback(async x=>{if(!r)return console.warn("User must be logged in to save tattoos"),!1;try{const{error:S}=await fe.from("saved_tattoos").insert([{user_id:r.id,portfolio_item_id:x}]);return S?(console.error("Error saving tattoo:",S.message),!1):(l(E=>new Set([...E,x])),!0)}catch(S){return console.error("Error saving tattoo:",S),!1}},[r]),p=w.useCallback(async x=>{const S=h();if(!S)return console.warn("User must be logged in to unsave tattoos"),!1;try{const{error:E}=await fe.from("saved_tattoos").delete().eq("user_id",S).eq("portfolio_item_id",x);return E?(console.error("Error unsaving tattoo:",E.message),!1):(l(O=>{const N=new Set(O);return N.delete(x),N}),!0)}catch(E){return console.error("Error unsaving tattoo:",E),!1}},[h]),g=w.useCallback(async x=>s.has(x)?await p(x):await m(x),[s,m,p]),b=w.useCallback(x=>s.has(x),[s]);return w.useEffect(()=>{v()},[v]),{savedTattoos:s,loading:u,saveTattoo:m,unsaveTattoo:p,toggleSave:g,isTattooSaved:b,refreshSavedTattoos:v}}function Bv(r){const{user:i}=Qe(),[s,l]=w.useState(!1),[u,d]=w.useState(0),[h,v]=w.useState(!1),[m,p]=w.useState(!1);w.useEffect(()=>{r&&g()},[r,i]);const g=async()=>{try{const{error:S}=await fe.from("portfolio_likes").select("id",{count:"exact",head:!0}).limit(1);if(S&&(S.code==="PGRST116"||S.message?.includes("406"))){console.warn("Portfolio likes table not configured yet - likes feature disabled"),p(!1);return}p(!0),b()}catch(S){console.warn("Portfolio likes table not available:",S),p(!1)}},b=async()=>{try{if(i){const{data:S,count:E,error:O}=await fe.from("portfolio_likes").select("user_id",{count:"exact"}).eq("portfolio_item_id",r);if(O&&(O.code==="PGRST116"||O.message?.includes("406")||O.code==="42501")){console.warn("Portfolio likes: RLS policies not configured correctly, using fallback"),d(0),l(!1);return}d(E||0),l(S?.some(N=>N.user_id===i.id)||!1)}else{const{count:S,error:E}=await fe.from("portfolio_likes").select("*",{count:"exact",head:!0}).eq("portfolio_item_id",r);if(E&&(E.code==="PGRST116"||E.message?.includes("406")||E.code==="42501")){console.warn("Portfolio likes: RLS policies not configured correctly, using fallback"),d(0),l(!1);return}d(S||0),l(!1)}}catch(S){console.error("Error fetching like data:",S),d(0),l(!1)}};return{isLiked:s,likeCount:u,toggleLike:async()=>{if(!i)throw new Error("Authentication required");if(!m)throw new Error("Portfolio likes table not configured. Please run the SQL setup script.");v(!0);try{if(s){const{error:S}=await fe.from("portfolio_likes").delete().eq("portfolio_item_id",r).eq("user_id",i.id);if(S)throw S.code==="PGRST116"||S.message?.includes("406")?new Error("Portfolio likes table not configured. Please run the SQL setup script."):S;l(!1),d(E=>E-1)}else{const{error:S}=await fe.from("portfolio_likes").insert({portfolio_item_id:r,user_id:i.id});if(S)throw S.code==="PGRST116"||S.message?.includes("406")?new Error("Portfolio likes table not configured. Please run the SQL setup script."):S;l(!0),d(E=>E+1)}}catch(S){throw console.error("Error toggling like:",S),S}finally{v(!1)}},loading:h,tableExists:m}}function Nt({icon:r,text:i,variant:s="portfolio",active:l=!1,disabled:u=!1,onClick:d,className:h="",requiresAuth:v=!1,onAuthRequired:m}){const{user:p}=Qe(),g="action-btn",b=l?"active":"",x=u?"disabled":"",S=E=>{if(!u){if(v&&!p&&m){m();return}d&&d(E)}};return c.jsxs("button",{className:`${g} ${b} ${x} ${h}`.trim(),onClick:S,disabled:u,children:[c.jsx("span",{className:"action-icon",children:r}),c.jsx("span",{className:"action-text",children:i})]})}const qv=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),Hv=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),nx=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),Yc=()=>c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M12 5v14m7-7l-7-7-7 7"})}),ix=()=>c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("polyline",{points:"3,6 5,6 21,6"}),c.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),c.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),c.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),sx=()=>c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),c.jsx("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]}),$v=r=>{const i=r.currentTarget;i.style.display="none"},Gv=r=>r||"";function lx({item:r,isOpen:i,onClose:s,onArtistClick:l,onAuthRequired:u,onContactArtist:d}){const{profile:h}=Qe(),{toggleSave:v,isTattooSaved:m}=gu(),{isLiked:p,likeCount:g,toggleLike:b,loading:x,tableExists:S}=Bv(r.id);if(w.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),w.useEffect(()=>{const C=Y=>{Y.key==="Escape"&&s()};return i&&document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[i,s]),!i)return null;const E=r.is_flash?"FLASH":"REALIZZATO",O=r.full_name||r.artist_name||"Unknown Artist",N=()=>{const C=r.user_id||r.id;l&&C&&(s(),l(C))},k=async()=>{try{await b()}catch(C){console.error("Error toggling like:",C)}},L=C=>{C.target===C.currentTarget&&s()};return c.jsx("div",{className:"portfolio-modal-overlay",onClick:L,children:c.jsxs("div",{className:"portfolio-modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("button",{className:"modal-close-btn",onClick:s,children:"×"})}),c.jsxs("div",{className:"modal-image-section",children:[r.image_url&&c.jsx("img",{src:Gv(r.image_url),alt:r.title||"Portfolio Item",className:"modal-portfolio-image",onError:$v}),c.jsx("span",{className:`modal-badge ${E.toLowerCase()}`,children:E}),r.price&&c.jsxs("span",{className:"modal-price",children:["€",r.price]})]}),c.jsxs("div",{className:"modal-details-section",children:[c.jsxs("div",{className:"modal-artist-info",children:[c.jsx("div",{onClick:N,style:{cursor:"pointer"},children:c.jsx(Yt,{src:r.artist_avatar_url,name:O,alt:`Avatar di ${O}`,size:"lg",variant:"default"})}),c.jsx("span",{className:"modal-artist-name",onClick:N,style:{cursor:"pointer"},children:O})]}),c.jsx("h2",{className:"modal-portfolio-title",children:r.title||"Senza titolo"}),r.tags&&r.tags.length>0&&c.jsx("div",{className:"modal-portfolio-tags",children:r.tags.map((C,Y)=>c.jsx("span",{className:"modal-portfolio-tag",children:C},Y))}),r.description&&c.jsxs("div",{className:"modal-description-section",children:[c.jsx("h3",{className:"modal-section-title",children:"Descrizione"}),c.jsx("p",{className:"modal-portfolio-description",children:r.description})]}),c.jsxs("div",{className:"modal-meta-info",children:[c.jsxs("div",{className:"modal-meta-item",children:[c.jsx("span",{className:"modal-meta-icon",children:"📅"}),c.jsx("span",{className:"modal-meta-label",children:"Creato il:"}),c.jsx("span",{className:"modal-meta-value",children:new Date(r.created_at).toLocaleDateString("it-IT")})]}),r.location&&c.jsxs("div",{className:"modal-meta-item",children:[c.jsx("span",{className:"modal-meta-icon",children:"📍"}),c.jsx("span",{className:"modal-meta-label",children:"Posizione:"}),c.jsx("span",{className:"modal-meta-value",children:r.location})]})]}),c.jsxs("div",{className:"modal-portfolio-actions",children:[S&&c.jsx(Nt,{icon:c.jsx(Hv,{}),text:g>0?`Mi piace (${g})`:"Mi piace",variant:"modal",active:p,disabled:x,requiresAuth:!0,onAuthRequired:u,onClick:k}),c.jsx(Nt,{icon:c.jsx(qv,{}),text:m(r.id)?"Salvato":"Salva",variant:"modal",active:m(r.id),requiresAuth:!0,onAuthRequired:u,onClick:()=>v(r.id)}),h?.user_id!==r.user_id&&c.jsx(Nt,{icon:c.jsx(nx,{}),text:"Contatta artista",variant:"modal",requiresAuth:!0,onAuthRequired:u,onClick:()=>d&&d(r.user_id)})]})]})]})})}function Sn({item:r,onArtistClick:i,onAuthRequired:s,onContactArtist:l,showDeleteButton:u,onDelete:d}){const[h,v]=w.useState(!1),{toggleSave:m,isTattooSaved:p}=gu(),{isLiked:g,likeCount:b,toggleLike:x,loading:S,tableExists:E}=Bv(r.id),O=r.is_flash?"FLASH":"REALIZZATO",N=r.price,k=r.full_name||r.artist_name||"Unknown Artist",L=P=>{P.stopPropagation();const te=r.user_id||r.id;i&&te&&i(te)},C=P=>{P.target.closest(".portfolio-actions")||v(!0)},Y=()=>{v(!1)},q=async P=>{P.stopPropagation();try{await x()}catch(te){console.error("Error toggling like:",te)}},U=P=>{P.stopPropagation(),d&&d(r.id)};return c.jsxs(c.Fragment,{children:[c.jsxs("article",{className:"card portfolio-card",onClick:C,children:[u&&c.jsx("button",{className:"modal-close-btn delete-portfolio-btn",onClick:U,title:"Elimina elemento",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("polyline",{points:"3,6 5,6 21,6"}),c.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),c.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),c.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),c.jsxs("div",{className:"image-section",children:[r.image_url?c.jsx("img",{src:Gv(r.image_url),alt:r.title||"Portfolio Item",className:"portfolio-image",onError:$v}):c.jsxs("div",{className:"image-placeholder",children:[c.jsxs("svg",{className:"placeholder-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),c.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),c.jsx("polyline",{points:"21,15 16,10 5,21"})]}),c.jsx("span",{className:"placeholder-text",children:"Immagine non disponibile"})]}),c.jsx("span",{className:`badge ${O.toLowerCase()}`,children:O}),N&&c.jsxs("span",{className:"price",children:["€",N]})]}),c.jsxs("div",{className:"content-section",children:[c.jsxs("div",{className:"artist-info",children:[c.jsx("div",{onClick:L,style:{cursor:"pointer"},children:c.jsx(Yt,{src:r.artist_avatar_url,name:k,alt:`Avatar di ${k}`,size:"sm",variant:"default"})}),c.jsx("span",{className:"artist-name",onClick:L,style:{cursor:"pointer"},children:k})]}),c.jsx("h3",{className:"portfolio-title",children:r.title||"Senza titolo"}),r.tags&&r.tags.length>0&&c.jsx("div",{className:"portfolio-tags",children:r.tags.map((P,te)=>c.jsx("span",{className:"portfolio-tag",children:P},te))}),r.description&&c.jsx("p",{className:"portfolio-description",children:r.description}),c.jsxs("div",{className:"meta-info",children:[c.jsxs("span",{className:"meta-date",children:[c.jsx("span",{className:"meta-icon",children:"📅"}),new Date(r.created_at).toLocaleDateString("it-IT")]}),r.location&&c.jsxs("span",{className:"meta-location",children:[c.jsx("span",{className:"meta-icon",children:"📍"}),r.location]})]}),c.jsxs("div",{className:"portfolio-actions",children:[E&&c.jsx(Nt,{icon:c.jsx(Hv,{}),text:b>0?`Mi piace (${b})`:"Mi piace",variant:"portfolio",active:g,disabled:S,requiresAuth:!0,onAuthRequired:s,onClick:q}),c.jsx(Nt,{icon:c.jsx(qv,{}),text:p(r.id)?"Salvato":"Salva",variant:"portfolio",active:p(r.id),requiresAuth:!0,onAuthRequired:s,onClick:P=>{P.stopPropagation(),m(r.id)}})]})]})]}),c.jsx(lx,{item:r,isOpen:h,onClose:Y,onArtistClick:i,onAuthRequired:s,onContactArtist:l})]})}w.memo(Sn);function Pt({fullScreen:r=!1,size:i="medium"}){const s={small:{width:"12px",height:"12px",gap:"3px"},medium:{width:"16px",height:"16px",gap:"4px"},large:{width:"20px",height:"20px",gap:"5px"}},l=r?"fixed top-0 left-0 w-full h-full bg-white flex justify-center items-center z-50":"flex justify-center items-center p-4",{width:u,height:d,gap:h}=s[i];return c.jsx("div",{className:l,children:c.jsxs("div",{className:"brutalist-spinner",style:{gap:h},children:[c.jsx("div",{className:"brutalist-block",style:{width:u,height:d}}),c.jsx("div",{className:"brutalist-block",style:{width:u,height:d}}),c.jsx("div",{className:"brutalist-block",style:{width:u,height:d}}),c.jsx("div",{className:"brutalist-block",style:{width:u,height:d}})]})})}function Pv({loading:r,error:i,data:s,searchTerm:l,locationFilter:u,children:d,emptyTitle:h="Nessun risultato",searchEmptyMessage:v="Nessun risultato trovato per i criteri selezionati",fallbackEmptyMessage:m="Non ci sono ancora elementi"}){const p=l.trim()||u.trim();return r?c.jsx("section",{className:"grid-container",children:c.jsx("div",{className:"container",children:c.jsx("div",{className:"loading-state",children:c.jsx(Pt,{size:"large"})})})}):i?c.jsx("section",{className:"grid-container",children:c.jsx("div",{className:"container",children:c.jsx("div",{className:"error-state",children:c.jsxs("div",{className:"error-card",children:[c.jsx("h2",{className:"error-title",children:"Errore di caricamento"}),c.jsx("p",{className:"error-message",children:i}),c.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>window.location.reload(),children:"Riprova"})]})})})}):s.length===0?c.jsx("section",{className:"grid-container",children:c.jsx("div",{className:"container",children:c.jsx("div",{className:"empty-state",children:c.jsxs("div",{className:"empty-card",children:[c.jsx("h3",{className:"empty-title",children:h}),c.jsx("p",{className:"empty-message",children:p?v:m})]})})})}):c.jsx(c.Fragment,{children:d})}const rx=w.memo(function({items:i,loading:s,error:l,searchTerm:u,locationFilter:d,flashFilter:h,totalCount:v,filteredCount:m,onArtistClick:p,onFlashFilterChange:g,onAuthRequired:b,onContactArtist:x}){const[S,E]=w.useState(!1),O=w.useRef(null);w.useEffect(()=>{const C=Y=>{O.current&&!O.current.contains(Y.target)&&E(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const N=w.useCallback(C=>{g?.(C),E(!1)},[g]),k=C=>{switch(C){case"all":return"Tutti";case"flash":return"Flash";case"realizzati":return"Realizzati"}},L=u.trim()||d.trim();return c.jsx(Pv,{loading:s,error:l,data:i,searchTerm:u,locationFilter:d,searchEmptyMessage:"Nessuna opera trovata per i criteri selezionati",fallbackEmptyMessage:"Il portfolio è ancora vuoto",children:c.jsx("section",{className:"grid-container",children:c.jsxs("div",{className:"container",children:[c.jsx("div",{className:"grid-header",children:c.jsxs("div",{className:"header-card",children:[c.jsxs("div",{className:"header-top",children:[c.jsx("h2",{className:"grid-title",children:"Portfolio opere"}),c.jsxs("div",{className:"filter-dropdown",ref:O,children:[c.jsxs("button",{className:"action-btn",onClick:()=>E(!S),"aria-expanded":S,children:[c.jsx("span",{className:"action-icon",children:c.jsx("svg",{className:"filter-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})})}),c.jsx("span",{className:"action-text",children:k(h)}),c.jsx("span",{className:"action-icon",children:c.jsx("svg",{className:`chevron-icon ${S?"open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("polyline",{points:"6,9 12,15 18,9"})})})]}),S&&c.jsxs("div",{className:"filter-dropdown-menu",children:[c.jsx("button",{className:`filter-option ${h==="all"?"active":""}`,onClick:()=>N("all"),children:"Tutti"}),c.jsx("button",{className:`filter-option ${h==="flash"?"active":""}`,onClick:()=>N("flash"),children:"Flash"}),c.jsx("button",{className:`filter-option ${h==="realizzati"?"active":""}`,onClick:()=>N("realizzati"),children:"Realizzati"})]})]})]}),c.jsxs("div",{className:"grid-stats",children:[c.jsx("span",{className:"stat-count",children:L?m:v}),c.jsx("span",{className:"stat-label",children:L?"risultati":"opere totali"})]}),L&&c.jsxs("div",{className:"search-info",children:[u&&c.jsxs("span",{className:"search-term",children:['"',u,'"']}),d&&c.jsx("span",{className:"location-term",children:d})]})]})}),c.jsx("div",{className:"portfolio-grid",children:i.map(C=>c.jsx(Sn,{item:C,onArtistClick:p,onAuthRequired:b,onContactArtist:x},C.id))})]})})})});function gr(){const{user:r}=Qe(),[i,s]=w.useState(new Map),[l,u]=w.useState(!1),d=w.useCallback(async g=>{if(g.length!==0){u(!0);try{const{data:b,error:x}=await fe.from("followers").select("following_id").in("following_id",g);if(x)throw x;const S=g.reduce((N,k)=>(N[k]=b?.filter(L=>L.following_id===k).length||0,N),{});let E={};if(r){const{data:N,error:k}=await fe.from("followers").select("following_id").eq("follower_id",r.id).in("following_id",g);if(k)throw k;E=g.reduce((L,C)=>(L[C]=N?.some(Y=>Y.following_id===C)||!1,L),{})}const O=new Map;g.forEach(N=>{O.set(N,{user_id:N,follower_count:S[N]||0,is_following:E[N]||!1})}),s(O)}catch(b){console.error("Error fetching follower stats:",b)}finally{u(!1)}}},[r]),h=w.useCallback(async g=>{if(!r)return{error:"Authentication required"};if(i.get(g)?.is_following)return{success:!0};try{const{error:x}=await fe.from("followers").insert({follower_id:r.id,following_id:g});if(x){if(x.code==="23505")return{success:!0};throw x}return s(S=>{const E=new Map(S),O=E.get(g);return O&&E.set(g,{...O,follower_count:O.follower_count+1,is_following:!0}),E}),{success:!0}}catch(x){return console.error("Error following artist:",x),{error:"Failed to follow artist"}}},[r,i]),v=w.useCallback(async g=>{if(!r)return{error:"Authentication required"};if(!i.get(g)?.is_following)return{success:!0};try{const{error:x}=await fe.from("followers").delete().eq("follower_id",r.id).eq("following_id",g);if(x)throw x;return s(S=>{const E=new Map(S),O=E.get(g);return O&&E.set(g,{...O,follower_count:Math.max(0,O.follower_count-1),is_following:!1}),E}),{success:!0}}catch(x){return console.error("Error unfollowing artist:",x),{error:"Failed to unfollow artist"}}},[r,i]),m=w.useCallback(async g=>i.get(g)?.is_following?await v(g):await h(g),[i,h,v]),p=w.useCallback(g=>i.get(g)||{user_id:g,follower_count:0,is_following:!1},[i]);return{followerStats:i,loading:l,fetchFollowerStats:d,followArtist:h,unfollowArtist:v,toggleFollow:m,getFollowerStats:p}}function Vv({profile:r,onArtistClick:i,onAuthRequired:s,onContactArtist:l,onFollowUpdate:u}){const{user:d,profile:h}=Qe(),{getFollowerStats:v,toggleFollow:m,fetchFollowerStats:p}=gr(),g=r.full_name||r.username||"Unknown Artist",x=v(r.user_id)?.is_following||!1,S=h&&r.user_id===h.user_id;w.useEffect(()=>{p([r.user_id])},[r.user_id,p]);const E=k=>{k.target.closest(".artist-actions")||i&&i(r.user_id)},O=async k=>{if(k.stopPropagation(),!S){if(!d&&s){s();return}d&&(await m(r.user_id)).success&&u&&u(r.user_id,!x)}},N=k=>{if(k.stopPropagation(),!S){if(!d&&s){s();return}l&&l(r.user_id)}};return c.jsxs("article",{className:"card artist-card",onClick:E,style:{cursor:"pointer"},children:[c.jsxs("div",{className:"artist-header",children:[c.jsx(Yt,{src:r.avatar_url,name:g,alt:`Avatar di ${g}`,size:"md",variant:"card"}),c.jsxs("div",{className:"artist-info",children:[c.jsx("h3",{className:"artist-name",children:g}),r.location&&c.jsxs("span",{className:"artist-location",children:["📍 ",r.location]})]})]}),c.jsx("p",{className:"artist-bio",children:r.bio||""}),c.jsx("div",{className:"artist-meta",children:c.jsxs("span",{className:"join-date",children:[c.jsx("span",{className:"join-icon",children:"📅"}),"Iscritto dal ",new Date(r.created_at).toLocaleDateString("it-IT")]})}),c.jsxs("div",{className:"artist-actions",children:[c.jsxs("button",{className:`action-btn ${x?"active":""} ${S?"disabled":""}`,onClick:O,children:[c.jsx("span",{className:"action-icon",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}),c.jsx("span",{className:"action-text",children:x?"Seguito":"Segui"})]}),c.jsxs("button",{className:`action-btn ${S?"disabled":""}`,onClick:N,children:[c.jsx("span",{className:"action-icon",children:S?c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),c.jsx("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]}):c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),c.jsx("span",{className:"action-text",children:"Contatta"})]})]})]})}w.memo(Vv);function ox({profiles:r,loading:i,error:s,searchTerm:l,locationFilter:u,totalCount:d,filteredCount:h,onArtistClick:v,onAuthRequired:m,onContactArtist:p}){const{fetchFollowerStats:g}=gr();w.useEffect(()=>{if(r.length>0){const x=r.map(S=>S.user_id);g(x)}},[r,g]);const b=l.trim()||u.trim();return c.jsx(Pv,{loading:i,error:s,data:r,searchTerm:l,locationFilter:u,emptyTitle:"Nessun artista",searchEmptyMessage:"Nessun artista trovato per i criteri selezionati",fallbackEmptyMessage:"Non ci sono ancora artisti registrati",children:c.jsx("section",{className:"grid-container",children:c.jsxs("div",{className:"container",children:[c.jsx("div",{className:"grid-header",children:c.jsxs("div",{className:"header-card",children:[c.jsx("h2",{className:"grid-title",children:"Artisti"}),c.jsxs("div",{className:"grid-stats",children:[c.jsx("span",{className:"stat-count",children:b?h:d}),c.jsx("span",{className:"stat-label",children:b?"risultati":"artisti totali"})]}),b&&c.jsxs("div",{className:"search-info",children:[l&&c.jsxs("span",{className:"search-term",children:['"',l,'"']}),u&&c.jsx("span",{className:"location-term",children:u})]})]})}),c.jsx("div",{className:"artist-grid",children:r.map(x=>c.jsx(Vv,{profile:x,onArtistClick:v,onAuthRequired:m,onContactArtist:p},x.id))})]})})})}const Im={PORTFOLIO_ITEMS_LIMIT:50,ARTIST_PROFILES_LIMIT:100,MAX_BIO_LENGTH:500,MAX_TITLE_LENGTH:100,MAX_LOCATION_LENGTH:100,MAX_DESCRIPTION_LENGTH:500,BREAKPOINTS:{MOBILE_MAX:"767px",TABLET_MIN:"768px",DESKTOP_MIN:"1024px",LARGE_MIN:"1536px"},DEFAULT_FOLLOWER_COUNT:1247,ROUTES:{HOME:"/",PROFILE:"/profile",SAVED:"/saved",MESSAGES:"/messages",ARTIST:"/artist",BECOME_ARTIST:"/become-artist"}};function cx(){const[r,i]=w.useState([]),[s,l]=w.useState([]),[u,d]=w.useState("portfolio"),[h,v]=w.useState(!0),[m,p]=w.useState(null),[g,b]=w.useState(""),[x,S]=w.useState(""),[E,O]=w.useState("all"),N=w.useCallback(async()=>{try{v(!0),p(null);const{data:X,error:Q}=await fe.from("portfolio_items").select(`
          *,
          profiles!inner(
            user_id,
            full_name,
            username,
            profile_type,
            bio,
            avatar_url,
            location
          )
        `).eq("profiles.profile_type","artist").order("created_at",{ascending:!1}).limit(Im.PORTFOLIO_ITEMS_LIMIT);if(Q)throw Q;const le=X?.map(ae=>{const me=ae.profiles;return{...ae,profiles:void 0,description:ae.description??"",tags:Array.isArray(ae.tags)?ae.tags:[],image_url:ae.image_url??"",artist_name:me?.full_name??me?.username??"",full_name:me?.full_name??null,artist_avatar_url:me?.avatar_url??null,location:me?.location??ae.location??null}})||[];i(le)}catch(X){p(`Database error: ${X.message}`),i([])}finally{v(!1)}},[]),k=w.useCallback(async()=>{try{const{data:X,error:Q}=await fe.from("profiles").select(`
          id,
          user_id,
          email,
          full_name,
          username,
          profile_type,
          bio,
          avatar_url,
          phone,
          location,
          created_at,
          updated_at
        `).eq("profile_type","artist").order("created_at",{ascending:!1}).limit(Im.ARTIST_PROFILES_LIMIT);if(Q)throw Q;l(X||[])}catch{console.warn("Failed to fetch artist profiles"),l([])}},[]),L=w.useMemo(()=>{if(r.length===0)return[];let X=r;E==="flash"?X=X.filter(Z=>Z.is_flash===!0):E==="realizzati"&&(X=X.filter(Z=>Z.is_flash===!1));const Q=g.trim(),le=x.trim();if(!Q&&!le)return X;const ae=Q?g.toLowerCase().trim():"",me=le?x.toLowerCase().trim():"",H=Q?ae.split(/\s+/).filter(Z=>Z.length>0):[];return X.filter(Z=>{if(le){const ee=Z.location?.toLowerCase();if(!ee||!ee.includes(me))return!1}if(Q&&H.length>0){const ee=[Z.title?.toLowerCase()||"",Z.description?.toLowerCase()||"",Z.artist_name?.toLowerCase()||"",...Array.isArray(Z.tags)?Z.tags.map(xe=>xe?.toLowerCase()||""):[]].join(" ");for(const xe of H)if(!ee.includes(xe))return!1}return!0})},[r,g,x,E]),C=w.useMemo(()=>{if(!g.trim()&&!x.trim())return s;const X=g.toLowerCase().trim(),Q=x.toLowerCase().trim();return s.filter(le=>{const ae=!X||le.full_name?.toLowerCase().includes(X)||le.username?.toLowerCase().includes(X)||le.bio?.toLowerCase().includes(X)||le.email?.toLowerCase().includes(X),me=!Q||le.location?.toLowerCase().includes(Q);return ae&&me})},[s,g,x]),Y=(X,Q)=>{b(X),S(Q)},q=()=>{b(""),S("")},U=X=>{O(X)},P=w.useCallback(X=>{d(X)},[]),[te,se]=w.useState(!1);w.useEffect(()=>{te||Promise.all([N(),k()]).then(()=>se(!0)).catch(()=>se(!0))},[N,k,te]);const Ee=w.useCallback(()=>{se(!1),p(null),v(!0)},[]);return{portfolioItems:L,allItems:r,artistProfiles:C,allProfiles:s,viewMode:u,loading:h,error:m,searchTerm:g,locationFilter:x,flashFilter:E,search:Y,resetSearch:q,setFlashFilter:U,toggleViewMode:P,refetch:Ee,totalCount:r.length,filteredCount:L.length,profilesCount:s.length,filteredProfilesCount:C.length}}const ux=w.lazy(()=>Sa(()=>Promise.resolve().then(()=>pr),void 0).then(r=>({default:r.AuthOverlay})));function dx(){const r=Tt(),[i]=q0(),{profile:s}=Qe(),[l,u]=w.useState(null),[d,h]=w.useState(!1),{portfolioItems:v,artistProfiles:m,viewMode:p,loading:g,error:b,searchTerm:x,locationFilter:S,flashFilter:E,search:O,setFlashFilter:N,toggleViewMode:k,totalCount:L,filteredCount:C,profilesCount:Y,filteredProfilesCount:q}=cx();w.useEffect(()=>{const ae=i.get("search")||"",me=i.get("location")||"";(ae||me)&&(O(ae,me),u("search-bar"))},[i,O]);const U=w.useCallback((ae,me)=>{u("search-bar"),O(ae,me)},[O]),P=w.useCallback(ae=>{u("category"),O(ae,S)},[O,S]),te=w.useCallback(ae=>{N(ae)},[N]),se=w.useCallback(ae=>{k(ae)},[k]),Ee=w.useCallback(ae=>{s&&s.user_id===ae?r("/profile"):r(`/artist/${ae}`)},[r,s]),X=w.useCallback(()=>{window.location.reload()},[]),Q=w.useCallback(()=>{h(!0)},[]),le=w.useCallback(ae=>{r(`/messages/${ae}`)},[r]);return c.jsxs("div",{className:"app",children:[c.jsx("div",{className:"mobile-header",children:c.jsx("div",{className:"mobile-logo",onClick:X,children:c.jsx("span",{className:"mobile-logo-text",children:"SKUNK"})})}),c.jsx(Gt,{onSearch:U,onLogoClick:X}),c.jsx(ax,{onCategoryChange:P,onViewModeChange:se,viewMode:p,searchSource:l}),c.jsx("main",{className:"main-content",children:p==="portfolio"?c.jsx(rx,{items:v,loading:g,error:b,searchTerm:x,locationFilter:S,flashFilter:E,totalCount:L,filteredCount:C,onArtistClick:Ee,onFlashFilterChange:te,onAuthRequired:Q,onContactArtist:le}):c.jsx(ox,{profiles:m,loading:g,error:b,searchTerm:x,locationFilter:S,totalCount:Y,filteredCount:q,onArtistClick:Ee,onAuthRequired:Q,onContactArtist:le})}),d&&c.jsx(w.Suspense,{fallback:c.jsx("div",{className:"loading-state",children:c.jsx(Pt,{})}),children:c.jsx(ux,{isOpen:d,onClose:()=>h(!1)})})]})}function fx(r){const[i,s]=w.useState(null),[l,u]=w.useState([]),[d,h]=w.useState([]),[v,m]=w.useState(!0),[p,g]=w.useState(null),b=w.useCallback(async()=>{if(!r){m(!1);return}try{m(!0),g(null);const[x,S,E]=await Promise.allSettled([fe.from("profiles").select(`
            id,
            user_id,
            email,
            full_name,
            username,
            profile_type,
            bio,
            avatar_url,
            phone,
            location,
            created_at,
            updated_at
          `).eq("user_id",r).eq("profile_type","artist").single(),fe.from("portfolio_items").select(`
            id,
            user_id,
            title,
            description,
            image_url,
            tags,
            is_flash,
            price,
            location,
            created_at,
            updated_at
          `).eq("user_id",r).order("created_at",{ascending:!1}),fe.from("artist_services").select("*").eq("user_id",r).order("created_at",{ascending:!0})]);if(x.status==="fulfilled"&&!x.value.error)s(x.value.data);else{const O=x.status==="rejected"?x.reason:x.value.error;throw new Error(`Profile not found: ${O.message}`)}S.status==="fulfilled"&&!S.value.error?u(S.value.data||[]):(console.warn("Failed to fetch portfolio items"),u([])),E.status==="fulfilled"&&!E.value.error?h(E.value.data||[]):(console.warn("Failed to fetch artist services"),h([]))}catch(x){g(x.message),s(null),u([]),h([])}finally{m(!1)}},[r]);return w.useEffect(()=>{b()},[b]),{profile:i,portfolioItems:l,services:d,loading:v,error:p,refetch:b}}function hx(){const{artistId:r}=cv(),i=Tt(),{profile:s}=Qe(),{profile:l,portfolioItems:u,services:d,loading:h,error:v}=fx(r||""),{fetchFollowerStats:m,getFollowerStats:p,toggleFollow:g}=gr(),[b,x]=w.useState("portfolio"),S=l?p(l.user_id):null,E=S?.follower_count||0,O=S?.is_following||!1;if(w.useEffect(()=>{window.scrollTo(0,0)},[]),w.useEffect(()=>{l?.user_id&&m([l.user_id])},[l?.user_id,m]),w.useEffect(()=>{if(s&&r&&s.user_id===r){i("/profile",{replace:!0});return}},[s,r,i]),!r)return i("/"),null;const N=u.filter(U=>!U.is_flash),k=u.filter(U=>U.is_flash),L=(U,P)=>{i(`/?search=${encodeURIComponent(U)}&location=${encodeURIComponent(P)}`)},C=()=>{i("/")},Y=()=>{r&&i(`/messages/${r}`)},q=async()=>{l?.user_id&&await g(l.user_id)};return c.jsxs("div",{className:"artist-profile",children:[c.jsx(Gt,{onSearch:L,onLogoClick:C,hideOnMobile:!0}),c.jsx("main",{className:"artist-profile-content",children:c.jsx("div",{className:"container",children:h?c.jsx("div",{className:"loading-state",children:c.jsx(Pt,{size:"large"})}):v?c.jsxs("div",{className:"error-state",children:[c.jsx("h2",{children:"Errore nel caricamento del profilo"}),c.jsx("p",{children:v})]}):l?c.jsxs("div",{className:"artist-profile-main",children:[c.jsx("section",{className:"artist-profile-header",children:c.jsxs("div",{className:"profile-info",children:[c.jsx(Yt,{src:l.avatar_url,name:l.full_name||l.username,alt:`Avatar di ${l.full_name||l.username||"Artista"}`,size:"lg",variant:"bordered"}),c.jsxs("div",{className:"profile-details",children:[c.jsx("h1",{className:"profile-name",children:l.full_name||l.username||"Artista Sconosciuto"}),l.location&&c.jsxs("p",{className:"profile-location",children:["📍 ",l.location]}),l.bio&&c.jsx("p",{className:"profile-bio",children:l.bio}),c.jsx("div",{className:"profile-stats",children:c.jsxs("span",{className:"follower-count",children:[c.jsx("strong",{children:E.toLocaleString()})," follower"]})}),c.jsxs("div",{className:"artist-actions",children:[c.jsxs("button",{className:`action-btn ${O?"active":""}`,onClick:q,children:[c.jsx("span",{className:"action-icon",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}),c.jsx("span",{className:"action-text",children:O?"Seguito":"Segui"})]}),c.jsxs("button",{className:"action-btn",onClick:Y,children:[c.jsx("span",{className:"action-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),c.jsx("span",{className:"action-text",children:"Contatta"})]})]})]})]})}),c.jsxs("section",{className:"artist-profile-tabs",children:[c.jsxs("div",{className:"tabs-navigation",children:[c.jsxs("button",{className:`tab-button ${b==="portfolio"?"active":""}`,onClick:()=>x("portfolio"),children:[c.jsxs("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),c.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),c.jsx("polyline",{points:"21,15 16,10 5,21"})]}),c.jsx("span",{className:"tab-text",children:"PORTFOLIO"})]}),c.jsxs("button",{className:`tab-button ${b==="flash"?"active":""}`,onClick:()=>x("flash"),children:[c.jsx("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("polygon",{points:"13,2 3,14 12,14 11,22 21,10 12,10 13,2"})}),c.jsx("span",{className:"tab-text",children:"FLASH"})]}),c.jsxs("button",{className:`tab-button ${b==="servizi"?"active":""}`,onClick:()=>x("servizi"),children:[c.jsx("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),c.jsx("span",{className:"tab-text",children:"SERVIZI"})]}),c.jsxs("button",{className:`tab-button ${b==="recensioni"?"active":""}`,onClick:()=>x("recensioni"),children:[c.jsx("svg",{className:"tab-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26 12,2"})}),c.jsx("span",{className:"tab-text",children:"RECENSIONI"})]})]}),c.jsxs("div",{className:"tab-content",children:[b==="portfolio"&&c.jsxs("div",{className:"tab-panel portfolio-panel",children:[c.jsxs("h3",{children:["GALLERIA LAVORI ",!h&&`(${N.length})`]}),h?c.jsxs("div",{className:"portfolio-loading",children:[c.jsx(Pt,{size:"large"}),c.jsx("p",{children:"Caricamento portfolio..."})]}):N.length>0?c.jsx("div",{className:"artist-portfolio-grid",children:N.map(U=>c.jsx(Sn,{item:{id:U.id,title:U.title,description:U.description||"",image_url:U.image_url,tags:U.tags||[],is_flash:U.is_flash,price:U.price,location:U.location,created_at:U.created_at,updated_at:U.updated_at,user_id:U.user_id,artist_name:l?.full_name||l?.username||"Artista",full_name:l?.full_name||l?.username||"Artista"},onArtistClick:()=>{}},U.id))}):c.jsx("div",{className:"empty-portfolio",children:c.jsxs("div",{className:"empty-state",children:[c.jsx("h4",{children:"Nessun lavoro pubblicato"}),c.jsx("p",{children:"Questo artista non ha ancora caricato lavori personalizzati nel suo portfolio."})]})})]}),b==="servizi"&&c.jsxs("div",{className:"tab-panel servizi-panel",children:[c.jsxs("h3",{children:["SERVIZI OFFERTI ",!h&&d.length>0&&`(${d.length})`]}),h?c.jsxs("div",{className:"portfolio-loading",children:[c.jsx(Pt,{size:"large"}),c.jsx("p",{children:"Caricamento servizi..."})]}):d.length>0?c.jsx("div",{className:"services-list",children:d.map(U=>c.jsxs("div",{className:"service-item",children:[U.image_url&&c.jsx("div",{className:"service-image",children:c.jsx("img",{src:U.image_url,alt:U.name,className:"service-img"})}),c.jsxs("div",{className:"service-info",children:[c.jsx("h4",{children:U.name}),c.jsx("p",{children:U.description||""}),c.jsxs("div",{className:"service-details",children:[U.body_area&&U.body_area!=="N/A"&&c.jsxs("span",{className:"service-detail",children:[c.jsx("strong",{children:"Zona:"})," ",U.body_area]}),U.size_category&&U.size_category!=="N/A"&&c.jsxs("span",{className:"service-detail",children:[c.jsx("strong",{children:"Dimensione:"})," ",U.size_category]})]})]}),c.jsx("div",{className:"service-price",children:U.discount_percentage?c.jsxs("div",{className:"price-with-discount",children:[c.jsx("span",{className:"original-price",children:U.is_price_range?`€${U.price_min_range}-${U.price_max_range}`:`€${U.fixed_price}`}),c.jsx("span",{className:"discounted-price",children:U.is_price_range?`€${Math.round(U.price_min_range*(100-U.discount_percentage)/100)}-${Math.round(U.price_max_range*(100-U.discount_percentage)/100)}`:`€${Math.round(U.fixed_price*(100-U.discount_percentage)/100)}`})]}):c.jsx("span",{children:U.is_price_range?`€${U.price_min_range}-${U.price_max_range}`:`€${U.fixed_price}`})})]},U.id))}):c.jsx("div",{className:"empty-portfolio",children:c.jsxs("div",{className:"empty-state",children:[c.jsx("h4",{children:"Nessun servizio disponibile"}),c.jsx("p",{children:"Questo artista non ha ancora pubblicato i suoi servizi."})]})})]}),b==="flash"&&c.jsxs("div",{className:"tab-panel flash-panel",children:[c.jsxs("h3",{children:["DISEGNI FLASH DISPONIBILI ",!h&&`(${k.length})`]}),h?c.jsxs("div",{className:"portfolio-loading",children:[c.jsx(Pt,{size:"large"}),c.jsx("p",{children:"Caricamento flash..."})]}):k.length>0?c.jsx("div",{className:"artist-portfolio-grid",children:k.map(U=>c.jsx(Sn,{item:{id:U.id,title:U.title,description:U.description||"",image_url:U.image_url,tags:U.tags||[],is_flash:U.is_flash,price:U.price,location:U.location,created_at:U.created_at,updated_at:U.updated_at,user_id:U.user_id,artist_name:l?.full_name||l?.username||"Artista",full_name:l?.full_name||l?.username||"Artista"},onArtistClick:()=>{}},U.id))}):c.jsx("div",{className:"empty-portfolio",children:c.jsxs("div",{className:"empty-state",children:[c.jsx("h4",{children:"Nessun flash disponibile"}),c.jsx("p",{children:"Questo artista non ha ancora caricato disegni flash disponibili."})]})})]}),b==="recensioni"&&c.jsxs("div",{className:"tab-panel recensioni-panel",children:[c.jsx("h3",{children:"RECENSIONI CLIENTI"}),c.jsxs("div",{className:"reviews-list",children:[c.jsxs("div",{className:"review-item",children:[c.jsxs("div",{className:"review-header",children:[c.jsxs("div",{className:"reviewer-info",children:[c.jsx("strong",{children:"Marco R."}),c.jsx("div",{className:"review-stars",children:"★★★★★"})]}),c.jsx("span",{className:"review-date",children:"15 Gen 2024"})]}),c.jsx("p",{className:"review-text",children:'"Esperienza fantastica! Professionalità al top e risultato perfetto. Il tatuaggio è venuto esattamente come volevo. Consigliatissimo!"'})]}),c.jsxs("div",{className:"review-item",children:[c.jsxs("div",{className:"review-header",children:[c.jsxs("div",{className:"reviewer-info",children:[c.jsx("strong",{children:"Giulia M."}),c.jsx("div",{className:"review-stars",children:"★★★★★"})]}),c.jsx("span",{className:"review-date",children:"8 Gen 2024"})]}),c.jsx("p",{className:"review-text",children:'"Artista incredibile! Studio pulito e igienizzato, grande attenzione ai dettagli. Il mio primo tatuaggio non poteva andare meglio."'})]}),c.jsxs("div",{className:"review-item",children:[c.jsxs("div",{className:"review-header",children:[c.jsxs("div",{className:"reviewer-info",children:[c.jsx("strong",{children:"Alessio T."}),c.jsx("div",{className:"review-stars",children:"★★★★★"})]}),c.jsx("span",{className:"review-date",children:"2 Gen 2024"})]}),c.jsx("p",{className:"review-text",children:`"Cover up riuscitissimo! Ha trasformato un vecchio tatuaggio in un'opera d'arte. Tempi rispettati e prezzo onesto."`})]})]}),c.jsx("div",{className:"reviews-summary",children:c.jsxs("div",{className:"rating-average",children:[c.jsx("span",{className:"rating-number",children:"4.9"}),c.jsx("div",{className:"rating-stars",children:"★★★★★"}),c.jsx("span",{className:"rating-count",children:"127 recensioni"})]})})]})]})]})]}):c.jsxs("div",{className:"error-state",children:[c.jsx("h2",{children:"Profilo non trovato"}),c.jsx("p",{children:"L'artista richiesto non è stato trovato."})]})})})]})}function mx({isOpen:r,title:i,message:s,confirmText:l="Conferma",cancelText:u="Annulla",onConfirm:d,onCancel:h}){if(w.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const v=m=>{m.target===m.currentTarget&&h()};return c.jsx("div",{className:"confirmation-overlay",onClick:v,children:c.jsxs("div",{className:"auth-modal confirmation-modal",children:[c.jsx("button",{className:"modal-close-btn",onClick:h,children:"×"}),c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{className:"modal-title",children:i}),c.jsx("p",{className:"modal-message",children:s}),c.jsxs("div",{className:"modal-actions",children:[c.jsx(Nt,{icon:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),text:u,variant:"modal",onClick:h}),c.jsx(Nt,{icon:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("polyline",{points:"3,6 5,6 21,6"}),c.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),c.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),c.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),text:l,variant:"modal",onClick:d})]})]})]})})}function vx(){const r=Tt(),{user:i,profile:s,loading:l,refreshProfile:u}=Qe();w.useEffect(()=>{window.scrollTo(0,0)},[]),w.useEffect(()=>{!l&&s&&s.profile_type==="client"&&r("/")},[s,l,r]);const{fetchFollowerStats:d,getFollowerStats:h}=gr(),[v,m]=w.useState(!1),[p,g]=w.useState(!1),[b,x]=w.useState(!1),[S,E]=w.useState(null),[O,N]=w.useState("portfolio"),[k,L]=w.useState(!1),[C,Y]=w.useState([]),[q,U]=w.useState(!0),[P,te]=w.useState({bio:s?.bio||"",location:s?.location||"",avatar_url:s?.avatar_url||""}),[se,Ee]=w.useState({title:"",description:"",image_url:"",tags:"",is_flash:!1,price:""}),[X,Q]=w.useState(null),[le,ae]=w.useState(null),[me,H]=w.useState(""),[Z,ee]=w.useState(null),xe=(I,ie)=>{r(`/?search=${encodeURIComponent(I)}&location=${encodeURIComponent(ie)}`)},T=()=>{r("/")},K=w.useCallback(async()=>{if(s?.user_id)try{const{data:I,error:ie}=await fe.from("portfolio_items").select("*").eq("user_id",s.user_id).order("created_at",{ascending:!1});if(ie){console.error("Error fetching portfolio items:",ie);return}const Ge=(I||[]).map(ke=>({id:ke.id,title:ke.title,description:ke.description||"",image_url:ke.image_url,tags:ke.tags||[],is_flash:ke.is_flash||!1,price:ke.price,location:ke.location,created_at:ke.created_at,updated_at:ke.updated_at,user_id:ke.user_id,artist_name:s.full_name||s.username||"Tu",full_name:s.full_name||s.username||"Tu",artist_avatar_url:s.avatar_url}));Y(Ge)}catch(I){console.error("Error fetching portfolio items:",I)}finally{U(!1)}},[s]),F=async I=>{if(!i?.id||!s?.user_id)throw new Error("User not authenticated");try{const ie=I.name.split(".").pop(),Ge=`${Date.now()}-${Math.random().toString(36).substring(2)}.${ie}`,ke=`${i.id}/${Ge}`,{error:ja}=await fe.storage.from("portfolio").upload(ke,I,{cacheControl:"3600",upsert:!1});if(ja)throw console.error("Storage upload error:",ja),ja;const{data:Ea}=fe.storage.from("portfolio").getPublicUrl(ke);return Ea.publicUrl}catch(ie){throw console.error("Error uploading image:",ie),ie}},J=async()=>{if(!(!i||!s)){L(!0);try{let I=se.image_url.trim()||null;if(X)try{I=await F(X)}catch(Ge){console.error("Error uploading image:",Ge),alert("Errore durante il caricamento dell'immagine. Riprova."),L(!1);return}const{error:ie}=await fe.from("portfolio_items").insert({user_id:s.user_id,title:se.title.trim(),description:se.description.trim()||null,image_url:I,tags:se.tags?se.tags.split(",").map(Ge=>Ge.trim()).filter(Ge=>Ge):[],is_flash:se.is_flash,price:se.price?parseFloat(se.price):null,location:s.location||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(ie){console.error("Error uploading portfolio item:",ie),alert("Errore durante il caricamento del lavoro");return}ue(),await K(),g(!1)}catch(I){console.error("Error uploading portfolio item:",I),alert("Errore durante il caricamento del lavoro")}finally{L(!1)}}},re=async()=>{if(!(!i||!s)){L(!0);try{let I=P.avatar_url;if(le)try{const Ge=Date.now(),ke=le.name.split(".").pop(),ja=`${i.id}/avatar_${Ge}.${ke}`,{data:Ea,error:ta}=await fe.storage.from("avatars").upload(ja,le,{cacheControl:"3600",upsert:!1});if(ta){console.error("Error uploading avatar:",ta),ta.message?.includes("Bucket not found")?alert("Errore: Il bucket per gli avatar non è configurato. Esegui il file fix-avatars-policies.sql nel database."):ta.message?.includes("The resource already exists")?alert("Avatar con questo nome già esistente. Riprova."):ta.message?.includes("row-level security policy")||ta.message?.includes("RLS")?alert("Errore di permessi: Le politiche RLS per gli avatar non sono configurate correttamente. Esegui il file fix-avatars-policies.sql nel database."):alert(`Errore durante il caricamento dell'avatar: ${ta.message}`);return}const{data:Gs}=fe.storage.from("avatars").getPublicUrl(Ea.path);I=Gs.publicUrl}catch(Ge){console.error("Network error uploading avatar:",Ge),alert("Errore di rete. Verifica la connessione internet e riprova.");return}const{error:ie}=await fe.from("profiles").update({bio:P.bio.trim(),location:P.location.trim(),avatar_url:I,updated_at:new Date().toISOString()}).eq("user_id",s.user_id);if(ie){console.error("Error updating profile:",ie),alert("Errore durante l'aggiornamento del profilo");return}u&&await u(),ae(null),H(""),m(!1)}catch(I){console.error("Error updating profile:",I),alert("Errore durante l'aggiornamento del profilo")}finally{L(!1)}}},we=I=>{const ie=I.target.files?.[0];if(ie){if(!ie.type.startsWith("image/")){alert("Seleziona un file immagine valido (JPG, PNG, GIF, WebP)");return}const Ge=5*1024*1024;if(ie.size>Ge){alert("Il file è troppo grande. Dimensione massima: 5MB");return}Q(ie);const ke=new FileReader;ke.onload=()=>{ee(ke.result)},ke.readAsDataURL(ie)}},ue=()=>{Ee({title:"",description:"",image_url:"",tags:"",is_flash:!1,price:""}),Q(null),ee(null)},ct=I=>{const ie=I.target.files?.[0];if(ie){if(!ie.type.startsWith("image/")){alert("Seleziona un file immagine valido (JPG, PNG, GIF, WebP)");return}const Ge=2*1024*1024;if(ie.size>Ge){alert("Il file è troppo grande. Dimensione massima: 2MB");return}ae(ie);const ke=new FileReader;ke.onload=()=>{H(ke.result)},ke.readAsDataURL(ie)}},De=()=>{ae(null),H(""),P.avatar_url&&te(I=>({...I,avatar_url:""}))},Kt=["Racconta la tua storia come tatuatore","Descrivi il tuo stile artistico preferito","Menziona gli anni di esperienza","Parla delle tue specializzazioni","Condividi la tua filosofia sull'arte del tatuaggio"];w.useEffect(()=>{s&&(te({bio:s.bio||"",location:s.location||"",avatar_url:s.avatar_url||""}),K())},[s,K]),w.useEffect(()=>(v||p||b?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[v,p,b]);const En=(s?h(s.user_id):null)?.follower_count||0;w.useEffect(()=>{s?.user_id&&d([s.user_id])},[s?.user_id,d]),w.useEffect(()=>{!l&&(!i||!s)&&r("/")},[i,s,l,r]);const Nn=I=>{E(I),x(!0)},Ci=async()=>{if(S)try{const{error:I}=await fe.from("portfolio_items").delete().eq("id",S);if(I){console.error("Error deleting portfolio item:",I),alert("Errore durante l'eliminazione dell'elemento");return}Y(ie=>ie.filter(Ge=>Ge.id!==S)),localStorage.setItem("portfolioItemsUpdated",Date.now().toString()),x(!1),E(null)}catch(I){console.error("Error deleting portfolio item:",I),alert("Errore durante l'eliminazione dell'elemento")}},Oi=()=>{x(!1),E(null)};if(l)return c.jsxs("div",{className:"artist-profile",children:[c.jsx(Gt,{onSearch:xe,onLogoClick:T,hideOnMobile:!0}),c.jsx("div",{className:"loading-state",children:c.jsx(Pt,{size:"large"})})]});if(!i||!s)return null;const Tn=!s?.bio||!s?.location;return c.jsxs("div",{className:"artist-profile",children:[c.jsx(Gt,{onSearch:xe,onLogoClick:T,hideOnMobile:!0}),c.jsx("main",{className:"artist-profile-content",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"artist-profile-main",children:[c.jsx("section",{className:"artist-profile-header",children:c.jsxs("div",{className:"profile-info",children:[c.jsx(Yt,{src:s.avatar_url,name:s.full_name,alt:`Avatar di ${s.full_name||s.username||"Utente"}`,size:"lg",variant:"bordered"}),c.jsxs("div",{className:"profile-details",children:[c.jsx("h1",{className:"profile-name",children:s.full_name||s.username||"Nome non disponibile"}),s.location&&c.jsxs("p",{className:"profile-location",children:["📍 ",s.location]}),s.bio&&c.jsx("p",{className:"profile-bio",children:s.bio}),c.jsx("div",{className:"profile-stats",children:c.jsxs("span",{className:"follower-count",children:[c.jsx("strong",{children:En.toLocaleString()})," follower"]})}),c.jsx("div",{className:"profile-actions",children:c.jsxs("button",{className:"action-btn",onClick:()=>m(!0),children:[c.jsx("span",{className:"action-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),c.jsx("span",{className:"action-text",children:Tn?"Completa il profilo":"Modifica Profilo"})]})})]})]})}),c.jsxs("section",{className:"artist-profile-tabs",children:[c.jsxs("div",{className:"tabs-navigation",children:[c.jsx("button",{className:`tab-button ${O==="portfolio"?"active":""}`,onClick:()=>N("portfolio"),children:"PORTFOLIO"}),c.jsx("button",{className:`tab-button ${O==="flash"?"active":""}`,onClick:()=>N("flash"),children:"FLASH"}),c.jsx("button",{className:`tab-button ${O==="servizi"?"active":""}`,onClick:()=>N("servizi"),children:"SERVIZI"}),c.jsx("button",{className:`tab-button ${O==="recensioni"?"active":""}`,onClick:()=>N("recensioni"),children:"RECENSIONI"})]}),c.jsxs("div",{className:"tab-content",children:[O==="portfolio"&&c.jsxs("div",{className:"tab-panel portfolio-panel",children:[c.jsxs("h3",{children:["GALLERIA LAVORI (",C.filter(I=>!I.is_flash).length,")"]}),q?c.jsxs("div",{className:"portfolio-loading",children:[c.jsx(Pt,{size:"large"}),c.jsx("p",{children:"Caricamento portfolio..."})]}):C.filter(I=>!I.is_flash).length>0?c.jsx("div",{className:"artist-portfolio-grid",children:C.filter(I=>!I.is_flash).map(I=>c.jsx(Sn,{item:I,onArtistClick:()=>{},showDeleteButton:!0,onDelete:Nn},I.id))}):c.jsx("div",{className:"empty-portfolio",children:c.jsxs("div",{className:"empty-state",children:[c.jsx("h4",{children:"Portfolio vuoto"}),c.jsx("p",{children:"I tuoi lavori appariranno qui una volta che inizierai a caricarli."}),c.jsx(Nt,{icon:c.jsx(Yc,{}),text:"Aggiungi Lavoro",onClick:()=>g(!0)})]})})]}),O==="servizi"&&c.jsxs("div",{className:"tab-panel servizi-panel",children:[c.jsx("h3",{children:"I MIEI SERVIZI"}),c.jsx("div",{className:"empty-portfolio",children:c.jsxs("div",{className:"empty-state",children:[c.jsx("h4",{children:"Nessun servizio pubblicato"}),c.jsx("p",{children:"Aggiungi i tuoi servizi per far conoscere ai clienti cosa offri."})]})})]}),O==="flash"&&c.jsxs("div",{className:"tab-panel flash-panel",children:[c.jsxs("h3",{children:["DISEGNI FLASH DISPONIBILI (",C.filter(I=>I.is_flash).length,")"]}),q?c.jsxs("div",{className:"portfolio-loading",children:[c.jsx(Pt,{size:"large"}),c.jsx("p",{children:"Caricamento flash..."})]}):C.filter(I=>I.is_flash).length>0?c.jsx("div",{className:"artist-portfolio-grid",children:C.filter(I=>I.is_flash).map(I=>c.jsx(Sn,{item:I,onArtistClick:()=>{},showDeleteButton:!0,onDelete:Nn},I.id))}):c.jsx("div",{className:"empty-portfolio",children:c.jsxs("div",{className:"empty-state",children:[c.jsx("h4",{children:"Nessun flash disponibile"}),c.jsx("p",{children:"I tuoi disegni flash appariranno qui una volta che inizierai a caricarli."}),c.jsx(Nt,{icon:c.jsx(Yc,{}),text:"Aggiungi Flash",onClick:()=>{Ee(I=>({...I,is_flash:!0})),g(!0)}})]})})]}),O==="recensioni"&&c.jsxs("div",{className:"tab-panel recensioni-panel",children:[c.jsx("h3",{children:"LE MIE RECENSIONI"}),c.jsx("div",{className:"empty-portfolio",children:c.jsxs("div",{className:"empty-state",children:[c.jsx("h4",{children:"Nessuna recensione"}),c.jsx("p",{children:"Le recensioni dei tuoi clienti appariranno qui."})]})})]})]})]})]})})}),v&&c.jsx("div",{className:"auth-overlay",onClick:I=>I.target===I.currentTarget&&m(!1),children:c.jsxs("div",{className:"auth-modal complete-profile-modal",children:[c.jsx("div",{className:"auth-header-sticky",children:c.jsx("button",{className:"auth-close-btn",onClick:()=>m(!1),children:"×"})}),c.jsx("div",{className:"auth-modal-header"}),c.jsxs("div",{className:"complete-profile-content",children:[c.jsx("h2",{className:"complete-profile-title",children:Tn?"COMPLETA IL TUO PROFILO":"MODIFICA PROFILO"}),c.jsx("p",{className:"complete-profile-description",children:Tn?"Aggiungi le informazioni mancanti per completare il tuo profilo":"Modifica le informazioni del tuo profilo"}),c.jsxs("form",{className:"complete-profile-form",onSubmit:I=>I.preventDefault(),children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"avatar",className:"form-label",children:"FOTO PROFILO"}),c.jsxs("div",{className:"avatar-upload-section",children:[c.jsx("div",{className:"current-avatar",children:me?c.jsx("div",{className:"avatar avatar-md avatar-default",children:c.jsx("img",{src:me,alt:"Anteprima avatar",className:"avatar-image"})}):P.avatar_url?c.jsx("div",{className:"avatar avatar-md avatar-default",children:c.jsx("img",{src:P.avatar_url,alt:"Avatar attuale",className:"avatar-image"})}):c.jsx("div",{className:"avatar avatar-md avatar-default",children:c.jsx("div",{className:"avatar-placeholder",children:(s?.full_name||s?.username||i?.email||"U").split(" ").map(I=>I[0]).join("").substring(0,2).toUpperCase()})})}),c.jsxs("div",{className:"avatar-upload-controls",children:[c.jsx("input",{type:"file",id:"avatar",accept:"image/*",onChange:ct,className:"file-input",style:{display:"none"}}),c.jsx(Nt,{icon:c.jsx(Yc,{}),text:P.avatar_url||me?"Cambia foto":"Carica foto",onClick:()=>document.getElementById("avatar")?.click()}),(me||P.avatar_url)&&c.jsx(Nt,{icon:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),text:"Rimuovi",onClick:De,variant:"secondary"})]})]}),c.jsx("div",{className:"form-help",children:"Formati supportati: JPG, PNG, GIF, WebP. Dimensione massima: 2MB"})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{htmlFor:"bio",className:"form-label",children:["BIO ",!s?.bio&&c.jsx("span",{className:"required-indicator",children:"*"})]}),c.jsx("textarea",{id:"bio",className:"form-textarea",placeholder:"Raccontaci qualcosa su di te...",value:P.bio,onChange:I=>te(ie=>({...ie,bio:I.target.value})),rows:4,maxLength:500}),c.jsxs("div",{className:"bio-suggestions",children:[c.jsx("p",{className:"suggestions-title",children:"💡 Suggerimenti per la bio:"}),c.jsx("ul",{className:"suggestions-list",children:Kt.map((I,ie)=>c.jsx("li",{className:"suggestion-item",children:I},ie))})]}),c.jsxs("div",{className:"char-count",children:[P.bio.length,"/500 caratteri"]})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{htmlFor:"location",className:"form-label",children:["LOCALITÀ ",!s?.location&&c.jsx("span",{className:"required-indicator",children:"*"})]}),c.jsx("input",{type:"text",id:"location",className:"form-input",placeholder:"Es. Milano, Italia",value:P.location,onChange:I=>te(ie=>({...ie,location:I.target.value})),maxLength:100})]}),c.jsxs("div",{className:"form-actions",children:[c.jsxs("button",{type:"button",className:"action-btn",onClick:()=>m(!1),disabled:k,children:[c.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),c.jsx("span",{className:"action-text",children:"Annulla"})]}),c.jsxs("button",{type:"button",className:"action-btn",onClick:re,disabled:k||!P.bio.trim()||!P.location.trim(),children:[c.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})}),c.jsx("span",{className:"action-text",children:k?"Salvando...":Tn?"Completa Profilo":"Salva Modifiche"})]})]})]})]})]})}),p&&c.jsx("div",{className:"auth-overlay",onClick:I=>I.target===I.currentTarget&&(g(!1),ue()),children:c.jsxs("div",{className:"auth-modal upload-portfolio-modal",children:[c.jsx("div",{className:"auth-header-sticky",children:c.jsx("button",{className:"auth-close-btn",onClick:()=>{g(!1),ue()},children:"×"})}),c.jsx("div",{className:"auth-modal-header"}),c.jsxs("div",{className:"upload-portfolio-content",children:[c.jsx("h2",{className:"upload-portfolio-title",children:"AGGIUNGI LAVORO"}),c.jsx("p",{className:"upload-portfolio-description",children:"Carica un nuovo lavoro nel tuo portfolio"}),c.jsxs("form",{className:"upload-portfolio-form",onSubmit:I=>I.preventDefault(),children:[c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{htmlFor:"title",className:"form-label",children:["TITOLO ",c.jsx("span",{className:"required-indicator",children:"*"})]}),c.jsx("input",{type:"text",id:"title",className:"form-input",placeholder:"Es. Tatuaggio Tribale",value:se.title,onChange:I=>Ee(ie=>({...ie,title:I.target.value})),maxLength:100})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"description",className:"form-label",children:"DESCRIZIONE"}),c.jsx("textarea",{id:"description",className:"form-textarea",placeholder:"Descrivi il lavoro, tecnica utilizzata, significato...",value:se.description,onChange:I=>Ee(ie=>({...ie,description:I.target.value})),rows:3,maxLength:500}),c.jsxs("div",{className:"char-count",children:[se.description.length,"/500 caratteri"]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"image_file",className:"form-label",children:"IMMAGINE"}),c.jsx("input",{type:"file",id:"image_file",className:"form-input file-input",accept:"image/*",onChange:we}),c.jsx("div",{className:"form-help",children:"Formati supportati: JPG, PNG, GIF, WebP (max 5MB)"}),Z&&c.jsxs("div",{className:"image-preview",children:[c.jsx("img",{src:Z,alt:"Anteprima",className:"preview-image"}),c.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>{Q(null),ee(null);const I=document.getElementById("image_file");I&&(I.value="")},children:"✕"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"tags",className:"form-label",children:"TAG"}),c.jsx("input",{type:"text",id:"tags",className:"form-input",placeholder:"Es. tribale, braccio, nero",value:se.tags,onChange:I=>Ee(ie=>({...ie,tags:I.target.value}))}),c.jsx("div",{className:"form-help",children:"Separa i tag con virgole"})]}),c.jsx("div",{className:"form-group",children:c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:se.is_flash,onChange:I=>Ee(ie=>({...ie,is_flash:I.target.checked}))}),c.jsx("span",{className:"checkbox-text",children:"È un disegno flash disponibile"})]})}),se.is_flash&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"price",className:"form-label",children:"PREZZO (€)"}),c.jsx("input",{type:"number",id:"price",className:"form-input",placeholder:"120",min:"0",step:"0.01",value:se.price,onChange:I=>Ee(ie=>({...ie,price:I.target.value}))})]}),c.jsxs("div",{className:"form-actions",children:[c.jsxs("button",{type:"button",className:"action-btn",onClick:()=>{g(!1),ue()},disabled:k,children:[c.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),c.jsx("span",{className:"action-text",children:"Annulla"})]}),c.jsxs("button",{type:"button",className:"action-btn",onClick:J,disabled:k||!se.title.trim(),children:[c.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M12 5v14m7-7l-7-7-7 7"})}),c.jsx("span",{className:"action-text",children:k?"Caricando...":"Aggiungi Lavoro"})]})]})]})]})]})}),c.jsx(mx,{isOpen:b,title:"Elimina elemento",message:"Sei sicuro di voler eliminare questo elemento dal portfolio? Questa azione non può essere annullata.",confirmText:"Elimina",cancelText:"Annulla",onConfirm:Ci,onCancel:Oi})]})}function px({title:r,subtitle:i,actions:s,className:l=""}){return c.jsx("div",{className:`page-header ${l}`,children:c.jsxs("div",{className:"header-card",children:[c.jsxs("div",{className:"header-top",children:[c.jsx("h2",{className:"grid-title",children:r}),s&&c.jsx("div",{className:"header-actions",children:s})]}),i&&c.jsx("p",{className:"grid-subtitle",children:i})]})})}const gx=w.lazy(()=>Sa(()=>Promise.resolve().then(()=>pr),void 0).then(r=>({default:r.AuthOverlay})));function yx({onLogoClick:r,onArtistClick:i}){const{user:s}=Qe(),{savedTattoos:l,loading:u,refreshSavedTattoos:d}=gu(),[h,v]=w.useState([]),[m,p]=w.useState(!0),[g,b]=w.useState(null),[x,S]=w.useState(!1),E=w.useCallback(()=>{S(!0)},[]);return w.useEffect(()=>{window.scrollTo(0,0)},[]),w.useEffect(()=>{(async()=>{if(!s){v([]),p(!1);return}if(u||l.size===0){v([]),p(!1);return}try{p(!0);const N=Array.from(l),{data:k,error:L}=await fe.from("saved_tattoos").select("portfolio_item_id, created_at").in("portfolio_item_id",N).order("created_at",{ascending:!1});if(L){b("Errore nel caricamento degli elementi salvati"),console.error("Error loading saved items:",L.message);return}const{data:C,error:Y}=await fe.from("portfolio_items").select(`
            *,
            profiles!inner(
              user_id,
              full_name,
              username,
              profile_type,
              bio,
              location
            )
          `).in("id",N);if(Y){b("Errore nel caricamento degli elementi salvati"),console.error("Error loading portfolio items:",Y.message);return}const q=new Map(C.map(P=>[P.id,P])),U=k.map(P=>{const te=q.get(P.portfolio_item_id);return te?{...te,artist_name:te.profiles.full_name||te.profiles.username||"Unknown",full_name:te.profiles.full_name,username:te.profiles.username,profile_type:te.profiles.profile_type,bio:te.profiles.bio,artist_location:te.profiles.location}:null}).filter(P=>P!==null);v(U),b(null)}catch(N){b("Errore nel caricamento degli elementi salvati"),console.error("Error loading saved items:",N)}finally{p(!1)}})()},[l,u,s]),m||u?c.jsxs("div",{className:"saved-items-page",children:[c.jsx(Gt,{onLogoClick:r,hideOnMobile:!0}),c.jsx("div",{className:"saved-items-loading",children:c.jsx(Pt,{})})]}):c.jsxs("div",{className:"saved-items-page",children:[c.jsx(Gt,{onLogoClick:r,hideOnMobile:!0}),c.jsx("div",{className:"container",children:c.jsxs("div",{className:"saved-items-content",children:[h.length>0&&c.jsx(px,{title:"ELEMENTI SALVATI",subtitle:h.length===1?"1 elemento salvato":`${h.length} elementi salvati`}),g&&c.jsx("div",{className:"error-state",children:c.jsxs("div",{className:"error-content",children:[c.jsx("p",{className:"error-message",children:g}),c.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>d(),style:{marginTop:"1.5rem"},children:"Riprova"})]})}),!g&&h.length===0&&c.jsx("div",{className:"empty-state",children:c.jsxs("div",{className:"empty-content",children:[c.jsx("div",{className:"empty-icon",children:"💾"}),c.jsx("h2",{className:"empty-title",children:s?"Nessun tatuaggio salvato":"Accedi per visualizzare i tatuaggi salvati"}),c.jsx("p",{className:"empty-description",children:s?"Inizia a esplorare i portfolio degli artisti e salva i tatuaggi che ti piacciono.":"Effettua il login per vedere i tatuaggi che hai salvato e gestire la tua collezione personale."}),c.jsx("button",{className:"btn btn-accent",onClick:s?r:E,style:{marginTop:"1.5rem"},children:s?"Esplora Portfolio":"Accedi"})]})}),!g&&h.length>0&&c.jsx("div",{className:"portfolio-grid",children:h.map(O=>c.jsx(Sn,{item:O,onArtistClick:i},O.id))})]})}),x&&c.jsx(w.Suspense,{fallback:c.jsx("div",{}),children:c.jsx(gx,{isOpen:x,onClose:()=>S(!1)})})]})}function _x({chats:r,selectedChatId:i,onChatSelect:s,onRequestDeleteChat:l}){const u=h=>{const v=new Date(h),p=(new Date().getTime()-v.getTime())/(1e3*60*60);return p<24?v.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}):p<48?"Ieri":v.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"})},d=(h,v)=>{h.stopPropagation(),l(v)};return c.jsxs("div",{className:"chat-list",children:[c.jsxs("div",{className:"chat-list-header",children:[c.jsx("h2",{className:"chat-list-title",children:"MESSAGGI"}),c.jsxs("span",{className:"chat-count",children:[r.length," conversazioni"]})]}),c.jsx("div",{className:"chat-list-items",children:r.length===0?c.jsxs("div",{className:"empty-chat-list",children:[c.jsx("div",{className:"empty-chat-icon",children:"💬"}),c.jsx("p",{className:"empty-chat-text",children:"Nessuna conversazione ancora"})]}):r.map(h=>c.jsxs("div",{className:`chat-item ${i===h.id?"active":""}`,onClick:()=>s(h.id),children:[c.jsx("div",{className:"chat-avatar",children:c.jsx(Yt,{src:h.participant.avatar,name:h.participant.name,alt:`Avatar di ${h.participant.name}`,size:"sm",variant:"default"})}),c.jsxs("div",{className:"chat-content",children:[c.jsxs("div",{className:"chat-header",children:[c.jsx("h3",{className:"chat-participant-name",children:h.participant.name}),c.jsxs("div",{className:"chat-header-actions",children:[c.jsx("span",{className:"chat-timestamp",children:u(h.timestamp)}),c.jsx("button",{className:"chat-delete-btn",onClick:v=>d(v,{id:h.id,participant:{name:h.participant.name}}),title:"Elimina conversazione","aria-label":"Elimina conversazione",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("polyline",{points:"3,6 5,6 21,6"}),c.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})})]})]}),c.jsxs("div",{className:"chat-preview",children:[c.jsx("p",{className:"chat-last-message",children:h.lastMessage}),h.unreadCount>0&&c.jsx("span",{className:"chat-unread-count",children:h.unreadCount})]})]})]},h.id))})]})}function bx(){const{user:r}=Qe(),[i,s]=w.useState([]),[l,u]=w.useState([]),[d,h]=w.useState(!0),[v,m]=w.useState(null),p=w.useCallback(async()=>{if(r)try{h(!0),m(null);const{data:N,error:k}=await fe.from("user_conversation_deletions").select("participant_id, deleted_at").eq("user_id",r.id);k&&k.code!=="PGRST116"&&console.error("Error fetching deleted conversations:",k);const L=new Map(N?.map(Q=>[Q.participant_id,Q.deleted_at])||[]),{data:C,error:Y}=await fe.from("messages").select(`
          id,
          sender_id,
          receiver_id,
          content,
          created_at,
          is_read
        `).or(`sender_id.eq.${r.id},receiver_id.eq.${r.id}`).is("deleted_at",null).order("created_at",{ascending:!1});if(Y)throw console.error("Supabase query error:",Y),Y;const q=C;if(q.length===0){s([]),u([]);return}const U=q.filter(Q=>{const le=Q.sender_id===r.id?Q.receiver_id:Q.sender_id,ae=L.get(le);return ae?new Date(Q.created_at)>new Date(ae):!0});if(U.length===0){s([]),u([]);return}const P=new Set;P.add(r.id),U.forEach(Q=>{P.add(Q.sender_id),P.add(Q.receiver_id)});const te=new Map;if(P.size>0)try{const{data:Q,error:le}=await fe.from("profiles").select("user_id, full_name, username, avatar_url").in("user_id",Array.from(P));!le&&Q&&Q.forEach(ae=>{te.set(ae.user_id,ae)})}catch(Q){console.warn("Could not fetch profile data, using fallback names:",Q)}const se=new Map;U.forEach(Q=>{const le=Q.sender_id===r.id,ae=le?Q.receiver_id:Q.sender_id,me=[r.id,ae].sort(),H=`${me[0]}__${me[1]}`;if(!se.has(H)){const Z=U.filter(T=>T.sender_id===ae&&T.receiver_id===r.id&&!T.is_read).length,ee=te.get(ae),xe=ee?.full_name||ee?.username||`User ${ae.slice(0,8)}`;se.set(H,{id:H,participant:{user_id:ae,name:xe,username:ee?.username||"",avatar:ee?.avatar_url||null},lastMessage:Q.content,timestamp:Q.created_at,unreadCount:Z,isFromCurrentUser:le})}});const Ee=Array.from(se.values());s(Ee);const X=U.map(Q=>{const le=te.get(Q.sender_id),ae=te.get(Q.receiver_id);return{id:Q.id,sender_id:Q.sender_id,receiver_id:Q.receiver_id,content:Q.content,created_at:Q.created_at,is_read:Q.is_read,deleted_at:null,sender:{user_id:Q.sender_id,full_name:le?.full_name||le?.username||`User ${Q.sender_id.slice(0,8)}`,username:le?.username||"",avatar_url:le?.avatar_url||null},receiver:{user_id:Q.receiver_id,full_name:ae?.full_name||ae?.username||`User ${Q.receiver_id.slice(0,8)}`,username:ae?.username||"",avatar_url:ae?.avatar_url||null}}});u(X)}catch(N){m(N instanceof Error?N.message:"Failed to fetch messages"),console.error("Error fetching conversations:",N)}finally{h(!1)}},[r]),g=w.useCallback(async N=>{if(!r)return[];try{const{data:k,error:L}=await fe.from("user_conversation_deletions").select("participant_id, deleted_at").eq("user_id",r.id).eq("participant_id",N);L&&L.code!=="PGRST116"&&console.error("Error checking deleted conversations:",L);let C=null;k&&k.length>0&&(C=k[0].deleted_at);let Y=fe.from("messages").select(`
          id,
          sender_id,
          receiver_id,
          content,
          created_at,
          is_read
        `).or(`and(sender_id.eq.${r?.id},receiver_id.eq.${N}),and(sender_id.eq.${N},receiver_id.eq.${r?.id})`).is("deleted_at",null).order("created_at",{ascending:!0});C&&(Y=Y.gt("created_at",C));const{data:q,error:U}=await Y;if(U)throw U;const P=q;if(P.length===0)return[];const te=[r.id,N],se=new Map;try{const{data:X,error:Q}=await fe.from("profiles").select("user_id, full_name, username, avatar_url").in("user_id",te);!Q&&X&&X.forEach(le=>{se.set(le.user_id,le)})}catch(X){console.warn("Could not fetch profile data for conversation, using fallback names:",X)}return P.map(X=>{const Q=se.get(X.sender_id),le=se.get(X.receiver_id);return{id:X.id,sender_id:X.sender_id,receiver_id:X.receiver_id,content:X.content,created_at:X.created_at,is_read:X.is_read,deleted_at:null,sender:{user_id:X.sender_id,full_name:Q?.full_name||Q?.username||`User ${X.sender_id.slice(0,8)}`,username:Q?.username||"",avatar_url:Q?.avatar_url||null},receiver:{user_id:X.receiver_id,full_name:le?.full_name||le?.username||`User ${X.receiver_id.slice(0,8)}`,username:le?.username||"",avatar_url:le?.avatar_url||null}}})}catch(k){return console.error("Error fetching conversation messages:",k),[]}},[r]),b=w.useCallback(async(N,k)=>{if(r)try{const L=[r.id,N].sort(),C=`${L[0]}__${L[1]}`;let Y=!1;if(s(q=>q.find(P=>P.id===C)?q.map(P=>P.id===C?{...P,lastMessage:k,timestamp:new Date().toISOString(),isFromCurrentUser:!0}:P):(Y=!0,q)),Y){let q=null;try{const{data:P,error:te}=await fe.from("profiles").select("user_id, full_name, username, avatar_url").eq("user_id",N).single();!te&&P&&(q=P)}catch(P){console.warn("Could not fetch receiver profile:",P)}const U={id:C,participant:{user_id:N,name:q?.full_name||q?.username||`User ${N.slice(0,8)}`,username:q?.username||"",avatar:q?.avatar_url||null},lastMessage:k,timestamp:new Date().toISOString(),unreadCount:0,isFromCurrentUser:!0};s(P=>[U,...P])}}catch(L){console.error("Error updating conversation locally:",L)}},[r]),x=w.useCallback(async(N,k)=>{if(!r||!k.trim())return!1;try{const{error:L}=await fe.from("messages").insert([{sender_id:r.id,receiver_id:N,content:k.trim()}]);if(L)throw L;return await b(N,k.trim()),!0}catch(L){return console.error("Error sending message:",L),m(L instanceof Error?L.message:"Failed to send message"),!1}},[r,b]),S=async N=>{if(r)try{const{error:k}=await fe.from("messages").update({is_read:!0}).eq("sender_id",N).eq("receiver_id",r.id).eq("is_read",!1);if(k)throw k;s(L=>L.map(C=>C.participant.user_id===N?{...C,unreadCount:0}:C))}catch(k){console.error("Error marking messages as read:",k)}},E=async N=>{if(r)try{const{error:k}=await fe.from("user_conversation_deletions").upsert({user_id:r.id,participant_id:N,deleted_at:new Date().toISOString()},{onConflict:"user_id,participant_id"});if(k)throw k;s(L=>L.filter(C=>C.participant.user_id!==N))}catch(k){console.error("Error deleting conversation:",k),m(k instanceof Error?k.message:"Failed to delete conversation")}},O=()=>i.reduce((N,k)=>N+k.unreadCount,0);return w.useEffect(()=>{p()},[r,p]),{conversations:i,messages:l,loading:d,error:v,sendMessage:x,fetchConversationMessages:g,markConversationAsRead:S,deleteConversation:E,getUnreadCount:O,refreshConversations:p}}function xx({chat:r,onRequestDeleteChat:i,sendMessage:s,fetchConversationMessages:l}){const{user:u}=Qe(),[d,h]=w.useState(""),[v,m]=w.useState([]),[p,g]=w.useState(!1),[b,x]=w.useState(null),S=w.useCallback(C=>{if(!u)return null;const[Y,q]=C.split("__");return Y===u.id?q:Y},[u]),E=w.useCallback(async(C=!0)=>{if(!r||!l)return;const Y=S(r.id);if(Y){C&&g(!0);try{const U=(await l(Y)).map(P=>({id:P.id,content:P.content,timestamp:P.created_at,isFromCurrentUser:P.sender_id===u?.id}));m(P=>JSON.stringify(P)!==JSON.stringify(U)?U:P)}catch(q){console.error("Error loading conversation messages:",q),m([])}finally{C&&g(!1)}}},[r,l,u?.id,S]);w.useEffect(()=>{if(!r){m([]),h(""),g(!1);return}E(!0);const C=setInterval(()=>{E(!1)},3e3);return x(C),()=>{clearInterval(C),x(null)}},[r,u?.id,E]),w.useEffect(()=>()=>{b&&clearInterval(b)},[b]);const O=C=>new Date(C).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),N=async()=>{if(!d.trim()||!r||!u||!s)return;const C=S(r.id);if(!C)return;const Y=d.trim();h("");try{await s(C,Y)?await E(!1):h(Y)}catch(q){console.error("Error sending message:",q),h(Y)}},k=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),N())},L=()=>{r&&i&&i({id:r.id,participant:{name:r.participant.name}})};return r?c.jsxs("div",{className:"chat-conversation",children:[c.jsxs("div",{className:"conversation-header",children:[c.jsxs("div",{className:"conversation-participant",children:[c.jsx(Yt,{src:r.participant.avatar,name:r.participant.name,alt:`Avatar di ${r.participant.name}`,size:"sm",variant:"default"}),c.jsx("h2",{className:"participant-name",children:r.participant.name||"Nome non disponibile"})]}),c.jsx("div",{className:"conversation-actions",children:c.jsx(Nt,{icon:c.jsx(ix,{}),text:"Elimina",variant:"secondary",onClick:C=>{C.stopPropagation(),C.preventDefault(),L()},className:"delete-chat-action"})})]}),c.jsx("div",{className:"messages-container",children:c.jsx("div",{className:"messages-list",children:p?c.jsx("div",{className:"loading-messages",children:c.jsx("p",{children:"Caricamento messaggi..."})}):v.length===0?c.jsx("div",{className:"empty-messages",children:c.jsx("p",{children:"Nessun messaggio ancora. Inizia la conversazione!"})}):v.map(C=>c.jsx("div",{className:`message ${C.isFromCurrentUser?"sent":"received"}`,children:c.jsxs("div",{className:"message-bubble",children:[c.jsx("p",{className:"message-content",children:C.content}),c.jsx("span",{className:"message-time",children:O(C.timestamp)})]})},C.id))})}),c.jsx("div",{className:"message-input-container",children:c.jsxs("div",{className:"message-input-wrapper",children:[c.jsx("textarea",{className:"message-input",placeholder:"Scrivi un messaggio...",value:d,onChange:C=>h(C.target.value),onKeyPress:k,rows:1}),c.jsx(Nt,{icon:c.jsx(sx,{}),text:"Invia",variant:"secondary",onClick:N,disabled:!d.trim(),className:"send-message-action"})]})})]}):c.jsx("div",{className:"chat-conversation empty",children:c.jsxs("div",{className:"empty-conversation",children:[c.jsx("div",{className:"empty-conversation-icon",children:"💬"}),c.jsx("h3",{className:"empty-conversation-title",children:"Seleziona una conversazione"}),c.jsx("p",{className:"empty-conversation-text",children:"Scegli una chat dalla lista per iniziare a messaggiare"})]})})}const Jm=(r,i)=>{const s=[r,i].sort();return`${s[0]}__${s[1]}`};function wx({isOpen:r,title:i,message:s,confirmText:l="Conferma",cancelText:u="Annulla",onConfirm:d,onCancel:h}){w.useEffect(()=>{const g=b=>{b.key==="Escape"&&h()};if(r)return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r,h]);const v=g=>{g.target===g.currentTarget&&h()},m=()=>{h()},p=()=>{d()};return r?c.jsx("div",{className:"auth-overlay",onClick:v,children:c.jsxs("div",{className:"auth-modal",children:[c.jsx("div",{className:"auth-header-sticky",children:c.jsx("button",{className:"auth-close-btn",onClick:m,children:"×"})}),c.jsx("div",{className:"auth-modal-header",children:c.jsx("div",{className:"confirmation-header-title",children:c.jsx("h2",{className:"confirmation-title",children:i})})}),c.jsxs("div",{className:"auth-content",children:[c.jsx("div",{className:"confirmation-message-section",children:c.jsx("p",{className:"confirmation-text",children:s})}),c.jsxs("div",{className:"confirmation-actions",children:[c.jsxs("button",{className:"action-btn confirmation-cancel-action",onClick:m,children:[c.jsx("span",{className:"action-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),c.jsx("span",{className:"action-text",children:u})]}),c.jsxs("button",{className:"action-btn confirmation-confirm-action",onClick:p,children:[c.jsx("span",{className:"action-icon",children:c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("polyline",{points:"3,6 5,6 21,6"}),c.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})}),c.jsx("span",{className:"action-text",children:l})]})]})]})]})}):null}const Fm=w.lazy(()=>Sa(()=>Promise.resolve().then(()=>pr),void 0).then(r=>({default:r.AuthOverlay})));function Wm(){const{artistId:r}=cv(),i=Tt(),{user:s}=Qe(),l=()=>i("/"),[u,d]=w.useState(!1),h=w.useCallback(()=>{d(!0)},[]);w.useEffect(()=>{window.scrollTo(0,0)},[]);const{conversations:v,loading:m,error:p,deleteConversation:g,markConversationAsRead:b,sendMessage:x,fetchConversationMessages:S}=bx(),[E,O]=w.useState(null),[N,k]=w.useState(null),[L,C]=w.useState(null),Y=v.map(X=>({id:X.id,participant:{name:X.participant.name,avatar:X.participant.avatar},lastMessage:X.lastMessage,timestamp:X.timestamp,unreadCount:X.unreadCount})),q=w.useCallback(async X=>{try{const{data:Q,error:le}=await fe.from("profiles").select("user_id, full_name, username, avatar_url").eq("user_id",X).single();if(le){console.error("Error fetching artist profile:",le);return}const ae={id:X,name:Q?.full_name||Q?.username||"Unknown Artist",avatar:Q?.avatar_url};if(s){const me=Jm(s.id,X);O(me),k(ae)}}catch(Q){console.error("Error fetching artist profile:",Q)}},[s]);w.useEffect(()=>{if(r&&s){const X=Jm(s.id,r);v.find(le=>le.id===X)?(O(X),k(null)):q(r)}},[r,s,v,q]),w.useEffect(()=>{E&&N&&v.find(Q=>Q.id===E)&&k(null)},[v,E,N]);let U=E?Y.find(X=>X.id===E):null;w.useEffect(()=>{E&&!U&&!N&&O(null)},[E,U,N]),!U&&N&&E&&(U={id:E,participant:{name:N.name,avatar:N.avatar},lastMessage:"",timestamp:new Date().toISOString(),unreadCount:0});const P=X=>{O(X);const Q=v.find(le=>le.id===X);Q&&Q.unreadCount>0&&b(Q.participant.user_id)},te=X=>{setTimeout(()=>{C({id:X.id,participantName:X.participant.name})},0)},se=async()=>{if(L)try{const X=v.find(Q=>Q.id===L.id);X&&(E===L.id&&(O(null),k(null)),await g(X.participant.user_id))}catch(X){console.error("Failed to delete conversation:",X)}C(null)},Ee=()=>{C(null)};return s?m?c.jsxs("div",{className:"messages-page",children:[c.jsx(Gt,{onLogoClick:l,hideOnMobile:!0}),c.jsx("div",{className:"messages-loading",children:c.jsx(Pt,{})})]}):p?c.jsxs("div",{className:"messages-page",children:[c.jsx(Gt,{onLogoClick:l,hideOnMobile:!0}),c.jsx("div",{className:"messages-layout",children:c.jsxs("div",{className:"error-message",children:[c.jsx("h3",{children:"Errore caricamento messaggi"}),c.jsx("p",{children:p})]})})]}):c.jsxs("div",{className:"messages-page",children:[c.jsx(Gt,{onLogoClick:l,hideOnMobile:!0}),c.jsx("div",{className:"container",children:c.jsx("div",{className:"saved-items-content",children:c.jsx("div",{className:"empty-state",children:c.jsxs("div",{className:"empty-content",children:[c.jsx("div",{className:"empty-icon",children:"💬"}),c.jsx("h2",{className:"empty-title",children:"Messaggi non disponibili su mobile"}),c.jsx("p",{className:"empty-description",children:"Per utilizzare la funzione messaggi, accedi dal tuo computer o tablet."})]})})})}),c.jsxs("div",{className:"messages-layout",children:[c.jsx("div",{className:"chat-list-section",children:c.jsx(_x,{chats:Y,selectedChatId:E,onChatSelect:P,onRequestDeleteChat:te})}),c.jsx("div",{className:"chat-conversation-section",children:U?c.jsx(xx,{chat:U,onRequestDeleteChat:te,sendMessage:x,fetchConversationMessages:S}):c.jsx("div",{className:"chat-conversation empty",children:c.jsxs("div",{className:"empty-conversation",children:[c.jsx("div",{className:"empty-conversation-icon",children:"💬"}),c.jsx("h3",{className:"empty-conversation-title",children:"Seleziona una conversazione"}),c.jsx("p",{className:"empty-conversation-text",children:"Scegli una chat dalla lista per iniziare a messaggiare"})]})})})]}),c.jsx(wx,{isOpen:L!==null,title:"Elimina Conversazione",message:L?`Vuoi davvero eliminare la conversazione con ${L.participantName}? Questa azione non può essere annullata.`:"",confirmText:"Elimina",cancelText:"Annulla",onConfirm:se,onCancel:Ee}),u&&c.jsx(w.Suspense,{fallback:c.jsx("div",{}),children:c.jsx(Fm,{isOpen:u,onClose:()=>d(!1)})})]}):c.jsxs("div",{className:"messages-page",children:[c.jsx(Gt,{onLogoClick:l,hideOnMobile:!0}),c.jsx("div",{className:"container",children:c.jsx("div",{className:"saved-items-content",children:c.jsx("div",{className:"empty-state",children:c.jsxs("div",{className:"empty-content",children:[c.jsx("div",{className:"empty-icon",children:"💬"}),c.jsx("h2",{className:"empty-title",children:"Accedi per visualizzare i messaggi"}),c.jsx("p",{className:"empty-description",children:"Effettua il login per vedere le tue conversazioni e iniziare a chattare con gli artisti."}),c.jsx("button",{className:"btn btn-accent",onClick:h,style:{marginTop:"1.5rem"},children:"Accedi"})]})})})}),u&&c.jsx(w.Suspense,{fallback:c.jsx("div",{}),children:c.jsx(Fm,{isOpen:u,onClose:()=>d(!1)})})]})}function Sx({onLogoClick:r}){const{user:i,profile:s,refreshProfile:l}=Qe(),[u,d]=w.useState(!1),[h,v]=w.useState(null),[m,p]=w.useState(!1),[g,b]=w.useState(!1),x=Tt(),S=async()=>{if(!i||!s){v("Devi essere autenticato per diventare un artista");return}if(s.profile_type==="artist"){v("Il tuo profilo è già un profilo artista");return}d(!0),v(null);try{const{error:E}=await fe.from("profiles").update({profile_type:"artist"}).eq("user_id",i.id);if(E)throw E;await l(),p(!0),setTimeout(()=>{x("/profile")},2e3)}catch(E){v(`Errore durante l'aggiornamento: ${E.message}`)}finally{d(!1)}};return w.useEffect(()=>(g?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[g]),c.jsxs("div",{className:"become-artist-page",children:[c.jsx(Gt,{onLogoClick:r}),c.jsxs("div",{className:"become-artist-container",children:[c.jsxs("div",{className:"hero-section",children:[c.jsx("h1",{className:"hero-title",children:"DIVENTA UN ARTISTA"}),c.jsx("p",{className:"hero-subtitle",children:"Trasforma la tua passione in una carriera professionale"}),c.jsx("div",{className:"hero-cta",children:m?c.jsxs("div",{className:"success-message",children:[c.jsx("h2",{children:"BENVENUTO TRA GLI ARTISTI!"}),c.jsx("p",{children:"Il tuo profilo è stato aggiornato con successo. Verrai reindirizzato alla home page..."})]}):c.jsxs(c.Fragment,{children:[h&&c.jsx("div",{className:"error-message",children:h}),c.jsx("button",{className:`hero-cta-button ${u?"loading":""}`,onClick:()=>b(!0),disabled:u||!i,children:u?"AGGIORNAMENTO IN CORSO...":"DIVENTA ARTISTA ORA"}),!i&&c.jsxs("p",{className:"auth-notice",children:["Devi essere autenticato per diventare un artista.",c.jsx("button",{className:"auth-link",onClick:()=>x("/"),children:"Torna alla home per accedere"})]})]})})]}),c.jsxs("div",{className:"benefits-section",children:[c.jsxs("div",{className:"benefit-card",children:[c.jsx("div",{className:"benefit-icon",children:"📸"}),c.jsx("h3",{className:"benefit-title",children:"PUBBLICA I TUOI LAVORI"}),c.jsx("p",{className:"benefit-description",children:"Mostra il tuo portfolio e raggiungi migliaia di potenziali clienti. Carica le tue opere, organizza per categorie e attira nuovi clienti."})]}),c.jsxs("div",{className:"benefit-card",children:[c.jsx("div",{className:"benefit-icon",children:"📊"}),c.jsx("h3",{className:"benefit-title",children:"GESTIONALE PERSONALE"}),c.jsx("p",{className:"benefit-description",children:"Accedi a strumenti avanzati per organizzare le tue opere, gestire le vendite e monitorare le performance del tuo business artistico."})]}),c.jsxs("div",{className:"benefit-card",children:[c.jsx("div",{className:"benefit-icon",children:"📋"}),c.jsx("h3",{className:"benefit-title",children:"ADEMPIMENTI LEGALI"}),c.jsx("p",{className:"benefit-description",children:"Strumenti integrati per gestire fatturazione, contratti, consensi e tutti gli aspetti burocratici dell'attività artistica."})]}),c.jsxs("div",{className:"benefit-card",children:[c.jsx("div",{className:"benefit-icon",children:"💬"}),c.jsx("h3",{className:"benefit-title",children:"COMUNICAZIONE DIRETTA"}),c.jsx("p",{className:"benefit-description",children:"Sistema di messaggistica integrato per comunicare direttamente con i clienti, gestire appuntamenti e follow-up post-tatuaggio."})]})]})]}),g&&c.jsx("div",{className:"auth-overlay",onClick:E=>E.target===E.currentTarget&&b(!1),children:c.jsxs("div",{className:"auth-modal",children:[c.jsx("div",{className:"auth-header-sticky",children:c.jsx("button",{className:"auth-close-btn",onClick:()=>b(!1),children:"×"})}),c.jsx("div",{className:"auth-modal-header",children:c.jsx("div",{className:"confirmation-header-title",children:c.jsx("h2",{className:"confirmation-title",children:"CONFERMA UPGRADE"})})}),c.jsxs("div",{className:"auth-content",children:[c.jsx("div",{className:"confirmation-message-section",children:c.jsx("p",{className:"confirmation-text",children:"Sei sicuro di voler diventare un artista? Questa azione cambierà il tuo profilo da cliente ad artista."})}),c.jsxs("p",{className:"confirmation-note",children:[c.jsx("strong",{children:"Nota:"})," Potrai sempre tornare indietro dalle impostazioni del profilo."]}),c.jsxs("div",{className:"confirmation-actions",children:[c.jsxs("button",{className:"action-btn confirmation-cancel-action",onClick:()=>b(!1),children:[c.jsx("span",{className:"action-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),c.jsx("span",{className:"action-text",children:"Annulla"})]}),c.jsxs("button",{className:`action-btn confirmation-confirm-action ${u?"disabled":""}`,onClick:()=>{b(!1),S()},disabled:u,children:[c.jsx("span",{className:"action-icon",children:c.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})}),c.jsx("span",{className:"action-text",children:u?"AGGIORNAMENTO...":"CONFERMA"})]})]})]})]})})]})}const jx=w.lazy(()=>Sa(()=>Promise.resolve().then(()=>pr),void 0).then(r=>({default:r.AuthOverlay})));function Ex(){const{user:r,profile:i,signOut:s}=Qe(),l=Tt(),[u,d]=w.useState(!1),h=w.useCallback(()=>{d(!0)},[]);w.useEffect(()=>{window.scrollTo(0,0)},[]);const v=()=>{if(i?.full_name)return i.full_name;if(i?.username)return i.username;if(r?.email){const g=r.email.split("@")[0];return g.includes(".")?g.split(".").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" "):g}return"Utente"},m=g=>{switch(g){case"client":return"Cliente";case"artist":return"Artista";default:return g}},p=()=>{s(),l("/")};return!r||!i?c.jsxs("div",{className:"mobile-profile-page",children:[c.jsx("div",{className:"container",children:c.jsx("div",{className:"saved-items-content",children:c.jsx("div",{className:"empty-state",children:c.jsxs("div",{className:"empty-content",children:[c.jsx("div",{className:"empty-icon",children:"👤"}),c.jsx("h2",{className:"empty-title",children:"Accedi per visualizzare il profilo"}),c.jsx("p",{className:"empty-description",children:"Effettua il login per accedere alle impostazioni del tuo profilo e gestire il tuo account."}),c.jsx("button",{className:"btn btn-accent",style:{marginTop:"1.5rem"},onClick:h,children:"Accedi"})]})})})}),u&&c.jsx(w.Suspense,{fallback:c.jsx("div",{}),children:c.jsx(jx,{isOpen:u,onClose:()=>d(!1)})})]}):c.jsxs("div",{className:"mobile-profile-page",children:[c.jsx("div",{className:"container",children:c.jsx("div",{className:"saved-items-content",children:c.jsx("div",{className:"empty-state",children:c.jsxs("div",{className:"empty-content",children:[c.jsx("div",{className:"empty-icon",children:"👤"}),c.jsx("h2",{className:"empty-title",children:"Profilo non disponibile su mobile"}),c.jsx("p",{className:"empty-description",children:"Per gestire il tuo profilo, accedi dal tuo computer o tablet."}),c.jsx("button",{className:"btn btn-accent",style:{marginTop:"1.5rem"},onClick:()=>window.location.href="/",children:"Torna alla Home"})]})})})}),c.jsx("div",{className:"mobile-profile-header",children:c.jsx("h1",{className:"mobile-profile-title",children:"Profilo"})}),c.jsxs("div",{className:"mobile-profile-content",children:[c.jsxs("div",{className:"mobile-profile-user",children:[c.jsx("div",{className:"mobile-profile-avatar",children:c.jsx(Yt,{src:i.avatar_url,name:i.full_name,alt:`Avatar di ${v()}`,size:"lg",variant:"default"})}),c.jsxs("div",{className:"mobile-profile-info",children:[c.jsx("div",{className:"mobile-profile-name",children:v()}),c.jsx("div",{className:"mobile-profile-type",children:m(i.profile_type)})]})]}),c.jsxs("div",{className:"mobile-profile-menu",children:[i.profile_type!=="artist"&&c.jsxs("button",{className:"mobile-profile-item become-artist-btn",onClick:()=>l("/become-artist"),children:[c.jsx("span",{className:"mobile-profile-item-text",children:"Diventi un'artista"}),c.jsx("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),i.profile_type==="artist"&&c.jsxs("button",{className:"mobile-profile-item",onClick:()=>l("/profile"),children:[c.jsx("span",{className:"mobile-profile-item-text",children:"Il mio profilo"}),c.jsx("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),c.jsxs("button",{className:"mobile-profile-item",onClick:()=>{alert("Impostazioni non ancora implementate")},children:[c.jsx("span",{className:"mobile-profile-item-text",children:"Impostazioni"}),c.jsx("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),c.jsxs("button",{className:"mobile-profile-item logout-item",onClick:p,children:[c.jsx("span",{className:"mobile-profile-item-text",children:"Esci"}),c.jsxs("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),c.jsx("polyline",{points:"16,17 21,12 16,7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})]})]})]})]})}function Nx(){const r=Tt(),{profile:i}=Qe(),s=()=>{r("/")},l=u=>{i&&i.user_id===u?r("/profile"):r(`/artist/${u}`)};return c.jsxs(u0,{children:[c.jsx(ga,{path:"/",element:c.jsx(dx,{})}),c.jsx(ga,{path:"/artist/:artistId",element:c.jsx(hx,{})}),c.jsx(ga,{path:"/profile",element:c.jsx(vx,{})}),c.jsx(ga,{path:"/profile-menu",element:c.jsx(Ex,{})}),c.jsx(ga,{path:"/saved",element:c.jsx(yx,{onLogoClick:s,onArtistClick:l})}),c.jsx(ga,{path:"/messages",element:c.jsx(Wm,{})}),c.jsx(ga,{path:"/messages/:artistId",element:c.jsx(Wm,{})}),c.jsx(ga,{path:"/become-artist",element:c.jsx(Sx,{onLogoClick:s})})]})}function Tx({onSearchClick:r}){const i=wa(),s=Tt(),{profile:l,user:u}=Qe(),d=()=>{if(l?.full_name)return l.full_name;if(l?.username)return l.username;if(u?.email){const m=u.email.split("@")[0];return m.includes(".")?m.split(".").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "):m}return"Utente"},h=m=>i.pathname===m,v=m=>{m==="/"?(s("/"),r?.()):s(m)};return c.jsxs("div",{className:"mobile-navbar",children:[c.jsxs("button",{className:`mobile-nav-item ${h("/")?"active":""}`,onClick:()=>v("/"),"aria-label":"Ricerca",children:[c.jsxs("svg",{className:"mobile-nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("path",{d:"M21 21l-4.35-4.35"})]}),c.jsx("span",{className:"mobile-nav-label",children:"Cerca"})]}),c.jsxs("button",{className:`mobile-nav-item ${h("/saved")?"active":""}`,onClick:()=>v("/saved"),"aria-label":"Elementi salvati",children:[c.jsx("svg",{className:"mobile-nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),c.jsx("span",{className:"mobile-nav-label",children:"Salvati"})]}),c.jsxs("button",{className:`mobile-nav-item ${h("/messages")?"active":""}`,onClick:()=>v("/messages"),"aria-label":"Messaggi",children:[c.jsx("svg",{className:"mobile-nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),c.jsx("span",{className:"mobile-nav-label",children:"Messaggi"})]}),c.jsxs("button",{className:`mobile-nav-item ${h("/profile-menu")?"active":""}`,onClick:()=>v("/profile-menu"),"aria-label":"Profilo",children:[c.jsx("div",{className:"mobile-nav-avatar",children:c.jsx(Yt,{src:l?.avatar_url,name:l?.full_name,alt:`Avatar di ${d()}`,size:"xs",variant:"default"})}),c.jsx("span",{className:"mobile-nav-label",children:"Profilo"})]})]})}function Ax(){return c.jsx(Zb,{children:c.jsxs("div",{className:"app-container",children:[c.jsx(Nx,{}),c.jsx(Tx,{})]})})}by.createRoot(document.getElementById("root")).render(c.jsx(D0,{basename:"/Skunk",children:c.jsx(Ax,{})}));
