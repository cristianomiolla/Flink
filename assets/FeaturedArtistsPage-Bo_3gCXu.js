const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CRZ081Ij.js","assets/index-BzcMdIz7.css"])))=>i.map(i=>d[i]);
import{a as w,b as A,i as N,c as C,r as s,j as e,S as p,L as _,k as b,_ as S}from"./index-CRZ081Ij.js";/* empty css                       */import{P as T}from"./PageHeader-3WudJlMU.js";import{E as y}from"./EmptyState-C-Wjzl4p.js";const E=s.lazy(()=>S(()=>import("./index-CRZ081Ij.js").then(a=>a.w),__vite__mapDeps([0,1])).then(a=>({default:a.AuthOverlay})));function I({onLogoClick:a}){const o=w(),{profile:d}=A(),{artistProfiles:i,loading:g,error:l}=N(),{fetchFollowerStats:u,getFollowerStats:h}=C(),[m,f]=s.useState(!1),x=s.useCallback(()=>{f(!0)},[]),j=s.useCallback(t=>{o(`/messages/${t}`)},[o]),v=s.useCallback(t=>{d&&d.user_id===t?o("/profile"):o(`/artist/${t}`)},[o,d]);s.useEffect(()=>{window.scrollTo(0,0)},[]),s.useEffect(()=>{if(i.length>0){const t=i.map(r=>r.user_id);u(t)}},[i,u]);const n=s.useMemo(()=>!i||i.length===0?[]:i.map(r=>{const c=h(r.user_id);return{...r,followerCount:c?.follower_count||0}}).sort((r,c)=>c.followerCount!==r.followerCount?c.followerCount-r.followerCount:new Date(c.created_at).getTime()-new Date(r.created_at).getTime()),[i,h]);return g?e.jsxs("div",{className:"page-container",children:[e.jsx(p,{onLogoClick:a,hideOnMobile:!0}),e.jsx("div",{className:"page-loading",children:e.jsx(_,{})})]}):e.jsxs("div",{className:"saved-items-page",children:[e.jsx(p,{onLogoClick:a,hideOnMobile:!0}),e.jsxs("div",{className:"container",children:[!l&&n.length===0&&e.jsx(y,{icon:"👨‍🎨",title:"Nessun artista in evidenza",description:"Non ci sono ancora artisti da mostrare. Torna più tardi per scoprire gli artisti più seguiti dalla community.",action:e.jsx("button",{className:"action-btn",onClick:a,style:{marginTop:"1.5rem"},children:"Torna alla Home"})}),(n.length>0||l)&&e.jsxs("div",{className:"page-content",children:[n.length>0&&e.jsx("div",{className:"header-card",children:e.jsx(T,{title:"ARTISTI IN EVIDENZA",subtitle:n.length===1?"1 artista in evidenza":`${n.length} artisti in evidenza`})}),l&&e.jsx("div",{className:"error-state",children:e.jsxs("div",{className:"error-content",children:[e.jsx("p",{className:"error-message",children:l}),e.jsx("button",{className:"btn btn-accent retry-btn",onClick:a,style:{marginTop:"1.5rem"},children:"Torna alla Home"})]})}),!l&&n.length>0&&e.jsx("div",{className:"artist-grid",children:n.map(t=>e.jsx(b,{profile:t,onArtistClick:v,onAuthRequired:x,onContactArtist:j},t.id))})]})]}),m&&e.jsx(s.Suspense,{fallback:e.jsx("div",{}),children:e.jsx(E,{isOpen:m,onClose:()=>f(!1)})})]})}export{I as FeaturedArtistsPage};
