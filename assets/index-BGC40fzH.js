(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function ly(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ry(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var i=r.default;if(typeof i=="function"){var s=function l(){var c=!1;try{c=this instanceof l}catch{}return c?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var c=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(s,l,c.get?c:{enumerable:!0,get:function(){return r[l]}})}),s}var Ac={exports:{}},Cs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function oy(){if(rm)return Cs;rm=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(l,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var v in c)v!=="key"&&(d[v]=c[v])}else d=c;return c=d.ref,{$$typeof:r,type:l,key:h,ref:c!==void 0?c:null,props:d}}return Cs.Fragment=i,Cs.jsx=s,Cs.jsxs=s,Cs}var om;function cy(){return om||(om=1,Ac.exports=oy()),Ac.exports}var u=cy(),Oc={exports:{}},As={},Rc={exports:{}},kc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function uy(){return cm||(cm=1,(function(r){function i(U,X){var ae=U.length;U.push(X);e:for(;0<ae;){var Se=ae-1>>>1,N=U[Se];if(0<c(N,X))U[Se]=X,U[ae]=N,ae=Se;else break e}}function s(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var X=U[0],ae=U.pop();if(ae!==X){U[0]=ae;e:for(var Se=0,N=U.length,Y=N>>>1;Se<Y;){var W=2*(Se+1)-1,J=U[W],se=W+1,xe=U[se];if(0>c(J,ae))se<N&&0>c(xe,J)?(U[Se]=xe,U[se]=ae,Se=se):(U[Se]=J,U[W]=ae,Se=W);else if(se<N&&0>c(xe,ae))U[Se]=xe,U[se]=ae,Se=se;else break e}}return X}function c(U,X){var ae=U.sortIndex-X.sortIndex;return ae!==0?ae:U.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var h=Date,v=h.now();r.unstable_now=function(){return h.now()-v}}var m=[],p=[],g=1,b=null,x=3,S=!1,E=!1,O=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var X=s(p);X!==null;){if(X.callback===null)l(p);else if(X.startTime<=U)l(p),X.sortIndex=X.expirationTime,i(m,X);else break;X=s(p)}}function H(U){if(O=!1,P(U),!E)if(s(m)!==null)E=!0,L||(L=!0,I());else{var X=s(p);X!==null&&Ne(H,X.startTime-U)}}var L=!1,K=-1,re=5,F=-1;function Q(){return T?!0:!(r.unstable_now()-F<re)}function te(){if(T=!1,L){var U=r.unstable_now();F=U;var X=!0;try{e:{E=!1,O&&(O=!1,B(K),K=-1),S=!0;var ae=x;try{t:{for(P(U),b=s(m);b!==null&&!(b.expirationTime>U&&Q());){var Se=b.callback;if(typeof Se=="function"){b.callback=null,x=b.priorityLevel;var N=Se(b.expirationTime<=U);if(U=r.unstable_now(),typeof N=="function"){b.callback=N,P(U),X=!0;break t}b===s(m)&&l(m),P(U)}else l(m);b=s(m)}if(b!==null)X=!0;else{var Y=s(p);Y!==null&&Ne(H,Y.startTime-U),X=!1}}break e}finally{b=null,x=ae,S=!1}X=void 0}}finally{X?I():L=!1}}}var I;if(typeof A=="function")I=function(){A(te)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ve=fe.port2;fe.port1.onmessage=te,I=function(){ve.postMessage(null)}}else I=function(){k(te,0)};function Ne(U,X){K=k(function(){U(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(U){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var ae=x;x=X;try{return U()}finally{x=ae}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=x;x=U;try{return X()}finally{x=ae}},r.unstable_scheduleCallback=function(U,X,ae){var Se=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Se+ae:Se):ae=Se,U){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ae+N,U={id:g++,callback:X,priorityLevel:U,startTime:ae,expirationTime:N,sortIndex:-1},ae>Se?(U.sortIndex=ae,i(p,U),s(m)===null&&U===s(p)&&(O?(B(K),K=-1):O=!0,Ne(H,ae-Se))):(U.sortIndex=N,i(m,U),E||S||(E=!0,L||(L=!0,I()))),U},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(U){var X=x;return function(){var ae=x;x=X;try{return U.apply(this,arguments)}finally{x=ae}}}})(kc)),kc}var um;function dy(){return um||(um=1,Rc.exports=uy()),Rc.exports}var Mc={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function fy(){if(dm)return me;dm=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function T(N,Y,W){this.props=N,this.context=Y,this.refs=O,this.updater=W||S}T.prototype.isReactComponent={},T.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function k(){}k.prototype=T.prototype;function B(N,Y,W){this.props=N,this.context=Y,this.refs=O,this.updater=W||S}var A=B.prototype=new k;A.constructor=B,E(A,T.prototype),A.isPureReactComponent=!0;var P=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function K(N,Y,W,J,se,xe){return W=xe.ref,{$$typeof:r,type:N,key:Y,ref:W!==void 0?W:null,props:xe}}function re(N,Y){return K(N.type,Y,void 0,void 0,void 0,N.props)}function F(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function Q(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(W){return Y[W]})}var te=/\/+/g;function I(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?Q(""+N.key):Y.toString(36)}function fe(){}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(fe,fe):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ne(N,Y,W,J,se){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var ce=!1;if(N===null)ce=!0;else switch(xe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(N.$$typeof){case r:case i:ce=!0;break;case g:return ce=N._init,Ne(ce(N._payload),Y,W,J,se)}}if(ce)return se=se(N),ce=J===""?"."+I(N,0):J,P(se)?(W="",ce!=null&&(W=ce.replace(te,"$&/")+"/"),Ne(se,Y,W,"",function(Yt){return Yt})):se!=null&&(F(se)&&(se=re(se,W+(se.key==null||N&&N.key===se.key?"":(""+se.key).replace(te,"$&/")+"/")+ce)),Y.push(se)),1;ce=0;var ct=J===""?".":J+":";if(P(N))for(var De=0;De<N.length;De++)J=N[De],xe=ct+I(J,De),ce+=Ne(J,Y,W,xe,se);else if(De=x(N),typeof De=="function")for(N=De.call(N),De=0;!(J=N.next()).done;)J=J.value,xe=ct+I(J,De++),ce+=Ne(J,Y,W,xe,se);else if(xe==="object"){if(typeof N.then=="function")return Ne(ve(N),Y,W,J,se);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ce}function U(N,Y,W){if(N==null)return N;var J=[],se=0;return Ne(N,J,"","",function(xe){return Y.call(W,xe,se++)}),J}function X(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(W){(N._status===0||N._status===-1)&&(N._status=1,N._result=W)},function(W){(N._status===0||N._status===-1)&&(N._status=2,N._result=W)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var ae=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Se(){}return me.Children={map:U,forEach:function(N,Y,W){U(N,function(){Y.apply(this,arguments)},W)},count:function(N){var Y=0;return U(N,function(){Y++}),Y},toArray:function(N){return U(N,function(Y){return Y})||[]},only:function(N){if(!F(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},me.Component=T,me.Fragment=s,me.Profiler=c,me.PureComponent=B,me.StrictMode=l,me.Suspense=m,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return H.H.useMemoCache(N)}},me.cache=function(N){return function(){return N.apply(null,arguments)}},me.cloneElement=function(N,Y,W){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=E({},N.props),se=N.key,xe=void 0;if(Y!=null)for(ce in Y.ref!==void 0&&(xe=void 0),Y.key!==void 0&&(se=""+Y.key),Y)!L.call(Y,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&Y.ref===void 0||(J[ce]=Y[ce]);var ce=arguments.length-2;if(ce===1)J.children=W;else if(1<ce){for(var ct=Array(ce),De=0;De<ce;De++)ct[De]=arguments[De+2];J.children=ct}return K(N.type,se,void 0,void 0,xe,J)},me.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},me.createElement=function(N,Y,W){var J,se={},xe=null;if(Y!=null)for(J in Y.key!==void 0&&(xe=""+Y.key),Y)L.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(se[J]=Y[J]);var ce=arguments.length-2;if(ce===1)se.children=W;else if(1<ce){for(var ct=Array(ce),De=0;De<ce;De++)ct[De]=arguments[De+2];se.children=ct}if(N&&N.defaultProps)for(J in ce=N.defaultProps,ce)se[J]===void 0&&(se[J]=ce[J]);return K(N,xe,void 0,void 0,null,se)},me.createRef=function(){return{current:null}},me.forwardRef=function(N){return{$$typeof:v,render:N}},me.isValidElement=F,me.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:X}},me.memo=function(N,Y){return{$$typeof:p,type:N,compare:Y===void 0?null:Y}},me.startTransition=function(N){var Y=H.T,W={};H.T=W;try{var J=N(),se=H.S;se!==null&&se(W,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Se,ae)}catch(xe){ae(xe)}finally{H.T=Y}},me.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},me.use=function(N){return H.H.use(N)},me.useActionState=function(N,Y,W){return H.H.useActionState(N,Y,W)},me.useCallback=function(N,Y){return H.H.useCallback(N,Y)},me.useContext=function(N){return H.H.useContext(N)},me.useDebugValue=function(){},me.useDeferredValue=function(N,Y){return H.H.useDeferredValue(N,Y)},me.useEffect=function(N,Y,W){var J=H.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(N,Y)},me.useId=function(){return H.H.useId()},me.useImperativeHandle=function(N,Y,W){return H.H.useImperativeHandle(N,Y,W)},me.useInsertionEffect=function(N,Y){return H.H.useInsertionEffect(N,Y)},me.useLayoutEffect=function(N,Y){return H.H.useLayoutEffect(N,Y)},me.useMemo=function(N,Y){return H.H.useMemo(N,Y)},me.useOptimistic=function(N,Y){return H.H.useOptimistic(N,Y)},me.useReducer=function(N,Y,W){return H.H.useReducer(N,Y,W)},me.useRef=function(N){return H.H.useRef(N)},me.useState=function(N){return H.H.useState(N)},me.useSyncExternalStore=function(N,Y,W){return H.H.useSyncExternalStore(N,Y,W)},me.useTransition=function(){return H.H.useTransition()},me.version="19.1.1",me}var fm;function su(){return fm||(fm=1,Mc.exports=fy()),Mc.exports}var Dc={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function hy(){if(hm)return ot;hm=1;var r=su();function i(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(m,p,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:m,containerInfo:p,implementation:g}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ot.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return d(m,p,null,g)},ot.flushSync=function(m){var p=h.T,g=l.p;try{if(h.T=null,l.p=2,m)return m()}finally{h.T=p,l.p=g,l.d.f()}},ot.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},ot.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},ot.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,b=v(g,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):g==="script"&&l.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ot.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=v(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},ot.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,b=v(g,p.crossOrigin);l.d.L(m,g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ot.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=v(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},ot.requestFormReset=function(m){l.d.r(m)},ot.unstable_batchedUpdates=function(m,p){return m(p)},ot.useFormState=function(m,p,g){return h.H.useFormState(m,p,g)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.1.1",ot}var mm;function my(){if(mm)return Dc.exports;mm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Dc.exports=hy(),Dc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function vy(){if(vm)return As;vm=1;var r=dy(),i=su(),s=my();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var o=a.return;if(o===null)break;var f=o.alternate;if(f===null){if(n=o.return,n!==null){a=n;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===a)return v(o),e;if(f===n)return v(o),t;f=f.sibling}throw Error(l(188))}if(a.return!==n.return)a=o,n=f;else{for(var y=!1,_=o.child;_;){if(_===a){y=!0,a=o,n=f;break}if(_===n){y=!0,n=o,a=f;break}_=_.sibling}if(!y){for(_=f.child;_;){if(_===a){y=!0,a=f,n=o;break}if(_===n){y=!0,n=f,a=o;break}_=_.sibling}if(!y)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case T:return"Profiler";case O:return"StrictMode";case H:return"Suspense";case L:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case A:return(e.displayName||"Context")+".Provider";case B:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}var Ne=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Se=[],N=-1;function Y(e){return{current:e}}function W(e){0>N||(e.current=Se[N],Se[N]=null,N--)}function J(e,t){N++,Se[N]=e.current,e.current=t}var se=Y(null),xe=Y(null),ce=Y(null),ct=Y(null);function De(e,t){switch(J(ce,t),J(xe,e),J(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Uh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Uh(t),e=Lh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(se),J(se,e)}function Yt(){W(se),W(xe),W(ce)}function $s(e){e.memoizedState!==null&&J(ct,e);var t=se.current,a=Lh(t,e.type);t!==a&&(J(xe,e),J(se,a))}function jn(e){xe.current===e&&(W(se),W(xe)),ct.current===e&&(W(ct),Ss._currentValue=ae)}var En=Object.prototype.hasOwnProperty,Ai=r.unstable_scheduleCallback,Oi=r.unstable_cancelCallback,Nn=r.unstable_shouldYield,Z=r.unstable_requestPaint,ie=r.unstable_now,Ge=r.unstable_getCurrentPriorityLevel,ke=r.unstable_ImmediatePriority,Sa=r.unstable_UserBlockingPriority,ja=r.unstable_NormalPriority,ta=r.unstable_LowPriority,Gs=r.unstable_IdlePriority,Gv=r.log,Pv=r.unstable_setDisableYieldValue,Ri=null,yt=null;function Ea(e){if(typeof Gv=="function"&&Pv(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Ri,e)}catch{}}var _t=Math.clz32?Math.clz32:Kv,Vv=Math.log,Yv=Math.LN2;function Kv(e){return e>>>=0,e===0?32:31-(Vv(e)/Yv|0)|0}var Ps=256,Vs=4194304;function Wa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ys(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var o=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var _=n&134217727;return _!==0?(n=_&~f,n!==0?o=Wa(n):(y&=_,y!==0?o=Wa(y):a||(a=_&~e,a!==0&&(o=Wa(a))))):(_=n&~f,_!==0?o=Wa(_):y!==0?o=Wa(y):a||(a=n&~e,a!==0&&(o=Wa(a)))),o===0?0:t!==0&&t!==o&&(t&f)===0&&(f=o&-o,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:o}function ki(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Qv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var e=Ps;return Ps<<=1,(Ps&4194048)===0&&(Ps=256),e}function yu(){var e=Vs;return Vs<<=1,(Vs&62914560)===0&&(Vs=4194304),e}function gr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Mi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xv(e,t,a,n,o,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,j=e.expirationTimes,D=e.hiddenUpdates;for(a=y&~a;0<a;){var $=31-_t(a),V=1<<$;_[$]=0,j[$]=-1;var z=D[$];if(z!==null)for(D[$]=null,$=0;$<z.length;$++){var q=z[$];q!==null&&(q.lane&=-536870913)}a&=~V}n!==0&&_u(e,n,0),f!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function _u(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-_t(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function bu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-_t(a),o=1<<n;o&t|e[n]&t&&(e[n]|=t),a&=~o}}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _r(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xu(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:tm(e.type))}function Zv(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var Na=Math.random().toString(36).slice(2),lt="__reactFiber$"+Na,ft="__reactProps$"+Na,Tn="__reactContainer$"+Na,br="__reactEvents$"+Na,Iv="__reactListeners$"+Na,Jv="__reactHandles$"+Na,wu="__reactResources$"+Na,Di="__reactMarker$"+Na;function xr(e){delete e[lt],delete e[ft],delete e[br],delete e[Iv],delete e[Jv]}function Cn(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Tn]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Hh(e);e!==null;){if(a=e[lt])return a;e=Hh(e)}return t}e=a,a=e.parentNode}return null}function An(e){if(e=e[lt]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ui(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function On(e){var t=e[wu];return t||(t=e[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Di]=!0}var Su=new Set,ju={};function en(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(ju[e]=t,e=0;e<t.length;e++)Su.add(t[e])}var Fv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},Nu={};function Wv(e){return En.call(Nu,e)?!0:En.call(Eu,e)?!1:Fv.test(e)?Nu[e]=!0:(Eu[e]=!0,!1)}function Ks(e,t,a){if(Wv(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Qs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function aa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var wr,Tu;function kn(e){if(wr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);wr=t&&t[1]||"",Tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+e+Tu}var Sr=!1;function jr(e,t){if(!e||Sr)return"";Sr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(q){var z=q}Reflect.construct(e,[],V)}else{try{V.call()}catch(q){z=q}e.call(V.prototype)}}else{try{throw Error()}catch(q){z=q}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=n.DetermineComponentFrameRoot(),y=f[0],_=f[1];if(y&&_){var j=y.split(`
`),D=_.split(`
`);for(o=n=0;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(n===j.length||o===D.length)for(n=j.length-1,o=D.length-1;1<=n&&0<=o&&j[n]!==D[o];)o--;for(;1<=n&&0<=o;n--,o--)if(j[n]!==D[o]){if(n!==1||o!==1)do if(n--,o--,0>o||j[n]!==D[o]){var $=`
`+j[n].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=n&&0<=o);break}}}finally{Sr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?kn(a):""}function ep(e){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return jr(e.type,!1);case 11:return jr(e.type.render,!1);case 1:return jr(e.type,!0);case 31:return kn("Activity");default:return""}}function Cu(e){try{var t="";do t+=ep(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Au(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tp(e){var t=Au(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(y){n=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xs(e){e._valueTracker||(e._valueTracker=tp(e))}function Ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Au(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ap=/[\n"\\]/g;function Ct(e){return e.replace(ap,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Er(e,t,a,n,o,f,y,_){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tt(t)):e.value!==""+Tt(t)&&(e.value=""+Tt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Nr(e,y,Tt(t)):a!=null?Nr(e,y,Tt(a)):n!=null&&e.removeAttribute("value"),o==null&&f!=null&&(e.defaultChecked=!!f),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Tt(_):e.removeAttribute("name")}function Ru(e,t,a,n,o,f,y,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+Tt(a):"",t=t!=null?""+Tt(t):a,_||t===e.value||(e.value=t),e.defaultValue=t}n=n??o,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=_?e.checked:!!n,e.defaultChecked=!!n,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Nr(e,t,a){t==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Mn(e,t,a,n){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Tt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ku(e,t,a){if(t!=null&&(t=""+Tt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Tt(a):""}function Mu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(l(92));if(Ne(n)){if(1<n.length)throw Error(l(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Tt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Dn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var np=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||np.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Uu(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var o in t)n=t[o],t.hasOwnProperty(o)&&a[o]!==n&&Du(e,o,n)}else for(var f in t)t.hasOwnProperty(f)&&Du(e,f,t[f])}function Tr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(e){return sp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Cr=null;function Ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Un=null,Ln=null;function Lu(e){var t=An(e);if(t&&(e=t.stateNode)){var a=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Er(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ct(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var o=n[ft]||null;if(!o)throw Error(l(90));Er(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Ou(n)}break e;case"textarea":ku(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Mn(e,!!a.multiple,t,!1)}}}var Or=!1;function zu(e,t,a){if(Or)return e(t,a);Or=!0;try{var n=e(t);return n}finally{if(Or=!1,(Un!==null||Ln!==null)&&(Ul(),Un&&(t=Un,e=Ln,Ln=Un=null,Lu(t),e)))for(t=0;t<e.length;t++)Lu(e[t])}}function Li(e,t){var a=e.stateNode;if(a===null)return null;var n=a[ft]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(na)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Rr=!1}var Ta=null,kr=null,Js=null;function Bu(){if(Js)return Js;var e,t=kr,a=t.length,n,o="value"in Ta?Ta.value:Ta.textContent,f=o.length;for(e=0;e<a&&t[e]===o[e];e++);var y=a-e;for(n=1;n<=y&&t[a-n]===o[f-n];n++);return Js=o.slice(e,1<n?1-n:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function qu(){return!1}function ht(e){function t(a,n,o,f,y){this._reactName=a,this._targetInst=o,this.type=n,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ws:qu,this.isPropagationStopped=qu,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=ht(tn),Bi=g({},tn,{view:0,detail:0}),lp=ht(Bi),Mr,Dr,qi,tl=g({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Mr=e.screenX-qi.screenX,Dr=e.screenY-qi.screenY):Dr=Mr=0,qi=e),Mr)},movementY:function(e){return"movementY"in e?e.movementY:Dr}}),Hu=ht(tl),rp=g({},tl,{dataTransfer:0}),op=ht(rp),cp=g({},Bi,{relatedTarget:0}),Ur=ht(cp),up=g({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),dp=ht(up),fp=g({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hp=ht(fp),mp=g({},tn,{data:0}),$u=ht(mp),vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gp[e])?!!t[e]:!1}function Lr(){return yp}var _p=g({},Bi,{key:function(e){if(e.key){var t=vp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bp=ht(_p),xp=g({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gu=ht(xp),wp=g({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),Sp=ht(wp),jp=g({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ep=ht(jp),Np=g({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tp=ht(Np),Cp=g({},tn,{newState:0,oldState:0}),Ap=ht(Cp),Op=[9,13,27,32],zr=na&&"CompositionEvent"in window,Hi=null;na&&"documentMode"in document&&(Hi=document.documentMode);var Rp=na&&"TextEvent"in window&&!Hi,Pu=na&&(!zr||Hi&&8<Hi&&11>=Hi),Vu=" ",Yu=!1;function Ku(e,t){switch(e){case"keyup":return Op.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function kp(e,t){switch(e){case"compositionend":return Qu(t);case"keypress":return t.which!==32?null:(Yu=!0,Vu);case"textInput":return e=t.data,e===Vu&&Yu?null:e;default:return null}}function Mp(e,t){if(zn)return e==="compositionend"||!zr&&Ku(e,t)?(e=Bu(),Js=kr=Ta=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pu&&t.locale!=="ko"?null:t.data;default:return null}}var Dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dp[e.type]:t==="textarea"}function Zu(e,t,a,n){Un?Ln?Ln.push(n):Ln=[n]:Un=n,t=$l(t,"onChange"),0<t.length&&(a=new el("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var $i=null,Gi=null;function Up(e){Oh(e,0)}function al(e){var t=Ui(e);if(Ou(t))return e}function Iu(e,t){if(e==="change")return t}var Ju=!1;if(na){var Br;if(na){var qr="oninput"in document;if(!qr){var Fu=document.createElement("div");Fu.setAttribute("oninput","return;"),qr=typeof Fu.oninput=="function"}Br=qr}else Br=!1;Ju=Br&&(!document.documentMode||9<document.documentMode)}function Wu(){$i&&($i.detachEvent("onpropertychange",ed),Gi=$i=null)}function ed(e){if(e.propertyName==="value"&&al(Gi)){var t=[];Zu(t,Gi,e,Ar(e)),zu(Up,t)}}function Lp(e,t,a){e==="focusin"?(Wu(),$i=t,Gi=a,$i.attachEvent("onpropertychange",ed)):e==="focusout"&&Wu()}function zp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Gi)}function Bp(e,t){if(e==="click")return al(t)}function qp(e,t){if(e==="input"||e==="change")return al(t)}function Hp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:Hp;function Pi(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var o=a[n];if(!En.call(t,o)||!bt(e[o],t[o]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ad(e,t){var a=td(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=td(a)}}function nd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function id(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Zs(e.document)}return t}function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $p=na&&"documentMode"in document&&11>=document.documentMode,Bn=null,$r=null,Vi=null,Gr=!1;function sd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gr||Bn==null||Bn!==Zs(n)||(n=Bn,"selectionStart"in n&&Hr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vi&&Pi(Vi,n)||(Vi=n,n=$l($r,"onSelect"),0<n.length&&(t=new el("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Bn)))}function an(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var qn={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionrun:an("Transition","TransitionRun"),transitionstart:an("Transition","TransitionStart"),transitioncancel:an("Transition","TransitionCancel"),transitionend:an("Transition","TransitionEnd")},Pr={},ld={};na&&(ld=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function nn(e){if(Pr[e])return Pr[e];if(!qn[e])return e;var t=qn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ld)return Pr[e]=t[a];return e}var rd=nn("animationend"),od=nn("animationiteration"),cd=nn("animationstart"),Gp=nn("transitionrun"),Pp=nn("transitionstart"),Vp=nn("transitioncancel"),ud=nn("transitionend"),dd=new Map,Vr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vr.push("scrollEnd");function Bt(e,t){dd.set(e,t),en(t,[e])}var fd=new WeakMap;function At(e,t){if(typeof e=="object"&&e!==null){var a=fd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Cu(t)},fd.set(e,t),t)}return{value:e,source:t,stack:Cu(t)}}var Ot=[],Hn=0,Yr=0;function nl(){for(var e=Hn,t=Yr=Hn=0;t<e;){var a=Ot[t];Ot[t++]=null;var n=Ot[t];Ot[t++]=null;var o=Ot[t];Ot[t++]=null;var f=Ot[t];if(Ot[t++]=null,n!==null&&o!==null){var y=n.pending;y===null?o.next=o:(o.next=y.next,y.next=o),n.pending=o}f!==0&&hd(a,o,f)}}function il(e,t,a,n){Ot[Hn++]=e,Ot[Hn++]=t,Ot[Hn++]=a,Ot[Hn++]=n,Yr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Kr(e,t,a,n){return il(e,t,a,n),sl(e)}function $n(e,t){return il(e,null,null,t),sl(e)}function hd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var o=!1,f=e.return;f!==null;)f.childLanes|=a,n=f.alternate,n!==null&&(n.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(o=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,o&&t!==null&&(o=31-_t(a),e=f.hiddenUpdates,n=e[o],n===null?e[o]=[t]:n.push(t),t.lane=a|536870912),f):null}function sl(e){if(50<vs)throw vs=0,Wo=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Gn={};function Yp(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,a,n){return new Yp(e,t,a,n)}function Qr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,t){var a=e.alternate;return a===null?(a=xt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function md(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ll(e,t,a,n,o,f){var y=0;if(n=e,typeof e=="function")Qr(e)&&(y=1);else if(typeof e=="string")y=Qg(e,a,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=xt(31,a,t,o),e.elementType=F,e.lanes=f,e;case E:return sn(a.children,o,f,t);case O:y=8,o|=24;break;case T:return e=xt(12,a,t,o|2),e.elementType=T,e.lanes=f,e;case H:return e=xt(13,a,t,o),e.elementType=H,e.lanes=f,e;case L:return e=xt(19,a,t,o),e.elementType=L,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case A:y=10;break e;case B:y=9;break e;case P:y=11;break e;case K:y=14;break e;case re:y=16,n=null;break e}y=29,a=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=xt(y,a,t,o),t.elementType=e,t.type=n,t.lanes=f,t}function sn(e,t,a,n){return e=xt(7,e,n,t),e.lanes=a,e}function Xr(e,t,a){return e=xt(6,e,null,t),e.lanes=a,e}function Zr(e,t,a){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pn=[],Vn=0,rl=null,ol=0,Rt=[],kt=0,ln=null,sa=1,la="";function rn(e,t){Pn[Vn++]=ol,Pn[Vn++]=rl,rl=e,ol=t}function vd(e,t,a){Rt[kt++]=sa,Rt[kt++]=la,Rt[kt++]=ln,ln=e;var n=sa;e=la;var o=32-_t(n)-1;n&=~(1<<o),a+=1;var f=32-_t(t)+o;if(30<f){var y=o-o%5;f=(n&(1<<y)-1).toString(32),n>>=y,o-=y,sa=1<<32-_t(t)+o|a<<o|n,la=f+e}else sa=1<<f|a<<o|n,la=e}function Ir(e){e.return!==null&&(rn(e,1),vd(e,1,0))}function Jr(e){for(;e===rl;)rl=Pn[--Vn],Pn[Vn]=null,ol=Pn[--Vn],Pn[Vn]=null;for(;e===ln;)ln=Rt[--kt],Rt[kt]=null,la=Rt[--kt],Rt[kt]=null,sa=Rt[--kt],Rt[kt]=null}var ut=null,He=null,Ee=!1,on=null,Kt=!1,Fr=Error(l(519));function cn(e){var t=Error(l(418,""));throw Qi(At(t,e)),Fr}function pd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[lt]=e,t[ft]=n,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<gs.length;a++)_e(gs[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Ru(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Xs(t);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Mu(t,n.value,n.defaultValue,n.children),Xs(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Dh(t.textContent,a)?(n.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),n.onScroll!=null&&_e("scroll",t),n.onScrollEnd!=null&&_e("scrollend",t),n.onClick!=null&&(t.onclick=Gl),t=!0):t=!1,t||cn(e)}function gd(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:ut=ut.return}}function Yi(e){if(e!==ut)return!1;if(!Ee)return gd(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vc(e.type,e.memoizedProps)),a=!a),a&&He&&cn(e),gd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){He=Ht(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}He=null}}else t===27?(t=He,Pa(e.type)?(e=_c,_c=null,He=e):He=t):He=ut?Ht(e.stateNode.nextSibling):null;return!0}function Ki(){He=ut=null,Ee=!1}function yd(){var e=on;return e!==null&&(pt===null?pt=e:pt.push.apply(pt,e),on=null),e}function Qi(e){on===null?on=[e]:on.push(e)}var Wr=Y(null),un=null,ra=null;function Ca(e,t,a){J(Wr,t._currentValue),t._currentValue=a}function oa(e){e._currentValue=Wr.current,W(Wr)}function eo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function to(e,t,a,n){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){var y=o.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=o;for(var j=0;j<t.length;j++)if(_.context===t[j]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),eo(f.return,a,e),n||(y=null);break e}f=_.next}}else if(o.tag===18){if(y=o.return,y===null)throw Error(l(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),eo(y,a,e),y=null}else y=o.child;if(y!==null)y.return=o;else for(y=o;y!==null;){if(y===e){y=null;break}if(o=y.sibling,o!==null){o.return=y.return,y=o;break}y=y.return}o=y}}function Xi(e,t,a,n){e=null;for(var o=t,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var y=o.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var _=o.type;bt(o.pendingProps.value,y.value)||(e!==null?e.push(_):e=[_])}}else if(o===ct.current){if(y=o.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ss):e=[Ss])}o=o.return}e!==null&&to(t,e,a,n),t.flags|=262144}function cl(e){for(e=e.firstContext;e!==null;){if(!bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function dn(e){un=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return _d(un,e)}function ul(e,t){return un===null&&dn(e),_d(e,t)}function _d(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ra===null){if(e===null)throw Error(l(308));ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ra=ra.next=t;return a}var Kp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Qp=r.unstable_scheduleCallback,Xp=r.unstable_NormalPriority,Qe={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ao(){return{controller:new Kp,data:new Map,refCount:0}}function Zi(e){e.refCount--,e.refCount===0&&Qp(Xp,function(){e.controller.abort()})}var Ii=null,no=0,Yn=0,Kn=null;function Zp(e,t){if(Ii===null){var a=Ii=[];no=0,Yn=lc(),Kn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return no++,t.then(bd,bd),t}function bd(){if(--no===0&&Ii!==null){Kn!==null&&(Kn.status="fulfilled");var e=Ii;Ii=null,Yn=0,Kn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ip(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(n.status="rejected",n.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),n}var xd=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zp(e,t),xd!==null&&xd(e,t)};var fn=Y(null);function io(){var e=fn.current;return e!==null?e:Ue.pooledCache}function dl(e,t){t===null?J(fn,fn.current):J(fn,t.pool)}function wd(){var e=io();return e===null?null:{parent:Qe._currentValue,pool:e}}var Ji=Error(l(460)),Sd=Error(l(474)),fl=Error(l(542)),so={then:function(){}};function jd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hl(){}function Ed(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(hl,hl),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e;default:if(typeof t.status=="string")t.then(hl,hl);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=n}},function(n){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e}throw Fi=t,Ji}}var Fi=null;function Nd(){if(Fi===null)throw Error(l(459));var e=Fi;return Fi=null,e}function Td(e){if(e===Ji||e===fl)throw Error(l(483))}var Aa=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Te&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,t=sl(e),hd(e,null,a),t}return il(e,n,t,a),sl(e)}function Wi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,bu(e,a)}}function oo(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var o=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?o=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?o=f=t:f=f.next=t}else o=f=t;a={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var co=!1;function es(){if(co){var e=Kn;if(e!==null)throw e}}function ts(e,t,a,n){co=!1;var o=e.updateQueue;Aa=!1;var f=o.firstBaseUpdate,y=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var j=_,D=j.next;j.next=null,y===null?f=D:y.next=D,y=j;var $=e.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==y&&(_===null?$.firstBaseUpdate=D:_.next=D,$.lastBaseUpdate=j))}if(f!==null){var V=o.baseState;y=0,$=D=j=null,_=f;do{var z=_.lane&-536870913,q=z!==_.lane;if(q?(we&z)===z:(n&z)===z){z!==0&&z===Yn&&(co=!0),$!==null&&($=$.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ue=e,le=_;z=t;var Re=a;switch(le.tag){case 1:if(ue=le.payload,typeof ue=="function"){V=ue.call(Re,V,z);break e}V=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=le.payload,z=typeof ue=="function"?ue.call(Re,V,z):ue,z==null)break e;V=g({},V,z);break e;case 2:Aa=!0}}z=_.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=o.callbacks,q===null?o.callbacks=[z]:q.push(z))}else q={lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(D=$=q,j=V):$=$.next=q,y|=z;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;q=_,_=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);$===null&&(j=V),o.baseState=j,o.firstBaseUpdate=D,o.lastBaseUpdate=$,f===null&&(o.shared.lanes=0),qa|=y,e.lanes=y,e.memoizedState=V}}function Cd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Ad(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cd(a[e],t)}var Qn=Y(null),ml=Y(0);function Od(e,t){e=va,J(ml,e),J(Qn,t),va=e|t.baseLanes}function uo(){J(ml,va),J(Qn,Qn.current)}function fo(){va=ml.current,W(Qn),W(ml)}var ka=0,pe=null,Ae=null,Ye=null,vl=!1,Xn=!1,hn=!1,pl=0,as=0,Zn=null,Jp=0;function Pe(){throw Error(l(321))}function ho(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!bt(e[a],t[a]))return!1;return!0}function mo(e,t,a,n,o,f){return ka=f,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?mf:vf,hn=!1,f=a(n,o),hn=!1,Xn&&(f=kd(t,a,n,o)),Rd(e),f}function Rd(e){U.H=wl;var t=Ae!==null&&Ae.next!==null;if(ka=0,Ye=Ae=pe=null,vl=!1,as=0,Zn=null,t)throw Error(l(300));e===null||We||(e=e.dependencies,e!==null&&cl(e)&&(We=!0))}function kd(e,t,a,n){pe=e;var o=0;do{if(Xn&&(Zn=null),as=0,Xn=!1,25<=o)throw Error(l(301));if(o+=1,Ye=Ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=ig,f=t(a,n)}while(Xn);return f}function Fp(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?ns(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(pe.flags|=1024),t}function vo(){var e=pl!==0;return pl=0,e}function po(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function go(e){if(vl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vl=!1}ka=0,Ye=Ae=pe=null,Xn=!1,as=pl=0,Zn=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?pe.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ke(){if(Ae===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Ye===null?pe.memoizedState:Ye.next;if(t!==null)Ye=t,Ae=e;else{if(e===null)throw pe.alternate===null?Error(l(467)):Error(l(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ye===null?pe.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(e){var t=as;return as+=1,Zn===null&&(Zn=[]),e=Ed(Zn,e,t),t=pe,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?mf:vf),e}function gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ns(e);if(e.$$typeof===A)return rt(e)}throw Error(l(438,String(e)))}function _o(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=pe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=yo(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Q;return t.index++,a}function ca(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=Ke();return bo(t,Ae,e)}function bo(e,t,a){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=a;var o=e.baseQueue,f=n.pending;if(f!==null){if(o!==null){var y=o.next;o.next=f.next,f.next=y}t.baseQueue=o=f,n.pending=null}if(f=e.baseState,o===null)e.memoizedState=f;else{t=o.next;var _=y=null,j=null,D=t,$=!1;do{var V=D.lane&-536870913;if(V!==D.lane?(we&V)===V:(ka&V)===V){var z=D.revertLane;if(z===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),V===Yn&&($=!0);else if((ka&z)===z){D=D.next,z===Yn&&($=!0);continue}else V={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},j===null?(_=j=V,y=f):j=j.next=V,pe.lanes|=z,qa|=z;V=D.action,hn&&a(f,V),f=D.hasEagerState?D.eagerState:a(f,V)}else z={lane:V,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},j===null?(_=j=z,y=f):j=j.next=z,pe.lanes|=V,qa|=V;D=D.next}while(D!==null&&D!==t);if(j===null?y=f:j.next=_,!bt(f,e.memoizedState)&&(We=!0,$&&(a=Kn,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=j,n.lastRenderedState=f}return o===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function xo(e){var t=Ke(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,o=a.pending,f=t.memoizedState;if(o!==null){a.pending=null;var y=o=o.next;do f=e(f,y.action),y=y.next;while(y!==o);bt(f,t.memoizedState)||(We=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,n]}function Md(e,t,a){var n=pe,o=Ke(),f=Ee;if(f){if(a===void 0)throw Error(l(407));a=a()}else a=t();var y=!bt((Ae||o).memoizedState,a);y&&(o.memoizedState=a,We=!0),o=o.queue;var _=Ld.bind(null,n,o,e);if(is(2048,8,_,[e]),o.getSnapshot!==t||y||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,In(9,_l(),Ud.bind(null,n,o,a,t),null),Ue===null)throw Error(l(349));f||(ka&124)!==0||Dd(n,t,a)}return a}function Dd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=yo(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ud(e,t,a,n){t.value=a,t.getSnapshot=n,zd(t)&&Bd(e)}function Ld(e,t,a){return a(function(){zd(t)&&Bd(e)})}function zd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!bt(e,a)}catch{return!0}}function Bd(e){var t=$n(e,2);t!==null&&Nt(t,e,2)}function wo(e){var t=mt();if(typeof e=="function"){var a=e;if(e=a(),hn){Ea(!0);try{a()}finally{Ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t}function qd(e,t,a,n){return e.baseState=a,bo(e,Ae,typeof n=="function"?n:ca)}function Wp(e,t,a,n,o){if(xl(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};U.T!==null?a(!0):f.isTransition=!1,n(f),a=t.pending,a===null?(f.next=t.pending=f,Hd(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Hd(e,t){var a=t.action,n=t.payload,o=e.state;if(t.isTransition){var f=U.T,y={};U.T=y;try{var _=a(o,n),j=U.S;j!==null&&j(y,_),$d(e,t,_)}catch(D){So(e,t,D)}finally{U.T=f}}else try{f=a(o,n),$d(e,t,f)}catch(D){So(e,t,D)}}function $d(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Gd(e,t,n)},function(n){return So(e,t,n)}):Gd(e,t,a)}function Gd(e,t,a){t.status="fulfilled",t.value=a,Pd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Hd(e,a)))}function So(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Pd(t),t=t.next;while(t!==n)}e.action=null}function Pd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vd(e,t){return t}function Yd(e,t){if(Ee){var a=Ue.formState;if(a!==null){e:{var n=pe;if(Ee){if(He){t:{for(var o=He,f=Kt;o.nodeType!==8;){if(!f){o=null;break t}if(o=Ht(o.nextSibling),o===null){o=null;break t}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){He=Ht(o.nextSibling),n=o.data==="F!";break e}}cn(n)}n=!1}n&&(t=a[0])}}return a=mt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:t},a.queue=n,a=df.bind(null,pe,n),n.dispatch=a,n=wo(!1),f=Co.bind(null,pe,!1,n.queue),n=mt(),o={state:t,dispatch:null,action:e,pending:null},n.queue=o,a=Wp.bind(null,pe,o,f,a),o.dispatch=a,n.memoizedState=e,[t,a,!1]}function Kd(e){var t=Ke();return Qd(t,Ae,e)}function Qd(e,t,a){if(t=bo(e,t,Vd)[0],e=yl(ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ns(t)}catch(y){throw y===Ji?fl:y}else n=t;t=Ke();var o=t.queue,f=o.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,In(9,_l(),eg.bind(null,o,a),null)),[n,f,e]}function eg(e,t){e.action=t}function Xd(e){var t=Ke(),a=Ae;if(a!==null)return Qd(t,a,e);Ke(),t=t.memoizedState,a=Ke();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function In(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=pe.updateQueue,t===null&&(t=yo(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function _l(){return{destroy:void 0,resource:void 0}}function Zd(){return Ke().memoizedState}function bl(e,t,a,n){var o=mt();n=n===void 0?null:n,pe.flags|=e,o.memoizedState=In(1|t,_l(),a,n)}function is(e,t,a,n){var o=Ke();n=n===void 0?null:n;var f=o.memoizedState.inst;Ae!==null&&n!==null&&ho(n,Ae.memoizedState.deps)?o.memoizedState=In(t,f,a,n):(pe.flags|=e,o.memoizedState=In(1|t,f,a,n))}function Id(e,t){bl(8390656,8,e,t)}function Jd(e,t){is(2048,8,e,t)}function Fd(e,t){return is(4,2,e,t)}function Wd(e,t){return is(4,4,e,t)}function ef(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tf(e,t,a){a=a!=null?a.concat([e]):null,is(4,4,ef.bind(null,t,e),a)}function jo(){}function af(e,t){var a=Ke();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&ho(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function nf(e,t){var a=Ke();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&ho(t,n[1]))return n[0];if(n=e(),hn){Ea(!0);try{e()}finally{Ea(!1)}}return a.memoizedState=[n,t],n}function Eo(e,t,a){return a===void 0||(ka&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=rh(),pe.lanes|=e,qa|=e,a)}function sf(e,t,a,n){return bt(a,t)?a:Qn.current!==null?(e=Eo(e,a,n),bt(e,t)||(We=!0),e):(ka&42)===0?(We=!0,e.memoizedState=a):(e=rh(),pe.lanes|=e,qa|=e,t)}function lf(e,t,a,n,o){var f=X.p;X.p=f!==0&&8>f?f:8;var y=U.T,_={};U.T=_,Co(e,!1,t,a);try{var j=o(),D=U.S;if(D!==null&&D(_,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var $=Ip(j,n);ss(e,t,$,Et(e))}else ss(e,t,n,Et(e))}catch(V){ss(e,t,{then:function(){},status:"rejected",reason:V},Et())}finally{X.p=f,U.T=y}}function tg(){}function No(e,t,a,n){if(e.tag!==5)throw Error(l(476));var o=rf(e).queue;lf(e,o,t,ae,a===null?tg:function(){return of(e),a(n)})}function rf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function of(e){var t=rf(e).next.queue;ss(e,t,{},Et())}function To(){return rt(Ss)}function cf(){return Ke().memoizedState}function uf(){return Ke().memoizedState}function ag(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Et();e=Oa(a);var n=Ra(t,e,a);n!==null&&(Nt(n,t,a),Wi(n,t,a)),t={cache:ao()},e.payload=t;return}t=t.return}}function ng(e,t,a){var n=Et();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xl(e)?ff(t,a):(a=Kr(e,t,a,n),a!==null&&(Nt(a,e,n),hf(a,t,n)))}function df(e,t,a){var n=Et();ss(e,t,a,n)}function ss(e,t,a,n){var o={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xl(e))ff(t,o);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,_=f(y,a);if(o.hasEagerState=!0,o.eagerState=_,bt(_,y))return il(e,t,o,0),Ue===null&&nl(),!1}catch{}finally{}if(a=Kr(e,t,o,n),a!==null)return Nt(a,e,n),hf(a,t,n),!0}return!1}function Co(e,t,a,n){if(n={lane:2,revertLane:lc(),action:n,hasEagerState:!1,eagerState:null,next:null},xl(e)){if(t)throw Error(l(479))}else t=Kr(e,a,n,2),t!==null&&Nt(t,e,2)}function xl(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function ff(e,t){Xn=vl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function hf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,bu(e,a)}}var wl={readContext:rt,use:gl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe},mf={readContext:rt,use:gl,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Id,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,bl(4194308,4,ef.bind(null,t,e),a)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){bl(4,2,e,t)},useMemo:function(e,t){var a=mt();t=t===void 0?null:t;var n=e();if(hn){Ea(!0);try{e()}finally{Ea(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=mt();if(a!==void 0){var o=a(t);if(hn){Ea(!0);try{a(t)}finally{Ea(!1)}}}else o=t;return n.memoizedState=n.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},n.queue=e,e=e.dispatch=ng.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=wo(e);var t=e.queue,a=df.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:jo,useDeferredValue:function(e,t){var a=mt();return Eo(a,e,t)},useTransition:function(){var e=wo(!1);return e=lf.bind(null,pe,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=pe,o=mt();if(Ee){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Ue===null)throw Error(l(349));(we&124)!==0||Dd(n,t,a)}o.memoizedState=a;var f={value:a,getSnapshot:t};return o.queue=f,Id(Ld.bind(null,n,f,e),[e]),n.flags|=2048,In(9,_l(),Ud.bind(null,n,f,a,t),null),a},useId:function(){var e=mt(),t=Ue.identifierPrefix;if(Ee){var a=la,n=sa;a=(n&~(1<<32-_t(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=pl++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Jp++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:To,useFormState:Yd,useActionState:Yd,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Co.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:_o,useCacheRefresh:function(){return mt().memoizedState=ag.bind(null,pe)}},vf={readContext:rt,use:gl,useCallback:af,useContext:rt,useEffect:Jd,useImperativeHandle:tf,useInsertionEffect:Fd,useLayoutEffect:Wd,useMemo:nf,useReducer:yl,useRef:Zd,useState:function(){return yl(ca)},useDebugValue:jo,useDeferredValue:function(e,t){var a=Ke();return sf(a,Ae.memoizedState,e,t)},useTransition:function(){var e=yl(ca)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:Md,useId:cf,useHostTransitionStatus:To,useFormState:Kd,useActionState:Kd,useOptimistic:function(e,t){var a=Ke();return qd(a,Ae,e,t)},useMemoCache:_o,useCacheRefresh:uf},ig={readContext:rt,use:gl,useCallback:af,useContext:rt,useEffect:Jd,useImperativeHandle:tf,useInsertionEffect:Fd,useLayoutEffect:Wd,useMemo:nf,useReducer:xo,useRef:Zd,useState:function(){return xo(ca)},useDebugValue:jo,useDeferredValue:function(e,t){var a=Ke();return Ae===null?Eo(a,e,t):sf(a,Ae.memoizedState,e,t)},useTransition:function(){var e=xo(ca)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:Md,useId:cf,useHostTransitionStatus:To,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var a=Ke();return Ae!==null?qd(a,Ae,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_o,useCacheRefresh:uf},Jn=null,ls=0;function Sl(e){var t=ls;return ls+=1,Jn===null&&(Jn=[]),Ed(Jn,e,t)}function rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function jl(e,t){throw t.$$typeof===b?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pf(e){var t=e._init;return t(e._payload)}function gf(e){function t(R,C){if(e){var M=R.deletions;M===null?(R.deletions=[C],R.flags|=16):M.push(C)}}function a(R,C){if(!e)return null;for(;C!==null;)t(R,C),C=C.sibling;return null}function n(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function o(R,C){return R=ia(R,C),R.index=0,R.sibling=null,R}function f(R,C,M){return R.index=M,e?(M=R.alternate,M!==null?(M=M.index,M<C?(R.flags|=67108866,C):M):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,C,M,G){return C===null||C.tag!==6?(C=Xr(M,R.mode,G),C.return=R,C):(C=o(C,M),C.return=R,C)}function j(R,C,M,G){var ee=M.type;return ee===E?$(R,C,M.props.children,G,M.key):C!==null&&(C.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===re&&pf(ee)===C.type)?(C=o(C,M.props),rs(C,M),C.return=R,C):(C=ll(M.type,M.key,M.props,null,R.mode,G),rs(C,M),C.return=R,C)}function D(R,C,M,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=Zr(M,R.mode,G),C.return=R,C):(C=o(C,M.children||[]),C.return=R,C)}function $(R,C,M,G,ee){return C===null||C.tag!==7?(C=sn(M,R.mode,G,ee),C.return=R,C):(C=o(C,M),C.return=R,C)}function V(R,C,M){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Xr(""+C,R.mode,M),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case x:return M=ll(C.type,C.key,C.props,null,R.mode,M),rs(M,C),M.return=R,M;case S:return C=Zr(C,R.mode,M),C.return=R,C;case re:var G=C._init;return C=G(C._payload),V(R,C,M)}if(Ne(C)||I(C))return C=sn(C,R.mode,M,null),C.return=R,C;if(typeof C.then=="function")return V(R,Sl(C),M);if(C.$$typeof===A)return V(R,ul(R,C),M);jl(R,C)}return null}function z(R,C,M,G){var ee=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ee!==null?null:_(R,C,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return M.key===ee?j(R,C,M,G):null;case S:return M.key===ee?D(R,C,M,G):null;case re:return ee=M._init,M=ee(M._payload),z(R,C,M,G)}if(Ne(M)||I(M))return ee!==null?null:$(R,C,M,G,null);if(typeof M.then=="function")return z(R,C,Sl(M),G);if(M.$$typeof===A)return z(R,C,ul(R,M),G);jl(R,M)}return null}function q(R,C,M,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(M)||null,_(C,R,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return R=R.get(G.key===null?M:G.key)||null,j(C,R,G,ee);case S:return R=R.get(G.key===null?M:G.key)||null,D(C,R,G,ee);case re:var ge=G._init;return G=ge(G._payload),q(R,C,M,G,ee)}if(Ne(G)||I(G))return R=R.get(M)||null,$(C,R,G,ee,null);if(typeof G.then=="function")return q(R,C,M,Sl(G),ee);if(G.$$typeof===A)return q(R,C,M,ul(C,G),ee);jl(C,G)}return null}function ue(R,C,M,G){for(var ee=null,ge=null,ne=C,oe=C=0,tt=null;ne!==null&&oe<M.length;oe++){ne.index>oe?(tt=ne,ne=null):tt=ne.sibling;var je=z(R,ne,M[oe],G);if(je===null){ne===null&&(ne=tt);break}e&&ne&&je.alternate===null&&t(R,ne),C=f(je,C,oe),ge===null?ee=je:ge.sibling=je,ge=je,ne=tt}if(oe===M.length)return a(R,ne),Ee&&rn(R,oe),ee;if(ne===null){for(;oe<M.length;oe++)ne=V(R,M[oe],G),ne!==null&&(C=f(ne,C,oe),ge===null?ee=ne:ge.sibling=ne,ge=ne);return Ee&&rn(R,oe),ee}for(ne=n(ne);oe<M.length;oe++)tt=q(ne,R,oe,M[oe],G),tt!==null&&(e&&tt.alternate!==null&&ne.delete(tt.key===null?oe:tt.key),C=f(tt,C,oe),ge===null?ee=tt:ge.sibling=tt,ge=tt);return e&&ne.forEach(function(Xa){return t(R,Xa)}),Ee&&rn(R,oe),ee}function le(R,C,M,G){if(M==null)throw Error(l(151));for(var ee=null,ge=null,ne=C,oe=C=0,tt=null,je=M.next();ne!==null&&!je.done;oe++,je=M.next()){ne.index>oe?(tt=ne,ne=null):tt=ne.sibling;var Xa=z(R,ne,je.value,G);if(Xa===null){ne===null&&(ne=tt);break}e&&ne&&Xa.alternate===null&&t(R,ne),C=f(Xa,C,oe),ge===null?ee=Xa:ge.sibling=Xa,ge=Xa,ne=tt}if(je.done)return a(R,ne),Ee&&rn(R,oe),ee;if(ne===null){for(;!je.done;oe++,je=M.next())je=V(R,je.value,G),je!==null&&(C=f(je,C,oe),ge===null?ee=je:ge.sibling=je,ge=je);return Ee&&rn(R,oe),ee}for(ne=n(ne);!je.done;oe++,je=M.next())je=q(ne,R,oe,je.value,G),je!==null&&(e&&je.alternate!==null&&ne.delete(je.key===null?oe:je.key),C=f(je,C,oe),ge===null?ee=je:ge.sibling=je,ge=je);return e&&ne.forEach(function(sy){return t(R,sy)}),Ee&&rn(R,oe),ee}function Re(R,C,M,G){if(typeof M=="object"&&M!==null&&M.type===E&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case x:e:{for(var ee=M.key;C!==null;){if(C.key===ee){if(ee=M.type,ee===E){if(C.tag===7){a(R,C.sibling),G=o(C,M.props.children),G.return=R,R=G;break e}}else if(C.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===re&&pf(ee)===C.type){a(R,C.sibling),G=o(C,M.props),rs(G,M),G.return=R,R=G;break e}a(R,C);break}else t(R,C);C=C.sibling}M.type===E?(G=sn(M.props.children,R.mode,G,M.key),G.return=R,R=G):(G=ll(M.type,M.key,M.props,null,R.mode,G),rs(G,M),G.return=R,R=G)}return y(R);case S:e:{for(ee=M.key;C!==null;){if(C.key===ee)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){a(R,C.sibling),G=o(C,M.children||[]),G.return=R,R=G;break e}else{a(R,C);break}else t(R,C);C=C.sibling}G=Zr(M,R.mode,G),G.return=R,R=G}return y(R);case re:return ee=M._init,M=ee(M._payload),Re(R,C,M,G)}if(Ne(M))return ue(R,C,M,G);if(I(M)){if(ee=I(M),typeof ee!="function")throw Error(l(150));return M=ee.call(M),le(R,C,M,G)}if(typeof M.then=="function")return Re(R,C,Sl(M),G);if(M.$$typeof===A)return Re(R,C,ul(R,M),G);jl(R,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,C!==null&&C.tag===6?(a(R,C.sibling),G=o(C,M),G.return=R,R=G):(a(R,C),G=Xr(M,R.mode,G),G.return=R,R=G),y(R)):a(R,C)}return function(R,C,M,G){try{ls=0;var ee=Re(R,C,M,G);return Jn=null,ee}catch(ne){if(ne===Ji||ne===fl)throw ne;var ge=xt(29,ne,null,R.mode);return ge.lanes=G,ge.return=R,ge}finally{}}}var Fn=gf(!0),yf=gf(!1),Mt=Y(null),Qt=null;function Ma(e){var t=e.alternate;J(Xe,Xe.current&1),J(Mt,e),Qt===null&&(t===null||Qn.current!==null||t.memoizedState!==null)&&(Qt=e)}function _f(e){if(e.tag===22){if(J(Xe,Xe.current),J(Mt,e),Qt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Qt=e)}}else Da()}function Da(){J(Xe,Xe.current),J(Mt,Mt.current)}function ua(e){W(Mt),Qt===e&&(Qt=null),W(Xe)}var Xe=Y(0);function El(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||yc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ao(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:g({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Oo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Et(),o=Oa(n);o.payload=t,a!=null&&(o.callback=a),t=Ra(e,o,n),t!==null&&(Nt(t,e,n),Wi(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Et(),o=Oa(n);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ra(e,o,n),t!==null&&(Nt(t,e,n),Wi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Et(),n=Oa(a);n.tag=2,t!=null&&(n.callback=t),t=Ra(e,n,a),t!==null&&(Nt(t,e,a),Wi(t,e,a))}};function bf(e,t,a,n,o,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,f,y):t.prototype&&t.prototype.isPureReactComponent?!Pi(a,n)||!Pi(o,f):!0}function xf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Oo.enqueueReplaceState(t,t.state,null)}function mn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=g({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var Nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function wf(e){Nl(e)}function Sf(e){console.error(e)}function jf(e){Nl(e)}function Tl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ef(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ro(e,t,a){return a=Oa(a),a.tag=3,a.payload={element:null},a.callback=function(){Tl(e,t)},a}function Nf(e){return e=Oa(e),e.tag=3,e}function Tf(e,t,a,n){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var f=n.value;e.payload=function(){return o(f)},e.callback=function(){Ef(t,a,n)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Ef(t,a,n),typeof o!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})})}function sg(e,t,a,n,o){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Xi(t,a,o,!0),a=Mt.current,a!==null){switch(a.tag){case 13:return Qt===null?tc():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=o,n===so?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),nc(e,n,o)),!1;case 22:return a.flags|=65536,n===so?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),nc(e,n,o)),!1}throw Error(l(435,a.tag))}return nc(e,n,o),tc(),!1}if(Ee)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,n!==Fr&&(e=Error(l(422),{cause:n}),Qi(At(e,a)))):(n!==Fr&&(t=Error(l(423),{cause:n}),Qi(At(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,n=At(n,a),o=Ro(e.stateNode,n,o),oo(e,o),$e!==4&&($e=2)),!1;var f=Error(l(520),{cause:n});if(f=At(f,a),ms===null?ms=[f]:ms.push(f),$e!==4&&($e=2),t===null)return!0;n=At(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Ro(a.stateNode,n,e),oo(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ha===null||!Ha.has(f))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Nf(o),Tf(o,e,a,n),oo(a,o),!1}a=a.return}while(a!==null);return!1}var Cf=Error(l(461)),We=!1;function nt(e,t,a,n){t.child=e===null?yf(t,null,a,n):Fn(t,e.child,a,n)}function Af(e,t,a,n,o){a=a.render;var f=t.ref;if("ref"in n){var y={};for(var _ in n)_!=="ref"&&(y[_]=n[_])}else y=n;return dn(t),n=mo(e,t,a,y,f,o),_=vo(),e!==null&&!We?(po(e,t,o),da(e,t,o)):(Ee&&_&&Ir(t),t.flags|=1,nt(e,t,n,o),t.child)}function Of(e,t,a,n,o){if(e===null){var f=a.type;return typeof f=="function"&&!Qr(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,Rf(e,t,f,n,o)):(e=ll(a.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!qo(e,o)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Pi,a(y,n)&&e.ref===t.ref)return da(e,t,o)}return t.flags|=1,e=ia(f,n),e.ref=t.ref,e.return=t,t.child=e}function Rf(e,t,a,n,o){if(e!==null){var f=e.memoizedProps;if(Pi(f,n)&&e.ref===t.ref)if(We=!1,t.pendingProps=n=f,qo(e,o))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,da(e,t,o)}return ko(e,t,a,n,o)}function kf(e,t,a){var n=t.pendingProps,o=n.children,f=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=f!==null?f.baseLanes|a:a,e!==null){for(o=t.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;t.childLanes=f&~n}else t.childLanes=0,t.child=null;return Mf(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&dl(t,f!==null?f.cachePool:null),f!==null?Od(t,f):uo(),_f(t);else return t.lanes=t.childLanes=536870912,Mf(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(dl(t,f.cachePool),Od(t,f),Da(),t.memoizedState=null):(e!==null&&dl(t,null),uo(),Da());return nt(e,t,o,a),t.child}function Mf(e,t,a,n){var o=io();return o=o===null?null:{parent:Qe._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&dl(t,null),uo(),_f(t),e!==null&&Xi(e,t,n,!0),null}function Cl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function ko(e,t,a,n,o){return dn(t),a=mo(e,t,a,n,void 0,o),n=vo(),e!==null&&!We?(po(e,t,o),da(e,t,o)):(Ee&&n&&Ir(t),t.flags|=1,nt(e,t,a,o),t.child)}function Df(e,t,a,n,o,f){return dn(t),t.updateQueue=null,a=kd(t,n,a,o),Rd(e),n=vo(),e!==null&&!We?(po(e,t,f),da(e,t,f)):(Ee&&n&&Ir(t),t.flags|=1,nt(e,t,a,f),t.child)}function Uf(e,t,a,n,o){if(dn(t),t.stateNode===null){var f=Gn,y=a.contextType;typeof y=="object"&&y!==null&&(f=rt(y)),f=new a(n,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oo,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=n,f.state=t.memoizedState,f.refs={},lo(t),y=a.contextType,f.context=typeof y=="object"&&y!==null?rt(y):Gn,f.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ao(t,a,y,n),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Oo.enqueueReplaceState(f,f.state,null),ts(t,n,f,o),es(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){f=t.stateNode;var _=t.memoizedProps,j=mn(a,_);f.props=j;var D=f.context,$=a.contextType;y=Gn,typeof $=="object"&&$!==null&&(y=rt($));var V=a.getDerivedStateFromProps;$=typeof V=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||D!==y)&&xf(t,f,n,y),Aa=!1;var z=t.memoizedState;f.state=z,ts(t,n,f,o),es(),D=t.memoizedState,_||z!==D||Aa?(typeof V=="function"&&(Ao(t,a,V,n),D=t.memoizedState),(j=Aa||bf(t,a,j,n,z,D,y))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=D),f.props=n,f.state=D,f.context=y,n=j):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{f=t.stateNode,ro(e,t),y=t.memoizedProps,$=mn(a,y),f.props=$,V=t.pendingProps,z=f.context,D=a.contextType,j=Gn,typeof D=="object"&&D!==null&&(j=rt(D)),_=a.getDerivedStateFromProps,(D=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==V||z!==j)&&xf(t,f,n,j),Aa=!1,z=t.memoizedState,f.state=z,ts(t,n,f,o),es();var q=t.memoizedState;y!==V||z!==q||Aa||e!==null&&e.dependencies!==null&&cl(e.dependencies)?(typeof _=="function"&&(Ao(t,a,_,n),q=t.memoizedState),($=Aa||bf(t,a,$,n,z,q,j)||e!==null&&e.dependencies!==null&&cl(e.dependencies))?(D||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(n,q,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(n,q,j)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=q),f.props=n,f.state=q,f.context=j,n=$):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),n=!1)}return f=n,Cl(e,t),n=(t.flags&128)!==0,f||n?(f=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&n?(t.child=Fn(t,e.child,null,o),t.child=Fn(t,null,a,o)):nt(e,t,a,o),t.memoizedState=f.state,e=t.child):e=da(e,t,o),e}function Lf(e,t,a,n){return Ki(),t.flags|=256,nt(e,t,a,n),t.child}var Mo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Do(e){return{baseLanes:e,cachePool:wd()}}function Uo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function zf(e,t,a){var n=t.pendingProps,o=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),y&&(o=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?Ma(t):Da(),Ee){var _=He,j;if(j=_){e:{for(j=_,_=Kt;j.nodeType!==8;){if(!_){_=null;break e}if(j=Ht(j.nextSibling),j===null){_=null;break e}}_=j}_!==null?(t.memoizedState={dehydrated:_,treeContext:ln!==null?{id:sa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},j=xt(18,null,null,0),j.stateNode=_,j.return=t,t.child=j,ut=t,He=null,j=!0):j=!1}j||cn(t)}if(_=t.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return yc(_)?t.lanes=32:t.lanes=536870912,null;ua(t)}return _=n.children,n=n.fallback,o?(Da(),o=t.mode,_=Al({mode:"hidden",children:_},o),n=sn(n,o,a,null),_.return=t,n.return=t,_.sibling=n,t.child=_,o=t.child,o.memoizedState=Do(a),o.childLanes=Uo(e,y,a),t.memoizedState=Mo,n):(Ma(t),Lo(t,_))}if(j=e.memoizedState,j!==null&&(_=j.dehydrated,_!==null)){if(f)t.flags&256?(Ma(t),t.flags&=-257,t=zo(e,t,a)):t.memoizedState!==null?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),o=n.fallback,_=t.mode,n=Al({mode:"visible",children:n.children},_),o=sn(o,_,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,Fn(t,e.child,null,a),n=t.child,n.memoizedState=Do(a),n.childLanes=Uo(e,y,a),t.memoizedState=Mo,t=o);else if(Ma(t),yc(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var D=y.dgst;y=D,n=Error(l(419)),n.stack="",n.digest=y,Qi({value:n,source:null,stack:null}),t=zo(e,t,a)}else if(We||Xi(e,t,a,!1),y=(a&e.childLanes)!==0,We||y){if(y=Ue,y!==null&&(n=a&-a,n=(n&42)!==0?1:yr(n),n=(n&(y.suspendedLanes|a))!==0?0:n,n!==0&&n!==j.retryLane))throw j.retryLane=n,$n(e,n),Nt(y,e,n),Cf;_.data==="$?"||tc(),t=zo(e,t,a)}else _.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,He=Ht(_.nextSibling),ut=t,Ee=!0,on=null,Kt=!1,e!==null&&(Rt[kt++]=sa,Rt[kt++]=la,Rt[kt++]=ln,sa=e.id,la=e.overflow,ln=t),t=Lo(t,n.children),t.flags|=4096);return t}return o?(Da(),o=n.fallback,_=t.mode,j=e.child,D=j.sibling,n=ia(j,{mode:"hidden",children:n.children}),n.subtreeFlags=j.subtreeFlags&65011712,D!==null?o=ia(D,o):(o=sn(o,_,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,_=e.child.memoizedState,_===null?_=Do(a):(j=_.cachePool,j!==null?(D=Qe._currentValue,j=j.parent!==D?{parent:D,pool:D}:j):j=wd(),_={baseLanes:_.baseLanes|a,cachePool:j}),o.memoizedState=_,o.childLanes=Uo(e,y,a),t.memoizedState=Mo,n):(Ma(t),a=e.child,e=a.sibling,a=ia(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function Lo(e,t){return t=Al({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Al(e,t){return e=xt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function zo(e,t,a){return Fn(t,e.child,null,a),e=Lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eo(e.return,t,a)}function Bo(e,t,a,n,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:o}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=n,f.tail=a,f.tailMode=o)}function qf(e,t,a){var n=t.pendingProps,o=n.revealOrder,f=n.tail;if(nt(e,t,n.children,a),n=Xe.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bf(e,a,t);else if(e.tag===19)Bf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(J(Xe,n),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&El(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Bo(t,!1,o,a,f);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&El(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Bo(t,!0,a,null,f);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function da(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cl(e)))}function lg(e,t,a){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),Ca(t,Qe,e.memoizedState.cache),Ki();break;case 27:case 5:$s(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:Ca(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ma(t),t.flags|=128,null):(a&t.child.childLanes)!==0?zf(e,t,a):(Ma(t),e=da(e,t,a),e!==null?e.sibling:null);Ma(t);break;case 19:var o=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Xi(e,t,a,!1),n=(a&t.childLanes)!==0),o){if(n)return qf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,kf(e,t,a);case 24:Ca(t,Qe,e.memoizedState.cache)}return da(e,t,a)}function Hf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!qo(e,a)&&(t.flags&128)===0)return We=!1,lg(e,t,a);We=(e.flags&131072)!==0}else We=!1,Ee&&(t.flags&1048576)!==0&&vd(t,ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,o=n._init;if(n=o(n._payload),t.type=n,typeof n=="function")Qr(n)?(e=mn(n,e),t.tag=1,t=Uf(null,t,n,e,a)):(t.tag=0,t=ko(null,t,n,e,a));else{if(n!=null){if(o=n.$$typeof,o===P){t.tag=11,t=Af(null,t,n,e,a);break e}else if(o===K){t.tag=14,t=Of(null,t,n,e,a);break e}}throw t=ve(n)||n,Error(l(306,t,""))}}return t;case 0:return ko(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,o=mn(n,t.pendingProps),Uf(e,t,n,o,a);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var f=t.memoizedState;o=f.element,ro(e,t),ts(t,n,null,a);var y=t.memoizedState;if(n=y.cache,Ca(t,Qe,n),n!==f.cache&&to(t,[Qe],a,!0),es(),n=y.element,f.isDehydrated)if(f={element:n,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Lf(e,t,n,a);break e}else if(n!==o){o=At(Error(l(424)),t),Qi(o),t=Lf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Ht(e.firstChild),ut=t,Ee=!0,on=null,Kt=!0,a=yf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ki(),n===o){t=da(e,t,a);break e}nt(e,t,n,a)}t=t.child}return t;case 26:return Cl(e,t),e===null?(a=Vh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,n=Pl(ce.current).createElement(a),n[lt]=t,n[ft]=e,st(n,a,e),Fe(n),t.stateNode=n):t.memoizedState=Vh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $s(t),e===null&&Ee&&(n=t.stateNode=$h(t.type,t.pendingProps,ce.current),ut=t,Kt=!0,o=He,Pa(t.type)?(_c=o,He=Ht(n.firstChild)):He=o),nt(e,t,t.pendingProps.children,a),Cl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=n=He)&&(n=Dg(n,t.type,t.pendingProps,Kt),n!==null?(t.stateNode=n,ut=t,He=Ht(n.firstChild),Kt=!1,o=!0):o=!1),o||cn(t)),$s(t),o=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,n=f.children,vc(o,f)?n=null:y!==null&&vc(o,y)&&(t.flags|=32),t.memoizedState!==null&&(o=mo(e,t,Fp,null,null,a),Ss._currentValue=o),Cl(e,t),nt(e,t,n,a),t.child;case 6:return e===null&&Ee&&((e=a=He)&&(a=Ug(a,t.pendingProps,Kt),a!==null?(t.stateNode=a,ut=t,He=null,e=!0):e=!1),e||cn(t)),null;case 13:return zf(e,t,a);case 4:return De(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fn(t,null,n,a):nt(e,t,n,a),t.child;case 11:return Af(e,t,t.type,t.pendingProps,a);case 7:return nt(e,t,t.pendingProps,a),t.child;case 8:return nt(e,t,t.pendingProps.children,a),t.child;case 12:return nt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ca(t,t.type,n.value),nt(e,t,n.children,a),t.child;case 9:return o=t.type._context,n=t.pendingProps.children,dn(t),o=rt(o),n=n(o),t.flags|=1,nt(e,t,n,a),t.child;case 14:return Of(e,t,t.type,t.pendingProps,a);case 15:return Rf(e,t,t.type,t.pendingProps,a);case 19:return qf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Al(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ia(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return kf(e,t,a);case 24:return dn(t),n=rt(Qe),e===null?(o=io(),o===null&&(o=Ue,f=ao(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=a),o=f),t.memoizedState={parent:n,cache:o},lo(t),Ca(t,Qe,o)):((e.lanes&a)!==0&&(ro(e,t),ts(t,null,null,a),es()),o=e.memoizedState,f=t.memoizedState,o.parent!==n?(o={parent:n,cache:n},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ca(t,Qe,n)):(n=f.cache,Ca(t,Qe,n),n!==o.cache&&to(t,[Qe],a,!0))),nt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function fa(e){e.flags|=4}function $f(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zh(t)){if(t=Mt.current,t!==null&&((we&4194048)===we?Qt!==null:(we&62914560)!==we&&(we&536870912)===0||t!==Qt))throw Fi=so,Sd;e.flags|=8192}}function Ol(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?yu():536870912,e.lanes|=t,ai|=t)}function os(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags&65011712,n|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function rg(e,t,a){var n=t.pendingProps;switch(Jr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oa(Qe),Yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?fa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yd())),Be(t),null;case 26:return a=t.memoizedState,e===null?(fa(t),a!==null?(Be(t),$f(t,a)):(Be(t),t.flags&=-16777217)):a?a!==e.memoizedState?(fa(t),Be(t),$f(t,a)):(Be(t),t.flags&=-16777217):(e.memoizedProps!==n&&fa(t),Be(t),t.flags&=-16777217),null;case 27:jn(t),a=ce.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&fa(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Be(t),null}e=se.current,Yi(t)?pd(t):(e=$h(o,n,a),t.stateNode=e,fa(t))}return Be(t),null;case 5:if(jn(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&fa(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Be(t),null}if(e=se.current,Yi(t))pd(t);else{switch(o=Pl(ce.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}e[lt]=t,e[ft]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(st(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&fa(t)}}return Be(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&fa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=ce.current,Yi(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,o=ut,o!==null)switch(o.tag){case 27:case 5:n=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Dh(e.nodeValue,a)),e||cn(t)}else e=Pl(e).createTextNode(n),e[lt]=t,t.stateNode=e}return Be(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Yi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[lt]=t}else Ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else o=yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ua(t),t):(ua(t),null)}if(ua(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,o=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(o=n.alternate.memoizedState.cachePool.pool);var f=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(f=n.memoizedState.cachePool.pool),f!==o&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ol(t,t.updateQueue),Be(t),null;case 4:return Yt(),e===null&&uc(t.stateNode.containerInfo),Be(t),null;case 10:return oa(t.type),Be(t),null;case 19:if(W(Xe),o=t.memoizedState,o===null)return Be(t),null;if(n=(t.flags&128)!==0,f=o.rendering,f===null)if(n)os(o,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=El(e),f!==null){for(t.flags|=128,os(o,!1),e=f.updateQueue,t.updateQueue=e,Ol(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)md(a,e),a=a.sibling;return J(Xe,Xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&ie()>Ml&&(t.flags|=128,n=!0,os(o,!1),t.lanes=4194304)}else{if(!n)if(e=El(f),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ol(t,e),os(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ee)return Be(t),null}else 2*ie()-o.renderingStartTime>Ml&&a!==536870912&&(t.flags|=128,n=!0,os(o,!1),t.lanes=4194304);o.isBackwards?(f.sibling=t.child,t.child=f):(e=o.last,e!==null?e.sibling=f:t.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ie(),t.sibling=null,e=Xe.current,J(Xe,n?e&1|2:e&1),t):(Be(t),null);case 22:case 23:return ua(t),fo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),a=t.updateQueue,a!==null&&Ol(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&W(fn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oa(Qe),Be(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function og(e,t){switch(Jr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(Qe),Yt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return jn(t),null;case 13:if(ua(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(Xe),null;case 4:return Yt(),null;case 10:return oa(t.type),null;case 22:case 23:return ua(t),fo(),e!==null&&W(fn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(Qe),null;case 25:return null;default:return null}}function Gf(e,t){switch(Jr(t),t.tag){case 3:oa(Qe),Yt();break;case 26:case 27:case 5:jn(t);break;case 4:Yt();break;case 13:ua(t);break;case 19:W(Xe);break;case 10:oa(t.type);break;case 22:case 23:ua(t),fo(),e!==null&&W(fn);break;case 24:oa(Qe)}}function cs(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var o=n.next;a=o;do{if((a.tag&e)===e){n=void 0;var f=a.create,y=a.inst;n=f(),y.destroy=n}a=a.next}while(a!==o)}}catch(_){Me(t,t.return,_)}}function Ua(e,t,a){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var f=o.next;n=f;do{if((n.tag&e)===e){var y=n.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,o=t;var j=a,D=_;try{D()}catch($){Me(o,j,$)}}}n=n.next}while(n!==f)}}catch($){Me(t,t.return,$)}}function Pf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ad(t,a)}catch(n){Me(e,e.return,n)}}}function Vf(e,t,a){a.props=mn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Me(e,t,n)}}function us(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(o){Me(e,t,o)}}function Xt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(o){Me(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Me(e,t,o)}else a.current=null}function Yf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(o){Me(e,e.return,o)}}function Ho(e,t,a){try{var n=e.stateNode;Ag(n,e.type,a,t),n[ft]=t}catch(o){Me(e,e.return,o)}}function Kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function $o(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Gl));else if(n!==4&&(n===27&&Pa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Go(e,t,a),e=e.sibling;e!==null;)Go(e,t,a),e=e.sibling}function Rl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Pa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Rl(e,t,a),e=e.sibling;e!==null;)Rl(e,t,a),e=e.sibling}function Qf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);st(t,n,a),t[lt]=e,t[ft]=a}catch(f){Me(e,e.return,f)}}var ha=!1,Ve=!1,Po=!1,Xf=typeof WeakSet=="function"?WeakSet:Set,et=null;function cg(e,t){if(e=e.containerInfo,hc=Zl,e=id(e),Hr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var o=n.anchorOffset,f=n.focusNode;n=n.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,_=-1,j=-1,D=0,$=0,V=e,z=null;t:for(;;){for(var q;V!==a||o!==0&&V.nodeType!==3||(_=y+o),V!==f||n!==0&&V.nodeType!==3||(j=y+n),V.nodeType===3&&(y+=V.nodeValue.length),(q=V.firstChild)!==null;)z=V,V=q;for(;;){if(V===e)break t;if(z===a&&++D===o&&(_=y),z===f&&++$===n&&(j=y),(q=V.nextSibling)!==null)break;V=z,z=V.parentNode}V=q}a=_===-1||j===-1?null:{start:_,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(mc={focusedElem:e,selectionRange:a},Zl=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,o=f.memoizedProps,f=f.memoizedState,n=a.stateNode;try{var ue=mn(a.type,o,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(ue,f),n.__reactInternalSnapshotBeforeUpdate=e}catch(le){Me(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)gc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function Zf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:La(e,a),n&4&&cs(5,a);break;case 1:if(La(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){Me(a,a.return,y)}else{var o=mn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Me(a,a.return,y)}}n&64&&Pf(a),n&512&&us(a,a.return);break;case 3:if(La(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ad(e,t)}catch(y){Me(a,a.return,y)}}break;case 27:t===null&&n&4&&Qf(a);case 26:case 5:La(e,a),t===null&&n&4&&Yf(a),n&512&&us(a,a.return);break;case 12:La(e,a);break;case 13:La(e,a),n&4&&Ff(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yg.bind(null,a),Lg(e,a))));break;case 22:if(n=a.memoizedState!==null||ha,!n){t=t!==null&&t.memoizedState!==null||Ve,o=ha;var f=Ve;ha=n,(Ve=t)&&!f?za(e,a,(a.subtreeFlags&8772)!==0):La(e,a),ha=o,Ve=f}break;case 30:break;default:La(e,a)}}function If(e){var t=e.alternate;t!==null&&(e.alternate=null,If(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,vt=!1;function ma(e,t,a){for(a=a.child;a!==null;)Jf(e,t,a),a=a.sibling}function Jf(e,t,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Ri,a)}catch{}switch(a.tag){case 26:Ve||Xt(a,t),ma(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||Xt(a,t);var n=ze,o=vt;Pa(a.type)&&(ze=a.stateNode,vt=!1),ma(e,t,a),_s(a.stateNode),ze=n,vt=o;break;case 5:Ve||Xt(a,t);case 6:if(n=ze,o=vt,ze=null,ma(e,t,a),ze=n,vt=o,ze!==null)if(vt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(a.stateNode)}catch(f){Me(a,t,f)}else try{ze.removeChild(a.stateNode)}catch(f){Me(a,t,f)}break;case 18:ze!==null&&(vt?(e=ze,qh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ts(e)):qh(ze,a.stateNode));break;case 4:n=ze,o=vt,ze=a.stateNode.containerInfo,vt=!0,ma(e,t,a),ze=n,vt=o;break;case 0:case 11:case 14:case 15:Ve||Ua(2,a,t),Ve||Ua(4,a,t),ma(e,t,a);break;case 1:Ve||(Xt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Vf(a,t,n)),ma(e,t,a);break;case 21:ma(e,t,a);break;case 22:Ve=(n=Ve)||a.memoizedState!==null,ma(e,t,a),Ve=n;break;default:ma(e,t,a)}}function Ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ts(e)}catch(a){Me(t,t.return,a)}}function ug(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xf),t;default:throw Error(l(435,e.tag))}}function Vo(e,t){var a=ug(e);t.forEach(function(n){var o=_g.bind(null,e,n);a.has(n)||(a.add(n),n.then(o,o))})}function wt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var o=a[n],f=e,y=t,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(Pa(_.type)){ze=_.stateNode,vt=!1;break e}break;case 5:ze=_.stateNode,vt=!1;break e;case 3:case 4:ze=_.stateNode.containerInfo,vt=!0;break e}_=_.return}if(ze===null)throw Error(l(160));Jf(f,y,o),ze=null,vt=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Wf(t,e),t=t.sibling}var qt=null;function Wf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),St(e),n&4&&(Ua(3,e,e.return),cs(3,e),Ua(5,e,e.return));break;case 1:wt(t,e),St(e),n&512&&(Ve||a===null||Xt(a,a.return)),n&64&&ha&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var o=qt;if(wt(t,e),St(e),n&512&&(Ve||a===null||Xt(a,a.return)),n&4){var f=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(n){case"title":f=o.getElementsByTagName("title")[0],(!f||f[Di]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(n),o.head.insertBefore(f,o.querySelector("head > title"))),st(f,n,a),f[lt]=e,Fe(f),n=f;break e;case"link":var y=Qh("link","href",o).get(n+(a.href||""));if(y){for(var _=0;_<y.length;_++)if(f=y[_],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(_,1);break t}}f=o.createElement(n),st(f,n,a),o.head.appendChild(f);break;case"meta":if(y=Qh("meta","content",o).get(n+(a.content||""))){for(_=0;_<y.length;_++)if(f=y[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(_,1);break t}}f=o.createElement(n),st(f,n,a),o.head.appendChild(f);break;default:throw Error(l(468,n))}f[lt]=e,Fe(f),n=f}e.stateNode=n}else Xh(o,e.type,e.stateNode);else e.stateNode=Kh(o,n,e.memoizedProps);else f!==n?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,n===null?Xh(o,e.type,e.stateNode):Kh(o,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Ho(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(t,e),St(e),n&512&&(Ve||a===null||Xt(a,a.return)),a!==null&&n&4&&Ho(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(t,e),St(e),n&512&&(Ve||a===null||Xt(a,a.return)),e.flags&32){o=e.stateNode;try{Dn(o,"")}catch(q){Me(e,e.return,q)}}n&4&&e.stateNode!=null&&(o=e.memoizedProps,Ho(e,o,a!==null?a.memoizedProps:o)),n&1024&&(Po=!0);break;case 6:if(wt(t,e),St(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(q){Me(e,e.return,q)}}break;case 3:if(Kl=null,o=qt,qt=Vl(t.containerInfo),wt(t,e),qt=o,St(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(q){Me(e,e.return,q)}Po&&(Po=!1,eh(e));break;case 4:n=qt,qt=Vl(e.stateNode.containerInfo),wt(t,e),St(e),qt=n;break;case 12:wt(t,e),St(e);break;case 13:wt(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Io=ie()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vo(e,n)));break;case 22:o=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,D=ha,$=Ve;if(ha=D||o,Ve=$||j,wt(t,e),Ve=$,ha=D,St(e),n&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||j||ha||Ve||vn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(f=j.stateNode,o)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=j.stateNode;var V=j.memoizedProps.style,z=V!=null&&V.hasOwnProperty("display")?V.display:null;_.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(q){Me(j,j.return,q)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=o?"":j.memoizedProps}catch(q){Me(j,j.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Vo(e,a))));break;case 19:wt(t,e),St(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vo(e,n)));break;case 30:break;case 21:break;default:wt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Kf(n)){a=n;break}n=n.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,f=$o(e);Rl(e,f,o);break;case 5:var y=a.stateNode;a.flags&32&&(Dn(y,""),a.flags&=-33);var _=$o(e);Rl(e,_,y);break;case 3:case 4:var j=a.stateNode.containerInfo,D=$o(e);Go(e,D,j);break;default:throw Error(l(161))}}catch($){Me(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;eh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function La(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zf(e,t.alternate,t),t=t.sibling}function vn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ua(4,t,t.return),vn(t);break;case 1:Xt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Vf(t,t.return,a),vn(t);break;case 27:_s(t.stateNode);case 26:case 5:Xt(t,t.return),vn(t);break;case 22:t.memoizedState===null&&vn(t);break;case 30:vn(t);break;default:vn(t)}e=e.sibling}}function za(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,o=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:za(o,f,a),cs(4,f);break;case 1:if(za(o,f,a),n=f,o=n.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){Me(n,n.return,D)}if(n=f,o=n.updateQueue,o!==null){var _=n.stateNode;try{var j=o.shared.hiddenCallbacks;if(j!==null)for(o.shared.hiddenCallbacks=null,o=0;o<j.length;o++)Cd(j[o],_)}catch(D){Me(n,n.return,D)}}a&&y&64&&Pf(f),us(f,f.return);break;case 27:Qf(f);case 26:case 5:za(o,f,a),a&&n===null&&y&4&&Yf(f),us(f,f.return);break;case 12:za(o,f,a);break;case 13:za(o,f,a),a&&y&4&&Ff(o,f);break;case 22:f.memoizedState===null&&za(o,f,a),us(f,f.return);break;case 30:break;default:za(o,f,a)}t=t.sibling}}function Yo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zi(a))}function Ko(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zi(e))}function Zt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)th(e,t,a,n),t=t.sibling}function th(e,t,a,n){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,a,n),o&2048&&cs(9,t);break;case 1:Zt(e,t,a,n);break;case 3:Zt(e,t,a,n),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zi(e)));break;case 12:if(o&2048){Zt(e,t,a,n),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,_=f.onPostCommit;typeof _=="function"&&_(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Me(t,t.return,j)}}else Zt(e,t,a,n);break;case 13:Zt(e,t,a,n);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?Zt(e,t,a,n):ds(e,t):f._visibility&2?Zt(e,t,a,n):(f._visibility|=2,Wn(e,t,a,n,(t.subtreeFlags&10256)!==0)),o&2048&&Yo(y,t);break;case 24:Zt(e,t,a,n),o&2048&&Ko(t.alternate,t);break;default:Zt(e,t,a,n)}}function Wn(e,t,a,n,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,y=t,_=a,j=n,D=y.flags;switch(y.tag){case 0:case 11:case 15:Wn(f,y,_,j,o),cs(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Wn(f,y,_,j,o):ds(f,y):($._visibility|=2,Wn(f,y,_,j,o)),o&&D&2048&&Yo(y.alternate,y);break;case 24:Wn(f,y,_,j,o),o&&D&2048&&Ko(y.alternate,y);break;default:Wn(f,y,_,j,o)}t=t.sibling}}function ds(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,o=n.flags;switch(n.tag){case 22:ds(a,n),o&2048&&Yo(n.alternate,n);break;case 24:ds(a,n),o&2048&&Ko(n.alternate,n);break;default:ds(a,n)}t=t.sibling}}var fs=8192;function ei(e){if(e.subtreeFlags&fs)for(e=e.child;e!==null;)ah(e),e=e.sibling}function ah(e){switch(e.tag){case 26:ei(e),e.flags&fs&&e.memoizedState!==null&&Zg(qt,e.memoizedState,e.memoizedProps);break;case 5:ei(e);break;case 3:case 4:var t=qt;qt=Vl(e.stateNode.containerInfo),ei(e),qt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=fs,fs=16777216,ei(e),fs=t):ei(e));break;default:ei(e)}}function nh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];et=n,sh(n,e)}nh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ih(e),e=e.sibling}function ih(e){switch(e.tag){case 0:case 11:case 15:hs(e),e.flags&2048&&Ua(9,e,e.return);break;case 3:hs(e);break;case 12:hs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kl(e)):hs(e);break;default:hs(e)}}function kl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];et=n,sh(n,e)}nh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ua(8,t,t.return),kl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,kl(t));break;default:kl(t)}e=e.sibling}}function sh(e,t){for(;et!==null;){var a=et;switch(a.tag){case 0:case 11:case 15:Ua(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Zi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,et=n;else e:for(a=e;et!==null;){n=et;var o=n.sibling,f=n.return;if(If(n),n===a){et=null;break e}if(o!==null){o.return=f,et=o;break e}et=f}}}var dg={getCacheForType:function(e){var t=rt(Qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},fg=typeof WeakMap=="function"?WeakMap:Map,Te=0,Ue=null,ye=null,we=0,Ce=0,jt=null,Ba=!1,ti=!1,Qo=!1,va=0,$e=0,qa=0,pn=0,Xo=0,Dt=0,ai=0,ms=null,pt=null,Zo=!1,Io=0,Ml=1/0,Dl=null,Ha=null,it=0,$a=null,ni=null,ii=0,Jo=0,Fo=null,lh=null,vs=0,Wo=null;function Et(){if((Te&2)!==0&&we!==0)return we&-we;if(U.T!==null){var e=Yn;return e!==0?e:lc()}return xu()}function rh(){Dt===0&&(Dt=(we&536870912)===0||Ee?gu():536870912);var e=Mt.current;return e!==null&&(e.flags|=32),Dt}function Nt(e,t,a){(e===Ue&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(si(e,0),Ga(e,we,Dt,!1)),Mi(e,a),((Te&2)===0||e!==Ue)&&(e===Ue&&((Te&2)===0&&(pn|=a),$e===4&&Ga(e,we,Dt,!1)),It(e))}function oh(e,t,a){if((Te&6)!==0)throw Error(l(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||ki(e,t),o=n?vg(e,t):ac(e,t,!0),f=n;do{if(o===0){ti&&!n&&Ga(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!hg(a)){o=ac(e,t,!1),f=!1;continue}if(o===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var _=e;o=ms;var j=_.current.memoizedState.isDehydrated;if(j&&(si(_,y).flags|=256),y=ac(_,y,!1),y!==2){if(Qo&&!j){_.errorRecoveryDisabledLanes|=f,pn|=f,o=4;break e}f=pt,pt=o,f!==null&&(pt===null?pt=f:pt.push.apply(pt,f))}o=y}if(f=!1,o!==2)continue}}if(o===1){si(e,0),Ga(e,t,0,!0);break}e:{switch(n=e,f=o,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ga(n,t,Dt,!Ba);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Io+300-ie(),10<o)){if(Ga(n,t,Dt,!Ba),Ys(n,0,!0)!==0)break e;n.timeoutHandle=zh(ch.bind(null,n,a,pt,Dl,Zo,t,Dt,pn,ai,Ba,f,2,-0,0),o);break e}ch(n,a,pt,Dl,Zo,t,Dt,pn,ai,Ba,f,0,-0,0)}}break}while(!0);It(e)}function ch(e,t,a,n,o,f,y,_,j,D,$,V,z,q){if(e.timeoutHandle=-1,V=t.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(ws={stylesheets:null,count:0,unsuspend:Xg},ah(t),V=Ig(),V!==null)){e.cancelPendingCommit=V(ph.bind(null,e,t,f,a,n,o,y,_,j,$,1,z,q)),Ga(e,f,y,!D);return}ph(e,t,f,a,n,o,y,_,j)}function hg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var o=a[n],f=o.getSnapshot;o=o.value;try{if(!bt(f(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,a,n){t&=~Xo,t&=~pn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var o=t;0<o;){var f=31-_t(o),y=1<<f;n[f]=-1,o&=~y}a!==0&&_u(e,a,t)}function Ul(){return(Te&6)===0?(ps(0),!1):!0}function ec(){if(ye!==null){if(Ce===0)var e=ye.return;else e=ye,ra=un=null,go(e),Jn=null,ls=0,e=ye;for(;e!==null;)Gf(e.alternate,e),e=e.return;ye=null}}function si(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Rg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ec(),Ue=e,ye=a=ia(e.current,null),we=t,Ce=0,jt=null,Ba=!1,ti=ki(e,t),Qo=!1,ai=Dt=Xo=pn=qa=$e=0,pt=ms=null,Zo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var o=31-_t(n),f=1<<o;t|=e[o],n&=~f}return va=t,nl(),a}function uh(e,t){pe=null,U.H=wl,t===Ji||t===fl?(t=Nd(),Ce=3):t===Sd?(t=Nd(),Ce=4):Ce=t===Cf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,ye===null&&($e=1,Tl(e,At(t,e.current)))}function dh(){var e=U.H;return U.H=wl,e===null?wl:e}function fh(){var e=U.A;return U.A=dg,e}function tc(){$e=4,Ba||(we&4194048)!==we&&Mt.current!==null||(ti=!0),(qa&134217727)===0&&(pn&134217727)===0||Ue===null||Ga(Ue,we,Dt,!1)}function ac(e,t,a){var n=Te;Te|=2;var o=dh(),f=fh();(Ue!==e||we!==t)&&(Dl=null,si(e,t)),t=!1;var y=$e;e:do try{if(Ce!==0&&ye!==null){var _=ye,j=jt;switch(Ce){case 8:ec(),y=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var D=Ce;if(Ce=0,jt=null,li(e,_,j,D),a&&ti){y=0;break e}break;default:D=Ce,Ce=0,jt=null,li(e,_,j,D)}}mg(),y=$e;break}catch($){uh(e,$)}while(!0);return t&&e.shellSuspendCounter++,ra=un=null,Te=n,U.H=o,U.A=f,ye===null&&(Ue=null,we=0,nl()),y}function mg(){for(;ye!==null;)hh(ye)}function vg(e,t){var a=Te;Te|=2;var n=dh(),o=fh();Ue!==e||we!==t?(Dl=null,Ml=ie()+500,si(e,t)):ti=ki(e,t);e:do try{if(Ce!==0&&ye!==null){t=ye;var f=jt;t:switch(Ce){case 1:Ce=0,jt=null,li(e,t,f,1);break;case 2:case 9:if(jd(f)){Ce=0,jt=null,mh(t);break}t=function(){Ce!==2&&Ce!==9||Ue!==e||(Ce=7),It(e)},f.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:jd(f)?(Ce=0,jt=null,mh(t)):(Ce=0,jt=null,li(e,t,f,7));break;case 5:var y=null;switch(ye.tag){case 26:y=ye.memoizedState;case 5:case 27:var _=ye;if(!y||Zh(y)){Ce=0,jt=null;var j=_.sibling;if(j!==null)ye=j;else{var D=_.return;D!==null?(ye=D,Ll(D)):ye=null}break t}}Ce=0,jt=null,li(e,t,f,5);break;case 6:Ce=0,jt=null,li(e,t,f,6);break;case 8:ec(),$e=6;break e;default:throw Error(l(462))}}pg();break}catch($){uh(e,$)}while(!0);return ra=un=null,U.H=n,U.A=o,Te=a,ye!==null?0:(Ue=null,we=0,nl(),$e)}function pg(){for(;ye!==null&&!Nn();)hh(ye)}function hh(e){var t=Hf(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?Ll(e):ye=t}function mh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Df(a,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Df(a,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:go(t);default:Gf(a,t),t=ye=md(t,va),t=Hf(a,t,va)}e.memoizedProps=e.pendingProps,t===null?Ll(e):ye=t}function li(e,t,a,n){ra=un=null,go(t),Jn=null,ls=0;var o=t.return;try{if(sg(e,o,t,a,we)){$e=1,Tl(e,At(a,e.current)),ye=null;return}}catch(f){if(o!==null)throw ye=o,f;$e=1,Tl(e,At(a,e.current)),ye=null;return}t.flags&32768?(Ee||n===1?e=!0:ti||(we&536870912)!==0?e=!1:(Ba=e=!0,(n===2||n===9||n===3||n===6)&&(n=Mt.current,n!==null&&n.tag===13&&(n.flags|=16384))),vh(t,e)):Ll(t)}function Ll(e){var t=e;do{if((t.flags&32768)!==0){vh(t,Ba);return}e=t.return;var a=rg(t.alternate,t,va);if(a!==null){ye=a;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);$e===0&&($e=5)}function vh(e,t){do{var a=og(e.alternate,e);if(a!==null){a.flags&=32767,ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=a}while(e!==null);$e=6,ye=null}function ph(e,t,a,n,o,f,y,_,j){e.cancelPendingCommit=null;do zl();while(it!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=Yr,Xv(e,a,f,y,_,j),e===Ue&&(ye=Ue=null,we=0),ni=t,$a=e,ii=a,Jo=f,Fo=o,lh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bg(ja,function(){return xh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=U.T,U.T=null,o=X.p,X.p=2,y=Te,Te|=4;try{cg(e,t,a)}finally{Te=y,X.p=o,U.T=n}}it=1,gh(),yh(),_h()}}function gh(){if(it===1){it=0;var e=$a,t=ni,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var n=X.p;X.p=2;var o=Te;Te|=4;try{Wf(t,e);var f=mc,y=id(e.containerInfo),_=f.focusedElem,j=f.selectionRange;if(y!==_&&_&&_.ownerDocument&&nd(_.ownerDocument.documentElement,_)){if(j!==null&&Hr(_)){var D=j.start,$=j.end;if($===void 0&&($=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min($,_.value.length);else{var V=_.ownerDocument||document,z=V&&V.defaultView||window;if(z.getSelection){var q=z.getSelection(),ue=_.textContent.length,le=Math.min(j.start,ue),Re=j.end===void 0?le:Math.min(j.end,ue);!q.extend&&le>Re&&(y=Re,Re=le,le=y);var R=ad(_,le),C=ad(_,Re);if(R&&C&&(q.rangeCount!==1||q.anchorNode!==R.node||q.anchorOffset!==R.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var M=V.createRange();M.setStart(R.node,R.offset),q.removeAllRanges(),le>Re?(q.addRange(M),q.extend(C.node,C.offset)):(M.setEnd(C.node,C.offset),q.addRange(M))}}}}for(V=[],q=_;q=q.parentNode;)q.nodeType===1&&V.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<V.length;_++){var G=V[_];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Zl=!!hc,mc=hc=null}finally{Te=o,X.p=n,U.T=a}}e.current=t,it=2}}function yh(){if(it===2){it=0;var e=$a,t=ni,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var n=X.p;X.p=2;var o=Te;Te|=4;try{Zf(e,t.alternate,t)}finally{Te=o,X.p=n,U.T=a}}it=3}}function _h(){if(it===4||it===3){it=0,Z();var e=$a,t=ni,a=ii,n=lh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,ni=$a=null,bh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ha=null),_r(a),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Ri,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=U.T,o=X.p,X.p=2,U.T=null;try{for(var f=e.onRecoverableError,y=0;y<n.length;y++){var _=n[y];f(_.value,{componentStack:_.stack})}}finally{U.T=t,X.p=o}}(ii&3)!==0&&zl(),It(e),o=e.pendingLanes,(a&4194090)!==0&&(o&42)!==0?e===Wo?vs++:(vs=0,Wo=e):vs=0,ps(0)}}function bh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zi(t)))}function zl(e){return gh(),yh(),_h(),xh()}function xh(){if(it!==5)return!1;var e=$a,t=Jo;Jo=0;var a=_r(ii),n=U.T,o=X.p;try{X.p=32>a?32:a,U.T=null,a=Fo,Fo=null;var f=$a,y=ii;if(it=0,ni=$a=null,ii=0,(Te&6)!==0)throw Error(l(331));var _=Te;if(Te|=4,ih(f.current),th(f,f.current,y,a),Te=_,ps(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Ri,f)}catch{}return!0}finally{X.p=o,U.T=n,bh(e,t)}}function wh(e,t,a){t=At(a,t),t=Ro(e.stateNode,t,2),e=Ra(e,t,2),e!==null&&(Mi(e,2),It(e))}function Me(e,t,a){if(e.tag===3)wh(e,e,a);else for(;t!==null;){if(t.tag===3){wh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ha===null||!Ha.has(n))){e=At(a,e),a=Nf(2),n=Ra(t,a,2),n!==null&&(Tf(a,n,t,e),Mi(n,2),It(n));break}}t=t.return}}function nc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new fg;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(a)||(Qo=!0,o.add(a),e=gg.bind(null,e,t,a),t.then(e,e))}function gg(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(we&a)===a&&($e===4||$e===3&&(we&62914560)===we&&300>ie()-Io?(Te&2)===0&&si(e,0):Xo|=a,ai===we&&(ai=0)),It(e)}function Sh(e,t){t===0&&(t=yu()),e=$n(e,t),e!==null&&(Mi(e,t),It(e))}function yg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Sh(e,a)}function _g(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),Sh(e,a)}function bg(e,t){return Ai(e,t)}var Bl=null,ri=null,ic=!1,ql=!1,sc=!1,gn=0;function It(e){e!==ri&&e.next===null&&(ri===null?Bl=ri=e:ri=ri.next=e),ql=!0,ic||(ic=!0,wg())}function ps(e,t){if(!sc&&ql){sc=!0;do for(var a=!1,n=Bl;n!==null;){if(e!==0){var o=n.pendingLanes;if(o===0)var f=0;else{var y=n.suspendedLanes,_=n.pingedLanes;f=(1<<31-_t(42|e)+1)-1,f&=o&~(y&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Th(n,f))}else f=we,f=Ys(n,n===Ue?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(f&3)===0||ki(n,f)||(a=!0,Th(n,f));n=n.next}while(a);sc=!1}}function xg(){jh()}function jh(){ql=ic=!1;var e=0;gn!==0&&(Og()&&(e=gn),gn=0);for(var t=ie(),a=null,n=Bl;n!==null;){var o=n.next,f=Eh(n,t);f===0?(n.next=null,a===null?Bl=o:a.next=o,o===null&&(ri=a)):(a=n,(e!==0||(f&3)!==0)&&(ql=!0)),n=o}ps(e)}function Eh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-_t(f),_=1<<y,j=o[y];j===-1?((_&a)===0||(_&n)!==0)&&(o[y]=Qv(_,t)):j<=t&&(e.expiredLanes|=_),f&=~_}if(t=Ue,a=we,a=Ys(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Oi(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ki(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Oi(n),_r(a)){case 2:case 8:a=Sa;break;case 32:a=ja;break;case 268435456:a=Gs;break;default:a=ja}return n=Nh.bind(null,e),a=Ai(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Oi(n),e.callbackPriority=2,e.callbackNode=null,2}function Nh(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zl()&&e.callbackNode!==a)return null;var n=we;return n=Ys(e,e===Ue?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(oh(e,n,t),Eh(e,ie()),e.callbackNode!=null&&e.callbackNode===a?Nh.bind(null,e):null)}function Th(e,t){if(zl())return null;oh(e,t,!0)}function wg(){kg(function(){(Te&6)!==0?Ai(ke,xg):jh()})}function lc(){return gn===0&&(gn=gu()),gn}function Ch(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Is(""+e)}function Ah(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Sg(e,t,a,n,o){if(t==="submit"&&a&&a.stateNode===o){var f=Ch((o[ft]||null).action),y=n.submitter;y&&(t=(t=y[ft]||null)?Ch(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var _=new el("action","action",null,n,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(gn!==0){var j=y?Ah(o,y):new FormData(o);No(a,{pending:!0,data:j,method:o.method,action:f},null,j)}}else typeof f=="function"&&(_.preventDefault(),j=y?Ah(o,y):new FormData(o),No(a,{pending:!0,data:j,method:o.method,action:f},f,j))},currentTarget:o}]})}}for(var rc=0;rc<Vr.length;rc++){var oc=Vr[rc],jg=oc.toLowerCase(),Eg=oc[0].toUpperCase()+oc.slice(1);Bt(jg,"on"+Eg)}Bt(rd,"onAnimationEnd"),Bt(od,"onAnimationIteration"),Bt(cd,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(Gp,"onTransitionRun"),Bt(Pp,"onTransitionStart"),Bt(Vp,"onTransitionCancel"),Bt(ud,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ng=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gs));function Oh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],o=n.event;n=n.listeners;e:{var f=void 0;if(t)for(var y=n.length-1;0<=y;y--){var _=n[y],j=_.instance,D=_.currentTarget;if(_=_.listener,j!==f&&o.isPropagationStopped())break e;f=_,o.currentTarget=D;try{f(o)}catch($){Nl($)}o.currentTarget=null,f=j}else for(y=0;y<n.length;y++){if(_=n[y],j=_.instance,D=_.currentTarget,_=_.listener,j!==f&&o.isPropagationStopped())break e;f=_,o.currentTarget=D;try{f(o)}catch($){Nl($)}o.currentTarget=null,f=j}}}}function _e(e,t){var a=t[br];a===void 0&&(a=t[br]=new Set);var n=e+"__bubble";a.has(n)||(Rh(t,e,2,!1),a.add(n))}function cc(e,t,a){var n=0;t&&(n|=4),Rh(a,e,n,t)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function uc(e){if(!e[Hl]){e[Hl]=!0,Su.forEach(function(a){a!=="selectionchange"&&(Ng.has(a)||cc(a,!1,e),cc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hl]||(t[Hl]=!0,cc("selectionchange",!1,t))}}function Rh(e,t,a,n){switch(tm(t)){case 2:var o=Wg;break;case 8:o=ey;break;default:o=jc}a=o.bind(null,t,a,e),o=void 0,!Rr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function dc(e,t,a,n,o){var f=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var y=n.tag;if(y===3||y===4){var _=n.stateNode.containerInfo;if(_===o)break;if(y===4)for(y=n.return;y!==null;){var j=y.tag;if((j===3||j===4)&&y.stateNode.containerInfo===o)return;y=y.return}for(;_!==null;){if(y=Cn(_),y===null)return;if(j=y.tag,j===5||j===6||j===26||j===27){n=f=y;continue e}_=_.parentNode}}n=n.return}zu(function(){var D=f,$=Ar(a),V=[];e:{var z=dd.get(e);if(z!==void 0){var q=el,ue=e;switch(e){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":q=bp;break;case"focusin":ue="focus",q=Ur;break;case"focusout":ue="blur",q=Ur;break;case"beforeblur":case"afterblur":q=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Sp;break;case rd:case od:case cd:q=dp;break;case ud:q=Ep;break;case"scroll":case"scrollend":q=lp;break;case"wheel":q=Tp;break;case"copy":case"cut":case"paste":q=hp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gu;break;case"toggle":case"beforetoggle":q=Ap}var le=(t&4)!==0,Re=!le&&(e==="scroll"||e==="scrollend"),R=le?z!==null?z+"Capture":null:z;le=[];for(var C=D,M;C!==null;){var G=C;if(M=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||M===null||R===null||(G=Li(C,R),G!=null&&le.push(ys(C,G,M))),Re)break;C=C.return}0<le.length&&(z=new q(z,ue,null,a,$),V.push({event:z,listeners:le}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Cr&&(ue=a.relatedTarget||a.fromElement)&&(Cn(ue)||ue[Tn]))break e;if((q||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ue=a.relatedTarget||a.toElement,q=D,ue=ue?Cn(ue):null,ue!==null&&(Re=d(ue),le=ue.tag,ue!==Re||le!==5&&le!==27&&le!==6)&&(ue=null)):(q=null,ue=D),q!==ue)){if(le=Hu,G="onMouseLeave",R="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(le=Gu,G="onPointerLeave",R="onPointerEnter",C="pointer"),Re=q==null?z:Ui(q),M=ue==null?z:Ui(ue),z=new le(G,C+"leave",q,a,$),z.target=Re,z.relatedTarget=M,G=null,Cn($)===D&&(le=new le(R,C+"enter",ue,a,$),le.target=M,le.relatedTarget=Re,G=le),Re=G,q&&ue)t:{for(le=q,R=ue,C=0,M=le;M;M=oi(M))C++;for(M=0,G=R;G;G=oi(G))M++;for(;0<C-M;)le=oi(le),C--;for(;0<M-C;)R=oi(R),M--;for(;C--;){if(le===R||R!==null&&le===R.alternate)break t;le=oi(le),R=oi(R)}le=null}else le=null;q!==null&&kh(V,z,q,le,!1),ue!==null&&Re!==null&&kh(V,Re,ue,le,!0)}}e:{if(z=D?Ui(D):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var ee=Iu;else if(Xu(z))if(Ju)ee=qp;else{ee=zp;var ge=Lp}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?D&&Tr(D.elementType)&&(ee=Iu):ee=Bp;if(ee&&(ee=ee(e,D))){Zu(V,ee,a,$);break e}ge&&ge(e,z,D),e==="focusout"&&D&&z.type==="number"&&D.memoizedProps.value!=null&&Nr(z,"number",z.value)}switch(ge=D?Ui(D):window,e){case"focusin":(Xu(ge)||ge.contentEditable==="true")&&(Bn=ge,$r=D,Vi=null);break;case"focusout":Vi=$r=Bn=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,sd(V,a,$);break;case"selectionchange":if($p)break;case"keydown":case"keyup":sd(V,a,$)}var ne;if(zr)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else zn?Ku(e,a)&&(oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&(Pu&&a.locale!=="ko"&&(zn||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&zn&&(ne=Bu()):(Ta=$,kr="value"in Ta?Ta.value:Ta.textContent,zn=!0)),ge=$l(D,oe),0<ge.length&&(oe=new $u(oe,e,null,a,$),V.push({event:oe,listeners:ge}),ne?oe.data=ne:(ne=Qu(a),ne!==null&&(oe.data=ne)))),(ne=Rp?kp(e,a):Mp(e,a))&&(oe=$l(D,"onBeforeInput"),0<oe.length&&(ge=new $u("onBeforeInput","beforeinput",null,a,$),V.push({event:ge,listeners:oe}),ge.data=ne)),Sg(V,e,D,a,$)}Oh(V,t)})}function ys(e,t,a){return{instance:e,listener:t,currentTarget:a}}function $l(e,t){for(var a=t+"Capture",n=[];e!==null;){var o=e,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=Li(e,a),o!=null&&n.unshift(ys(e,o,f)),o=Li(e,t),o!=null&&n.push(ys(e,o,f))),e.tag===3)return n;e=e.return}return[]}function oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kh(e,t,a,n,o){for(var f=t._reactName,y=[];a!==null&&a!==n;){var _=a,j=_.alternate,D=_.stateNode;if(_=_.tag,j!==null&&j===n)break;_!==5&&_!==26&&_!==27||D===null||(j=D,o?(D=Li(a,f),D!=null&&y.unshift(ys(a,D,j))):o||(D=Li(a,f),D!=null&&y.push(ys(a,D,j)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var Tg=/\r\n?/g,Cg=/\u0000|\uFFFD/g;function Mh(e){return(typeof e=="string"?e:""+e).replace(Tg,`
`).replace(Cg,"")}function Dh(e,t){return t=Mh(t),Mh(e)===t}function Gl(){}function Oe(e,t,a,n,o,f){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Dn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Dn(e,""+n);break;case"className":Qs(e,"class",n);break;case"tabIndex":Qs(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Qs(e,a,n);break;case"style":Uu(e,n,f);break;case"data":if(t!=="object"){Qs(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Is(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Oe(e,t,"name",o.name,o,null),Oe(e,t,"formEncType",o.formEncType,o,null),Oe(e,t,"formMethod",o.formMethod,o,null),Oe(e,t,"formTarget",o.formTarget,o,null)):(Oe(e,t,"encType",o.encType,o,null),Oe(e,t,"method",o.method,o,null),Oe(e,t,"target",o.target,o,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Is(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Gl);break;case"onScroll":n!=null&&_e("scroll",e);break;case"onScrollEnd":n!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Is(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Ks(e,"popover",n);break;case"xlinkActuate":aa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":aa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":aa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":aa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":aa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":aa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":aa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":aa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":aa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ks(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ip.get(a)||a,Ks(e,a,n))}}function fc(e,t,a,n,o,f){switch(a){case"style":Uu(e,n,f);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Dn(e,n):(typeof n=="number"||typeof n=="bigint")&&Dn(e,""+n);break;case"onScroll":n!=null&&_e("scroll",e);break;case"onScrollEnd":n!=null&&_e("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Gl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ju.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),f=e[ft]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,o),typeof n=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,o);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Ks(e,a,n)}}}function st(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var n=!1,o=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Oe(e,t,f,y,a,null)}}o&&Oe(e,t,"srcSet",a.srcSet,a,null),n&&Oe(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var _=f=y=o=null,j=null,D=null;for(n in a)if(a.hasOwnProperty(n)){var $=a[n];if($!=null)switch(n){case"name":o=$;break;case"type":y=$;break;case"checked":j=$;break;case"defaultChecked":D=$;break;case"value":f=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Oe(e,t,n,$,a,null)}}Ru(e,f,_,j,D,y,o,!1),Xs(e);return;case"select":_e("invalid",e),n=y=f=null;for(o in a)if(a.hasOwnProperty(o)&&(_=a[o],_!=null))switch(o){case"value":f=_;break;case"defaultValue":y=_;break;case"multiple":n=_;default:Oe(e,t,o,_,a,null)}t=f,a=y,e.multiple=!!n,t!=null?Mn(e,!!n,t,!1):a!=null&&Mn(e,!!n,a,!0);return;case"textarea":_e("invalid",e),f=o=n=null;for(y in a)if(a.hasOwnProperty(y)&&(_=a[y],_!=null))switch(y){case"value":n=_;break;case"defaultValue":o=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Oe(e,t,y,_,a,null)}Mu(e,n,o,f),Xs(e);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(n=a[j],n!=null))switch(j){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Oe(e,t,j,n,a,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(n=0;n<gs.length;n++)_e(gs[n],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(n=a[D],n!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Oe(e,t,D,n,a,null)}return;default:if(Tr(t)){for($ in a)a.hasOwnProperty($)&&(n=a[$],n!==void 0&&fc(e,t,$,n,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(n=a[_],n!=null&&Oe(e,t,_,n,a,null))}function Ag(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,y=null,_=null,j=null,D=null,$=null;for(q in a){var V=a[q];if(a.hasOwnProperty(q)&&V!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":j=V;default:n.hasOwnProperty(q)||Oe(e,t,q,null,n,V)}}for(var z in n){var q=n[z];if(V=a[z],n.hasOwnProperty(z)&&(q!=null||V!=null))switch(z){case"type":f=q;break;case"name":o=q;break;case"checked":D=q;break;case"defaultChecked":$=q;break;case"value":y=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:q!==V&&Oe(e,t,z,q,n,V)}}Er(e,y,_,j,D,$,f,o);return;case"select":q=y=_=z=null;for(f in a)if(j=a[f],a.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":q=j;default:n.hasOwnProperty(f)||Oe(e,t,f,null,n,j)}for(o in n)if(f=n[o],j=a[o],n.hasOwnProperty(o)&&(f!=null||j!=null))switch(o){case"value":z=f;break;case"defaultValue":_=f;break;case"multiple":y=f;default:f!==j&&Oe(e,t,o,f,n,j)}t=_,a=y,n=q,z!=null?Mn(e,!!a,z,!1):!!n!=!!a&&(t!=null?Mn(e,!!a,t,!0):Mn(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(_ in a)if(o=a[_],a.hasOwnProperty(_)&&o!=null&&!n.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(e,t,_,null,n,o)}for(y in n)if(o=n[y],f=a[y],n.hasOwnProperty(y)&&(o!=null||f!=null))switch(y){case"value":z=o;break;case"defaultValue":q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==f&&Oe(e,t,y,o,n,f)}ku(e,z,q);return;case"option":for(var ue in a)if(z=a[ue],a.hasOwnProperty(ue)&&z!=null&&!n.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:Oe(e,t,ue,null,n,z)}for(j in n)if(z=n[j],q=a[j],n.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Oe(e,t,j,z,n,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)z=a[le],a.hasOwnProperty(le)&&z!=null&&!n.hasOwnProperty(le)&&Oe(e,t,le,null,n,z);for(D in n)if(z=n[D],q=a[D],n.hasOwnProperty(D)&&z!==q&&(z!=null||q!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Oe(e,t,D,z,n,q)}return;default:if(Tr(t)){for(var Re in a)z=a[Re],a.hasOwnProperty(Re)&&z!==void 0&&!n.hasOwnProperty(Re)&&fc(e,t,Re,void 0,n,z);for($ in n)z=n[$],q=a[$],!n.hasOwnProperty($)||z===q||z===void 0&&q===void 0||fc(e,t,$,z,n,q);return}}for(var R in a)z=a[R],a.hasOwnProperty(R)&&z!=null&&!n.hasOwnProperty(R)&&Oe(e,t,R,null,n,z);for(V in n)z=n[V],q=a[V],!n.hasOwnProperty(V)||z===q||z==null&&q==null||Oe(e,t,V,z,n,q)}var hc=null,mc=null;function Pl(e){return e.nodeType===9?e:e.ownerDocument}function Uh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pc=null;function Og(){var e=window.event;return e&&e.type==="popstate"?e===pc?!1:(pc=e,!0):(pc=null,!1)}var zh=typeof setTimeout=="function"?setTimeout:void 0,Rg=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,kg=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(e){return Bh.resolve(null).then(e).catch(Mg)}:zh;function Mg(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function qh(e,t){var a=t,n=0,o=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<n&&8>n){a=n;var y=e.ownerDocument;if(a&1&&_s(y.documentElement),a&2&&_s(y.body),a&4)for(a=y.head,_s(a),y=a.firstChild;y;){var _=y.nextSibling,j=y.nodeName;y[Di]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=_}}if(o===0){e.removeChild(f),Ts(t);return}o--}else a==="$"||a==="$?"||a==="$!"?o++:n=a.charCodeAt(0)-48;else n=0;a=f}while(a);Ts(t)}function gc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gc(a),xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Dg(e,t,a,n){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Di])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function Ug(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ht(e.nextSibling),e===null))return null;return e}function yc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Lg(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var _c=null;function Hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function $h(e,t,a){switch(t=Pl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function _s(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xr(e)}var Ut=new Map,Gh=new Set;function Vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=X.d;X.d={f:zg,r:Bg,D:qg,C:Hg,L:$g,m:Gg,X:Vg,S:Pg,M:Yg};function zg(){var e=pa.f(),t=Ul();return e||t}function Bg(e){var t=An(e);t!==null&&t.tag===5&&t.type==="form"?of(t):pa.r(e)}var ci=typeof document>"u"?null:document;function Ph(e,t,a){var n=ci;if(n&&typeof t=="string"&&t){var o=Ct(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Gh.has(o)||(Gh.add(o),e={rel:e,crossOrigin:a,href:t},n.querySelector(o)===null&&(t=n.createElement("link"),st(t,"link",e),Fe(t),n.head.appendChild(t)))}}function qg(e){pa.D(e),Ph("dns-prefetch",e,null)}function Hg(e,t){pa.C(e,t),Ph("preconnect",e,t)}function $g(e,t,a){pa.L(e,t,a);var n=ci;if(n&&e&&t){var o='link[rel="preload"][as="'+Ct(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ct(a.imageSizes)+'"]')):o+='[href="'+Ct(e)+'"]';var f=o;switch(t){case"style":f=ui(e);break;case"script":f=di(e)}Ut.has(f)||(e=g({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ut.set(f,e),n.querySelector(o)!==null||t==="style"&&n.querySelector(bs(f))||t==="script"&&n.querySelector(xs(f))||(t=n.createElement("link"),st(t,"link",e),Fe(t),n.head.appendChild(t)))}}function Gg(e,t){pa.m(e,t);var a=ci;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ct(n)+'"][href="'+Ct(e)+'"]',f=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=di(e)}if(!Ut.has(f)&&(e=g({rel:"modulepreload",href:e},t),Ut.set(f,e),a.querySelector(o)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xs(f)))return}n=a.createElement("link"),st(n,"link",e),Fe(n),a.head.appendChild(n)}}}function Pg(e,t,a){pa.S(e,t,a);var n=ci;if(n&&e){var o=On(n).hoistableStyles,f=ui(e);t=t||"default";var y=o.get(f);if(!y){var _={loading:0,preload:null};if(y=n.querySelector(bs(f)))_.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ut.get(f))&&bc(e,a);var j=y=n.createElement("link");Fe(j),st(j,"link",e),j._p=new Promise(function(D,$){j.onload=D,j.onerror=$}),j.addEventListener("load",function(){_.loading|=1}),j.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Yl(y,t,n)}y={type:"stylesheet",instance:y,count:1,state:_},o.set(f,y)}}}function Vg(e,t){pa.X(e,t);var a=ci;if(a&&e){var n=On(a).hoistableScripts,o=di(e),f=n.get(o);f||(f=a.querySelector(xs(o)),f||(e=g({src:e,async:!0},t),(t=Ut.get(o))&&xc(e,t),f=a.createElement("script"),Fe(f),st(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},n.set(o,f))}}function Yg(e,t){pa.M(e,t);var a=ci;if(a&&e){var n=On(a).hoistableScripts,o=di(e),f=n.get(o);f||(f=a.querySelector(xs(o)),f||(e=g({src:e,async:!0,type:"module"},t),(t=Ut.get(o))&&xc(e,t),f=a.createElement("script"),Fe(f),st(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},n.set(o,f))}}function Vh(e,t,a,n){var o=(o=ce.current)?Vl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ui(a.href),a=On(o).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ui(a.href);var f=On(o).hoistableStyles,y=f.get(e);if(y||(o=o.ownerDocument||o,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=o.querySelector(bs(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Ut.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ut.set(e,a),f||Kg(o,e,a,y.state))),t&&n===null)throw Error(l(528,""));return y}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=di(a),a=On(o).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ui(e){return'href="'+Ct(e)+'"'}function bs(e){return'link[rel="stylesheet"]['+e+"]"}function Yh(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Kg(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),st(t,"link",a),Fe(t),e.head.appendChild(t))}function di(e){return'[src="'+Ct(e)+'"]'}function xs(e){return"script[async]"+e}function Kh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ct(a.href)+'"]');if(n)return t.instance=n,Fe(n),n;var o=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Fe(n),st(n,"style",o),Yl(n,a.precedence,e),t.instance=n;case"stylesheet":o=ui(a.href);var f=e.querySelector(bs(o));if(f)return t.state.loading|=4,t.instance=f,Fe(f),f;n=Yh(a),(o=Ut.get(o))&&bc(n,o),f=(e.ownerDocument||e).createElement("link"),Fe(f);var y=f;return y._p=new Promise(function(_,j){y.onload=_,y.onerror=j}),st(f,"link",n),t.state.loading|=4,Yl(f,a.precedence,e),t.instance=f;case"script":return f=di(a.src),(o=e.querySelector(xs(f)))?(t.instance=o,Fe(o),o):(n=a,(o=Ut.get(f))&&(n=g({},a),xc(n,o)),e=e.ownerDocument||e,o=e.createElement("script"),Fe(o),st(o,"link",n),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Yl(n,a.precedence,e));return t.instance}function Yl(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=n.length?n[n.length-1]:null,f=o,y=0;y<n.length;y++){var _=n[y];if(_.dataset.precedence===t)f=_;else if(f!==o)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kl=null;function Qh(e,t,a){if(Kl===null){var n=new Map,o=Kl=new Map;o.set(a,n)}else o=Kl,n=o.get(a),n||(n=new Map,o.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var f=a[o];if(!(f[Di]||f[lt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var _=n.get(y);_?_.push(f):n.set(y,[f])}}return n}function Xh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Qg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ws=null;function Xg(){}function Zg(e,t,a){if(ws===null)throw Error(l(475));var n=ws;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=ui(a.href),f=e.querySelector(bs(o));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Ql.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=f,Fe(f);return}f=e.ownerDocument||e,a=Yh(a),(o=Ut.get(o))&&bc(a,o),f=f.createElement("link"),Fe(f);var y=f;y._p=new Promise(function(_,j){y.onload=_,y.onerror=j}),st(f,"link",a),t.instance=f}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Ql.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Ig(){if(ws===null)throw Error(l(475));var e=ws;return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ql(){if(this.count--,this.count===0){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xl=null;function wc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xl=new Map,t.forEach(Jg,e),Xl=null,Ql.call(e))}function Jg(e,t){if(!(t.state.loading&4)){var a=Xl.get(e);if(a)var n=a.get(null);else{a=new Map,Xl.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var y=o[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),n=y)}n&&a.set(null,n)}o=t.instance,y=o.getAttribute("data-precedence"),f=a.get(y)||n,f===n&&a.set(null,o),a.set(y,o),this.count++,n=Ql.bind(this),o.addEventListener("load",n),o.addEventListener("error",n),f?f.parentNode.insertBefore(o,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ss={$$typeof:A,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Fg(e,t,a,n,o,f,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.hiddenUpdates=gr(null),this.identifierPrefix=n,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ih(e,t,a,n,o,f,y,_,j,D,$,V){return e=new Fg(e,t,a,y,_,j,D,V),t=1,f===!0&&(t|=24),f=xt(3,null,null,t),e.current=f,f.stateNode=e,t=ao(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:n,isDehydrated:a,cache:t},lo(f),e}function Jh(e){return e?(e=Gn,e):Gn}function Fh(e,t,a,n,o,f){o=Jh(o),n.context===null?n.context=o:n.pendingContext=o,n=Oa(t),n.payload={element:a},f=f===void 0?null:f,f!==null&&(n.callback=f),a=Ra(e,n,t),a!==null&&(Nt(a,e,t),Wi(a,e,t))}function Wh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Sc(e,t){Wh(e,t),(e=e.alternate)&&Wh(e,t)}function em(e){if(e.tag===13){var t=$n(e,67108864);t!==null&&Nt(t,e,67108864),Sc(e,67108864)}}var Zl=!0;function Wg(e,t,a,n){var o=U.T;U.T=null;var f=X.p;try{X.p=2,jc(e,t,a,n)}finally{X.p=f,U.T=o}}function ey(e,t,a,n){var o=U.T;U.T=null;var f=X.p;try{X.p=8,jc(e,t,a,n)}finally{X.p=f,U.T=o}}function jc(e,t,a,n){if(Zl){var o=Ec(n);if(o===null)dc(e,t,n,Il,a),am(e,n);else if(ay(o,e,t,a,n))n.stopPropagation();else if(am(e,n),t&4&&-1<ty.indexOf(e)){for(;o!==null;){var f=An(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Wa(f.pendingLanes);if(y!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var j=1<<31-_t(y);_.entanglements[1]|=j,y&=~j}It(f),(Te&6)===0&&(Ml=ie()+500,ps(0))}}break;case 13:_=$n(f,2),_!==null&&Nt(_,f,2),Ul(),Sc(f,2)}if(f=Ec(n),f===null&&dc(e,t,n,Il,a),f===o)break;o=f}o!==null&&n.stopPropagation()}else dc(e,t,n,null,a)}}function Ec(e){return e=Ar(e),Nc(e)}var Il=null;function Nc(e){if(Il=null,e=Cn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Il=e,null}function tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case ke:return 2;case Sa:return 8;case ja:case ta:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var Tc=!1,Va=null,Ya=null,Ka=null,js=new Map,Es=new Map,Qa=[],ty="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function am(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Ns(e,t,a,n,o,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:f,targetContainers:[o]},t!==null&&(t=An(t),t!==null&&em(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ay(e,t,a,n,o){switch(t){case"focusin":return Va=Ns(Va,e,t,a,n,o),!0;case"dragenter":return Ya=Ns(Ya,e,t,a,n,o),!0;case"mouseover":return Ka=Ns(Ka,e,t,a,n,o),!0;case"pointerover":var f=o.pointerId;return js.set(f,Ns(js.get(f)||null,e,t,a,n,o)),!0;case"gotpointercapture":return f=o.pointerId,Es.set(f,Ns(Es.get(f)||null,e,t,a,n,o)),!0}return!1}function nm(e){var t=Cn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Zv(e.priority,function(){if(a.tag===13){var n=Et();n=yr(n);var o=$n(a,n);o!==null&&Nt(o,a,n),Sc(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ec(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Cr=n,a.target.dispatchEvent(n),Cr=null}else return t=An(a),t!==null&&em(t),e.blockedOn=a,!1;t.shift()}return!0}function im(e,t,a){Jl(e)&&a.delete(t)}function ny(){Tc=!1,Va!==null&&Jl(Va)&&(Va=null),Ya!==null&&Jl(Ya)&&(Ya=null),Ka!==null&&Jl(Ka)&&(Ka=null),js.forEach(im),Es.forEach(im)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,Tc||(Tc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ny)))}var Wl=null;function sm(e){Wl!==e&&(Wl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],o=e[t+2];if(typeof n!="function"){if(Nc(n||a)===null)continue;break}var f=An(a);f!==null&&(e.splice(t,3),t-=3,No(f,{pending:!0,data:o,method:a.method,action:n},n,o))}}))}function Ts(e){function t(j){return Fl(j,e)}Va!==null&&Fl(Va,e),Ya!==null&&Fl(Ya,e),Ka!==null&&Fl(Ka,e),js.forEach(t),Es.forEach(t);for(var a=0;a<Qa.length;a++){var n=Qa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Qa.length&&(a=Qa[0],a.blockedOn===null);)nm(a),a.blockedOn===null&&Qa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var o=a[n],f=a[n+1],y=o[ft]||null;if(typeof f=="function")y||sm(a);else if(y){var _=null;if(f&&f.hasAttribute("formAction")){if(o=f,y=f[ft]||null)_=y.formAction;else if(Nc(o)!==null)continue}else _=y.action;typeof _=="function"?a[n+1]=_:(a.splice(n,3),n-=3),sm(a)}}}function Cc(e){this._internalRoot=e}er.prototype.render=Cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,n=Et();Fh(a,n,e,t,null,null)},er.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fh(e.current,2,null,e,null,null),Ul(),t[Tn]=null}};function er(e){this._internalRoot=e}er.prototype.unstable_scheduleHydration=function(e){if(e){var t=xu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Qa.length&&t!==0&&t<Qa[a].priority;a++);Qa.splice(a,0,e),a===0&&nm(e)}};var lm=i.version;if(lm!=="19.1.1")throw Error(l(527,lm,"19.1.1"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var iy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tr.isDisabled&&tr.supportsFiber)try{Ri=tr.inject(iy),yt=tr}catch{}}return As.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,n="",o=wf,f=Sf,y=jf,_=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(_=t.unstable_transitionCallbacks)),t=Ih(e,1,!1,null,null,a,n,o,f,y,_,null),e[Tn]=t.current,uc(e),new Cc(t)},As.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var n=!1,o="",f=wf,y=Sf,_=jf,j=null,D=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(D=a.formState)),t=Ih(e,1,!0,t,a??null,n,o,f,y,_,j,D),t.context=Jh(null),a=t.current,n=Et(),n=yr(n),o=Oa(n),o.callback=null,Ra(a,o,n),a=n,t.current.lanes=a,Mi(t,a),It(t),e[Tn]=t.current,uc(e),new er(t)},As.version="19.1.1",As}var pm;function py(){if(pm)return Oc.exports;pm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Oc.exports=vy(),Oc.exports}var gy=py(),w=su();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gm="popstate";function yy(r={}){function i(l,c){let{pathname:d,search:h,hash:v}=l.location;return Yc("",{pathname:d,search:h,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:Us(c)}return by(i,s,null,r)}function qe(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function Pt(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function _y(){return Math.random().toString(36).substring(2,10)}function ym(r,i){return{usr:r.state,key:r.key,idx:i}}function Yc(r,i,s=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?Ei(i):i,state:s,key:i&&i.key||l||_y()}}function Us({pathname:r="/",search:i="",hash:s=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ei(r){let i={};if(r){let s=r.indexOf("#");s>=0&&(i.hash=r.substring(s),r=r.substring(0,s));let l=r.indexOf("?");l>=0&&(i.search=r.substring(l),r=r.substring(0,l)),r&&(i.pathname=r)}return i}function by(r,i,s,l={}){let{window:c=document.defaultView,v5Compat:d=!1}=l,h=c.history,v="POP",m=null,p=g();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function g(){return(h.state||{idx:null}).idx}function b(){v="POP";let T=g(),k=T==null?null:T-p;p=T,m&&m({action:v,location:O.location,delta:k})}function x(T,k){v="PUSH";let B=Yc(O.location,T,k);p=g()+1;let A=ym(B,p),P=O.createHref(B);try{h.pushState(A,"",P)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;c.location.assign(P)}d&&m&&m({action:v,location:O.location,delta:1})}function S(T,k){v="REPLACE";let B=Yc(O.location,T,k);p=g();let A=ym(B,p),P=O.createHref(B);h.replaceState(A,"",P),d&&m&&m({action:v,location:O.location,delta:0})}function E(T){return xy(T)}let O={get action(){return v},get location(){return r(c,h)},listen(T){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(gm,b),m=T,()=>{c.removeEventListener(gm,b),m=null}},createHref(T){return i(c,T)},createURL:E,encodeLocation(T){let k=E(T);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:S,go(T){return h.go(T)}};return O}function xy(r,i=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),qe(s,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Us(r);return l=l.replace(/ $/,"%20"),!i&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function Fm(r,i,s="/"){return wy(r,i,s,!1)}function wy(r,i,s,l){let c=typeof i=="string"?Ei(i):i,d=xa(c.pathname||"/",s);if(d==null)return null;let h=Wm(r);Sy(h);let v=null;for(let m=0;v==null&&m<h.length;++m){let p=Dy(d);v=ky(h[m],p,l)}return v}function Wm(r,i=[],s=[],l="",c=!1){let d=(h,v,m=c,p)=>{let g={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:v,route:h};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(l)&&m)return;qe(g.relativePath.startsWith(l),`Absolute route path "${g.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(l.length)}let b=ba([l,g.relativePath]),x=s.concat(g);h.children&&h.children.length>0&&(qe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Wm(h.children,i,x,b,m)),!(h.path==null&&!h.index)&&i.push({path:b,score:Oy(b,h.index),routesMeta:x})};return r.forEach((h,v)=>{if(h.path===""||!h.path?.includes("?"))d(h,v);else for(let m of ev(h.path))d(h,v,!0,m)}),i}function ev(r){let i=r.split("/");if(i.length===0)return[];let[s,...l]=i,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(l.length===0)return c?[d,""]:[d];let h=ev(l.join("/")),v=[];return v.push(...h.map(m=>m===""?d:[d,m].join("/"))),c&&v.push(...h),v.map(m=>r.startsWith("/")&&m===""?"/":m)}function Sy(r){r.sort((i,s)=>i.score!==s.score?s.score-i.score:Ry(i.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var jy=/^:[\w-]+$/,Ey=3,Ny=2,Ty=1,Cy=10,Ay=-2,_m=r=>r==="*";function Oy(r,i){let s=r.split("/"),l=s.length;return s.some(_m)&&(l+=Ay),i&&(l+=Ny),s.filter(c=>!_m(c)).reduce((c,d)=>c+(jy.test(d)?Ey:d===""?Ty:Cy),l)}function Ry(r,i){return r.length===i.length&&r.slice(0,-1).every((l,c)=>l===i[c])?r[r.length-1]-i[i.length-1]:0}function ky(r,i,s=!1){let{routesMeta:l}=r,c={},d="/",h=[];for(let v=0;v<l.length;++v){let m=l[v],p=v===l.length-1,g=d==="/"?i:i.slice(d.length)||"/",b=ur({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),x=m.route;if(!b&&p&&s&&!l[l.length-1].route.index&&(b=ur({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!b)return null;Object.assign(c,b.params),h.push({params:c,pathname:ba([d,b.pathname]),pathnameBase:By(ba([d,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(d=ba([d,b.pathnameBase]))}return h}function ur(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,l]=My(r.path,r.caseSensitive,r.end),c=i.match(s);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),v=c.slice(1);return{params:l.reduce((p,{paramName:g,isOptional:b},x)=>{if(g==="*"){let E=v[x]||"";h=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const S=v[x];return b&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:h,pattern:r}}function My(r,i=!1,s=!0){Pt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,v,m)=>(l.push({paramName:v,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),l]}function Dy(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Pt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function xa(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,l=r.charAt(s);return l&&l!=="/"?null:r.slice(s)||"/"}function Uy(r,i="/"){let{pathname:s,search:l="",hash:c=""}=typeof r=="string"?Ei(r):r;return{pathname:s?s.startsWith("/")?s:Ly(s,i):i,search:qy(l),hash:Hy(c)}}function Ly(r,i){let s=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Uc(r,i,s,l){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zy(r){return r.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function tv(r){let i=zy(r);return i.map((s,l)=>l===i.length-1?s.pathname:s.pathnameBase)}function av(r,i,s,l=!1){let c;typeof r=="string"?c=Ei(r):(c={...r},qe(!c.pathname||!c.pathname.includes("?"),Uc("?","pathname","search",c)),qe(!c.pathname||!c.pathname.includes("#"),Uc("#","pathname","hash",c)),qe(!c.search||!c.search.includes("#"),Uc("#","search","hash",c)));let d=r===""||c.pathname==="",h=d?"/":c.pathname,v;if(h==null)v=s;else{let b=i.length-1;if(!l&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),b-=1;c.pathname=x.join("/")}v=b>=0?i[b]:"/"}let m=Uy(c,v),p=h&&h!=="/"&&h.endsWith("/"),g=(d||h===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var ba=r=>r.join("/").replace(/\/\/+/g,"/"),By=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qy=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Hy=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function $y(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var nv=["POST","PUT","PATCH","DELETE"];new Set(nv);var Gy=["GET",...nv];new Set(Gy);var Ni=w.createContext(null);Ni.displayName="DataRouter";var hr=w.createContext(null);hr.displayName="DataRouterState";w.createContext(!1);var iv=w.createContext({isTransitioning:!1});iv.displayName="ViewTransition";var Py=w.createContext(new Map);Py.displayName="Fetchers";var Vy=w.createContext(null);Vy.displayName="Await";var Wt=w.createContext(null);Wt.displayName="Navigation";var zs=w.createContext(null);zs.displayName="Location";var ea=w.createContext({outlet:null,matches:[],isDataRoute:!1});ea.displayName="Route";var lu=w.createContext(null);lu.displayName="RouteError";function Yy(r,{relative:i}={}){qe(Bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=w.useContext(Wt),{hash:c,pathname:d,search:h}=qs(r,{relative:i}),v=d;return s!=="/"&&(v=d==="/"?s:ba([s,d])),l.createHref({pathname:v,search:h,hash:c})}function Bs(){return w.useContext(zs)!=null}function wa(){return qe(Bs(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(zs).location}var sv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lv(r){w.useContext(Wt).static||w.useLayoutEffect(r)}function zt(){let{isDataRoute:r}=w.useContext(ea);return r?i0():Ky()}function Ky(){qe(Bs(),"useNavigate() may be used only in the context of a <Router> component.");let r=w.useContext(Ni),{basename:i,navigator:s}=w.useContext(Wt),{matches:l}=w.useContext(ea),{pathname:c}=wa(),d=JSON.stringify(tv(l)),h=w.useRef(!1);return lv(()=>{h.current=!0}),w.useCallback((m,p={})=>{if(Pt(h.current,sv),!h.current)return;if(typeof m=="number"){s.go(m);return}let g=av(m,JSON.parse(d),c,p.relative==="path");r==null&&i!=="/"&&(g.pathname=g.pathname==="/"?i:ba([i,g.pathname])),(p.replace?s.replace:s.push)(g,p.state,p)},[i,s,d,c,r])}w.createContext(null);function rv(){let{matches:r}=w.useContext(ea),i=r[r.length-1];return i?i.params:{}}function qs(r,{relative:i}={}){let{matches:s}=w.useContext(ea),{pathname:l}=wa(),c=JSON.stringify(tv(s));return w.useMemo(()=>av(r,JSON.parse(c),l,i==="path"),[r,c,l,i])}function Qy(r,i){return ov(r,i)}function ov(r,i,s,l,c){qe(Bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=w.useContext(Wt),{matches:h}=w.useContext(ea),v=h[h.length-1],m=v?v.params:{},p=v?v.pathname:"/",g=v?v.pathnameBase:"/",b=v&&v.route;{let B=b&&b.path||"";cv(p,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let x=wa(),S;if(i){let B=typeof i=="string"?Ei(i):i;qe(g==="/"||B.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=x;let E=S.pathname||"/",O=E;if(g!=="/"){let B=g.replace(/^\//,"").split("/");O="/"+E.replace(/^\//,"").split("/").slice(B.length).join("/")}let T=Fm(r,{pathname:O});Pt(b||T!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Pt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Fy(T&&T.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:ba([g,d.encodeLocation?d.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:ba([g,d.encodeLocation?d.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),h,s,l,c);return i&&k?w.createElement(zs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function Xy(){let r=n0(),i=$y(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:d},"ErrorBoundary")," or"," ",w.createElement("code",{style:d},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},i),s?w.createElement("pre",{style:c},s):null,h)}var Zy=w.createElement(Xy,null),Iy=class extends w.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){this.props.unstable_onError?this.props.unstable_onError(r,i):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?w.createElement(ea.Provider,{value:this.props.routeContext},w.createElement(lu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jy({routeContext:r,match:i,children:s}){let l=w.useContext(Ni);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),w.createElement(ea.Provider,{value:r},s)}function Fy(r,i=[],s=null,l=null,c=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let d=r,h=s?.errors;if(h!=null){let p=d.findIndex(g=>g.route.id&&h?.[g.route.id]!==void 0);qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,p+1))}let v=!1,m=-1;if(s)for(let p=0;p<d.length;p++){let g=d[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:b,errors:x}=s,S=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||S){v=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}return d.reduceRight((p,g,b)=>{let x,S=!1,E=null,O=null;s&&(x=h&&g.route.id?h[g.route.id]:void 0,E=g.route.errorElement||Zy,v&&(m<0&&b===0?(cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===b&&(S=!0,O=g.route.hydrateFallbackElement||null)));let T=i.concat(d.slice(0,b+1)),k=()=>{let B;return x?B=E:S?B=O:g.route.Component?B=w.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,w.createElement(Jy,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:s!=null},children:B})};return s&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?w.createElement(Iy,{location:s.location,revalidation:s.revalidation,component:E,error:x,children:k(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:l}):k()},null)}function ru(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wy(r){let i=w.useContext(Ni);return qe(i,ru(r)),i}function e0(r){let i=w.useContext(hr);return qe(i,ru(r)),i}function t0(r){let i=w.useContext(ea);return qe(i,ru(r)),i}function ou(r){let i=t0(r),s=i.matches[i.matches.length-1];return qe(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function a0(){return ou("useRouteId")}function n0(){let r=w.useContext(lu),i=e0("useRouteError"),s=ou("useRouteError");return r!==void 0?r:i.errors?.[s]}function i0(){let{router:r}=Wy("useNavigate"),i=ou("useNavigate"),s=w.useRef(!1);return lv(()=>{s.current=!0}),w.useCallback(async(c,d={})=>{Pt(s.current,sv),s.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:i,...d}))},[r,i])}var bm={};function cv(r,i,s){!i&&!bm[r]&&(bm[r]=!0,Pt(!1,s))}w.memo(s0);function s0({routes:r,future:i,state:s,unstable_onError:l}){return ov(r,void 0,s,l,i)}function ga(r){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l0({basename:r="/",children:i=null,location:s,navigationType:l="POP",navigator:c,static:d=!1}){qe(!Bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),v=w.useMemo(()=>({basename:h,navigator:c,static:d,future:{}}),[h,c,d]);typeof s=="string"&&(s=Ei(s));let{pathname:m="/",search:p="",hash:g="",state:b=null,key:x="default"}=s,S=w.useMemo(()=>{let E=xa(m,h);return E==null?null:{location:{pathname:E,search:p,hash:g,state:b,key:x},navigationType:l}},[h,m,p,g,b,x,l]);return Pt(S!=null,`<Router basename="${h}"> is not able to match the URL "${m}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(Wt.Provider,{value:v},w.createElement(zs.Provider,{children:i,value:S}))}function r0({children:r,location:i}){return Qy(Kc(r),i)}function Kc(r,i=[]){let s=[];return w.Children.forEach(r,(l,c)=>{if(!w.isValidElement(l))return;let d=[...i,c];if(l.type===w.Fragment){s.push.apply(s,Kc(l.props.children,d));return}qe(l.type===ga,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=Kc(l.props.children,d)),s.push(h)}),s}var or="get",cr="application/x-www-form-urlencoded";function mr(r){return r!=null&&typeof r.tagName=="string"}function o0(r){return mr(r)&&r.tagName.toLowerCase()==="button"}function c0(r){return mr(r)&&r.tagName.toLowerCase()==="form"}function u0(r){return mr(r)&&r.tagName.toLowerCase()==="input"}function d0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function f0(r,i){return r.button===0&&(!i||i==="_self")&&!d0(r)}function Qc(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((i,s)=>{let l=r[s];return i.concat(Array.isArray(l)?l.map(c=>[s,c]):[[s,l]])},[]))}function h0(r,i){let s=Qc(r);return i&&i.forEach((l,c)=>{s.has(c)||i.getAll(c).forEach(d=>{s.append(c,d)})}),s}var ar=null;function m0(){if(ar===null)try{new FormData(document.createElement("form"),0),ar=!1}catch{ar=!0}return ar}var v0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lc(r){return r!=null&&!v0.has(r)?(Pt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cr}"`),null):r}function p0(r,i){let s,l,c,d,h;if(c0(r)){let v=r.getAttribute("action");l=v?xa(v,i):null,s=r.getAttribute("method")||or,c=Lc(r.getAttribute("enctype"))||cr,d=new FormData(r)}else if(o0(r)||u0(r)&&(r.type==="submit"||r.type==="image")){let v=r.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||v.getAttribute("action");if(l=m?xa(m,i):null,s=r.getAttribute("formmethod")||v.getAttribute("method")||or,c=Lc(r.getAttribute("formenctype"))||Lc(v.getAttribute("enctype"))||cr,d=new FormData(v,r),!m0()){let{name:p,type:g,value:b}=r;if(g==="image"){let x=p?`${p}.`:"";d.append(`${x}x`,"0"),d.append(`${x}y`,"0")}else p&&d.append(p,b)}}else{if(mr(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=or,l=null,c=cr,h=r}return d&&c==="text/plain"&&(h=d,d=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cu(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function g0(r,i,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${s}`:i&&xa(l.pathname,i)==="/"?l.pathname=`${i.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function y0(r,i){if(r.id in i)return i[r.id];try{let s=await import(r.module);return i[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function b0(r,i,s){let l=await Promise.all(r.map(async c=>{let d=i.routes[c.route.id];if(d){let h=await y0(d,s);return h.links?h.links():[]}return[]}));return j0(l.flat(1).filter(_0).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function xm(r,i,s,l,c,d){let h=(m,p)=>s[p]?m.route.id!==s[p].route.id:!0,v=(m,p)=>s[p].pathname!==m.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==m.params["*"];return d==="assets"?i.filter((m,p)=>h(m,p)||v(m,p)):d==="data"?i.filter((m,p)=>{let g=l.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(h(m,p)||v(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function x0(r,i,{includeHydrateFallback:s}={}){return w0(r.map(l=>{let c=i.routes[l.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function w0(r){return[...new Set(r)]}function S0(r){let i={},s=Object.keys(r).sort();for(let l of s)i[l]=r[l];return i}function j0(r,i){let s=new Set;return new Set(i),r.reduce((l,c)=>{let d=JSON.stringify(S0(c));return s.has(d)||(s.add(d),l.push({key:d,link:c})),l},[])}function uv(){let r=w.useContext(Ni);return cu(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function E0(){let r=w.useContext(hr);return cu(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var uu=w.createContext(void 0);uu.displayName="FrameworkContext";function dv(){let r=w.useContext(uu);return cu(r,"You must render this element inside a <HydratedRouter> element"),r}function N0(r,i){let s=w.useContext(uu),[l,c]=w.useState(!1),[d,h]=w.useState(!1),{onFocus:v,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:b}=i,x=w.useRef(null);w.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let O=k=>{k.forEach(B=>{h(B.isIntersecting)})},T=new IntersectionObserver(O,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[r]),w.useEffect(()=>{if(l){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[l]);let S=()=>{c(!0)},E=()=>{c(!1),h(!1)};return s?r!=="intent"?[d,x,{}]:[d,x,{onFocus:Os(v,S),onBlur:Os(m,E),onMouseEnter:Os(p,S),onMouseLeave:Os(g,E),onTouchStart:Os(b,S)}]:[!1,x,{}]}function Os(r,i){return s=>{r&&r(s),s.defaultPrevented||i(s)}}function T0({page:r,...i}){let{router:s}=uv(),l=w.useMemo(()=>Fm(s.routes,r,s.basename),[s.routes,r,s.basename]);return l?w.createElement(A0,{page:r,matches:l,...i}):null}function C0(r){let{manifest:i,routeModules:s}=dv(),[l,c]=w.useState([]);return w.useEffect(()=>{let d=!1;return b0(r,i,s).then(h=>{d||c(h)}),()=>{d=!0}},[r,i,s]),l}function A0({page:r,matches:i,...s}){let l=wa(),{manifest:c,routeModules:d}=dv(),{basename:h}=uv(),{loaderData:v,matches:m}=E0(),p=w.useMemo(()=>xm(r,i,m,c,l,"data"),[r,i,m,c,l]),g=w.useMemo(()=>xm(r,i,m,c,l,"assets"),[r,i,m,c,l]),b=w.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let E=new Set,O=!1;if(i.forEach(k=>{let B=c.routes[k.route.id];!B||!B.hasLoader||(!p.some(A=>A.route.id===k.route.id)&&k.route.id in v&&d[k.route.id]?.shouldRevalidate||B.hasClientLoader?O=!0:E.add(k.route.id))}),E.size===0)return[];let T=g0(r,h,"data");return O&&E.size>0&&T.searchParams.set("_routes",i.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[T.pathname+T.search]},[h,v,l,c,p,i,r,d]),x=w.useMemo(()=>x0(g,c),[g,c]),S=C0(g);return w.createElement(w.Fragment,null,b.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),x.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),S.map(({key:E,link:O})=>w.createElement("link",{key:E,nonce:s.nonce,...O})))}function O0(...r){return i=>{r.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fv&&(window.__reactRouterVersion="7.8.2")}catch{}function R0({basename:r,children:i,window:s}){let l=w.useRef();l.current==null&&(l.current=yy({window:s,v5Compat:!0}));let c=l.current,[d,h]=w.useState({action:c.action,location:c.location}),v=w.useCallback(m=>{w.startTransition(()=>h(m))},[h]);return w.useLayoutEffect(()=>c.listen(v),[c,v]),w.createElement(l0,{basename:r,children:i,location:d.location,navigationType:d.action,navigator:c})}var hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mv=w.forwardRef(function({onClick:i,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:h,state:v,target:m,to:p,preventScrollReset:g,viewTransition:b,...x},S){let{basename:E}=w.useContext(Wt),O=typeof p=="string"&&hv.test(p),T,k=!1;if(typeof p=="string"&&O&&(T=p,fv))try{let F=new URL(window.location.href),Q=p.startsWith("//")?new URL(F.protocol+p):new URL(p),te=xa(Q.pathname,E);Q.origin===F.origin&&te!=null?p=te+Q.search+Q.hash:k=!0}catch{Pt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Yy(p,{relative:c}),[A,P,H]=N0(l,x),L=U0(p,{replace:h,state:v,target:m,preventScrollReset:g,relative:c,viewTransition:b});function K(F){i&&i(F),F.defaultPrevented||L(F)}let re=w.createElement("a",{...x,...H,href:T||B,onClick:k||d?i:K,ref:O0(S,P),target:m,"data-discover":!O&&s==="render"?"true":void 0});return A&&!O?w.createElement(w.Fragment,null,re,w.createElement(T0,{page:B})):re});mv.displayName="Link";var k0=w.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:l="",end:c=!1,style:d,to:h,viewTransition:v,children:m,...p},g){let b=qs(h,{relative:p.relative}),x=wa(),S=w.useContext(hr),{navigator:E,basename:O}=w.useContext(Wt),T=S!=null&&$0(b)&&v===!0,k=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,B=x.pathname,A=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(B=B.toLowerCase(),A=A?A.toLowerCase():null,k=k.toLowerCase()),A&&O&&(A=xa(A,O)||A);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let H=B===k||!c&&B.startsWith(k)&&B.charAt(P)==="/",L=A!=null&&(A===k||!c&&A.startsWith(k)&&A.charAt(k.length)==="/"),K={isActive:H,isPending:L,isTransitioning:T},re=H?i:void 0,F;typeof l=="function"?F=l(K):F=[l,H?"active":null,L?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Q=typeof d=="function"?d(K):d;return w.createElement(mv,{...p,"aria-current":re,className:F,ref:g,style:Q,to:h,viewTransition:v},typeof m=="function"?m(K):m)});k0.displayName="NavLink";var M0=w.forwardRef(({discover:r="render",fetcherKey:i,navigate:s,reloadDocument:l,replace:c,state:d,method:h=or,action:v,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:b,...x},S)=>{let E=q0(),O=H0(v,{relative:p}),T=h.toLowerCase()==="get"?"get":"post",k=typeof v=="string"&&hv.test(v),B=A=>{if(m&&m(A),A.defaultPrevented)return;A.preventDefault();let P=A.nativeEvent.submitter,H=P?.getAttribute("formmethod")||h;E(P||A.currentTarget,{fetcherKey:i,method:H,navigate:s,replace:c,state:d,relative:p,preventScrollReset:g,viewTransition:b})};return w.createElement("form",{ref:S,method:T,action:O,onSubmit:l?m:B,...x,"data-discover":!k&&r==="render"?"true":void 0})});M0.displayName="Form";function D0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vv(r){let i=w.useContext(Ni);return qe(i,D0(r)),i}function U0(r,{target:i,replace:s,state:l,preventScrollReset:c,relative:d,viewTransition:h}={}){let v=zt(),m=wa(),p=qs(r,{relative:d});return w.useCallback(g=>{if(f0(g,i)){g.preventDefault();let b=s!==void 0?s:Us(m)===Us(p);v(r,{replace:b,state:l,preventScrollReset:c,relative:d,viewTransition:h})}},[m,v,p,s,l,i,r,c,d,h])}function L0(r){Pt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=w.useRef(Qc(r)),s=w.useRef(!1),l=wa(),c=w.useMemo(()=>h0(l.search,s.current?null:i.current),[l.search]),d=zt(),h=w.useCallback((v,m)=>{const p=Qc(typeof v=="function"?v(new URLSearchParams(c)):v);s.current=!0,d("?"+p,m)},[d,c]);return[c,h]}var z0=0,B0=()=>`__${String(++z0)}__`;function q0(){let{router:r}=vv("useSubmit"),{basename:i}=w.useContext(Wt),s=a0();return w.useCallback(async(l,c={})=>{let{action:d,method:h,encType:v,formData:m,body:p}=p0(l,i);if(c.navigate===!1){let g=c.fetcherKey||B0();await r.fetch(g,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||h,formEncType:c.encType||v,flushSync:c.flushSync})}else await r.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||h,formEncType:c.encType||v,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,s])}function H0(r,{relative:i}={}){let{basename:s}=w.useContext(Wt),l=w.useContext(ea);qe(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),d={...qs(r||".",{relative:i})},h=wa();if(r==null){d.search=h.search;let v=new URLSearchParams(d.search),m=v.getAll("index");if(m.some(g=>g==="")){v.delete("index"),m.filter(b=>b).forEach(b=>v.append("index",b));let g=v.toString();d.search=g?`?${g}`:""}}return(!r||r===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:ba([s,d.pathname])),Us(d)}function $0(r,{relative:i}={}){let s=w.useContext(iv);qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=vv("useViewTransitionState"),c=qs(r,{relative:i});if(!s.isTransitioning)return!1;let d=xa(s.currentLocation.pathname,l)||s.currentLocation.pathname,h=xa(s.nextLocation.pathname,l)||s.nextLocation.pathname;return ur(c.pathname,h)!=null||ur(c.pathname,d)!=null}const G0="modulepreload",P0=function(r){return"/Skunk/"+r},wm={},Ti=function(i,s,l){let c=Promise.resolve();if(s&&s.length>0){let p=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var h=p;document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),m=v?.nonce||v?.getAttribute("nonce");c=p(s.map(g=>{if(g=P0(g),g in wm)return;wm[g]=!0;const b=g.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":G0,b||(S.as="script"),S.crossOrigin="",S.href=g,m&&S.setAttribute("nonce",m),document.head.appendChild(S),b)return new Promise((E,O)=>{S.addEventListener("load",E),S.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${g}`)))})}))}function d(v){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=v,window.dispatchEvent(m),!m.defaultPrevented)throw v}return c.then(v=>{for(const m of v||[])m.status==="rejected"&&d(m.reason);return i().catch(d)})},Sm=["Milano","Roma","Torino","Napoli","Bologna","Firenze","Venezia","Palermo","Genova","Bari"];function jm({value:r,onChange:i,onKeyPress:s}){const[l,c]=w.useState(!1),[d,h]=w.useState(r),v=Sm.filter(x=>x.toLowerCase().includes(d.toLowerCase())),m=x=>{const S=x.target.value;h(S),i(S),c(S.length>0&&v.length>0)},p=x=>{h(x),i(x),c(!1)},g=()=>{c(d.length===0||v.length>0)},b=()=>{setTimeout(()=>c(!1),200)};return u.jsxs("div",{className:"location-select",children:[u.jsx("input",{type:"text",className:"location-input",placeholder:"Città",value:d,onChange:m,onFocus:g,onBlur:b,onKeyPress:s}),l&&u.jsx("div",{className:"location-dropdown",children:v.length>0?v.map(x=>u.jsx("div",{className:"location-option",onClick:()=>p(x),children:x},x)):d.length>0?u.jsx("div",{className:"location-option disabled",children:"Nessuna città trovata"}):Sm.map(x=>u.jsx("div",{className:"location-option",onClick:()=>p(x),children:x},x))})]})}const V0=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>Ti(async()=>{const{default:l}=await Promise.resolve().then(()=>Ci);return{default:l}},[]).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)};class du extends Error{constructor(i,s="FunctionsError",l){super(i),this.name=s,this.context=l}}class Y0 extends du{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class Em extends du{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class Nm extends du{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var Xc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Xc||(Xc={}));var K0=function(r,i,s,l){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):c(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};class Q0{constructor(i,{headers:s={},customFetch:l,region:c=Xc.Any}={}){this.url=i,this.headers=s,this.region=c,this.fetch=V0(l)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,s={}){var l;return K0(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:h}=s;let v={},{region:m}=s;m||(m=this.region);const p=new URL(`${this.url}/${i}`);m&&m!=="any"&&(v["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let g;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",g=h):typeof h=="string"?(v["Content-Type"]="text/plain",g=h):typeof FormData<"u"&&h instanceof FormData?g=h:(v["Content-Type"]="application/json",g=JSON.stringify(h)));const b=yield this.fetch(p.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:g}).catch(O=>{throw new Y0(O)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new Em(b);if(!b.ok)throw new Nm(b);let S=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield b.json():S==="application/octet-stream"?E=yield b.blob():S==="text/event-stream"?E=b:S==="multipart/form-data"?E=yield b.formData():E=yield b.text(),{data:E,error:null,response:b}}catch(c){return{data:null,error:c,response:c instanceof Nm||c instanceof Em?c.context:void 0}}})}}var at={},fi={},hi={},mi={},vi={},pi={},X0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ji=X0();const Z0=ji.fetch,pv=ji.fetch.bind(ji),gv=ji.Headers,I0=ji.Request,J0=ji.Response,Ci=Object.freeze(Object.defineProperty({__proto__:null,Headers:gv,Request:I0,Response:J0,default:pv,fetch:Z0},Symbol.toStringTag,{value:"Module"})),F0=ry(Ci);var nr={},Tm;function yv(){if(Tm)return nr;Tm=1,Object.defineProperty(nr,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return nr.default=r,nr}var Cm;function _v(){if(Cm)return pi;Cm=1;var r=pi&&pi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(pi,"__esModule",{value:!0});const i=r(F0),s=r(yv());class l{constructor(d){var h,v;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(v=d.isMaybeSingle)!==null&&v!==void 0?v:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const v=this.fetch;let m=v(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,b,x,S;let E=null,O=null,T=null,k=p.status,B=p.statusText;if(p.ok){if(this.method!=="HEAD"){const L=await p.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?O=L:O=JSON.parse(L))}const P=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),H=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");P&&H&&H.length>1&&(T=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(E={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,T=null,k=406,B="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const P=await p.text();try{E=JSON.parse(P),Array.isArray(E)&&p.status===404&&(O=[],E=null,k=200,B="OK")}catch{p.status===404&&P===""?(k=204,B="No Content"):E={message:P}}if(E&&this.isMaybeSingle&&(!((S=E?.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,k=200,B="OK"),E&&this.shouldThrowOnError)throw new s.default(E)}return{error:E,data:O,count:T,status:k,statusText:B}});return this.shouldThrowOnError||(m=m.catch(p=>{var g,b,x;return{error:{message:`${(g=p?.name)!==null&&g!==void 0?g:"FetchError"}: ${p?.message}`,details:`${(b=p?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(x=p?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),m.then(d,h)}returns(){return this}overrideTypes(){return this}}return pi.default=l,pi}var Am;function bv(){if(Am)return vi;Am=1;var r=vi&&vi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(vi,"__esModule",{value:!0});const i=r(_v());class s extends i.default{select(c){let d=!1;const h=(c??"*").split("").map(v=>/\s/.test(v)&&!d?"":(v==='"'&&(d=!d),v)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:v,referencedTable:m=v}={}){const p=m?`${m}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const v=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(v,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:v=h}={}){const m=typeof v>"u"?"offset":`${v}.offset`,p=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(m,`${c}`),this.url.searchParams.set(p,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:v=!1,wal:m=!1,format:p="text"}={}){var g;const b=[c?"analyze":null,d?"verbose":null,h?"settings":null,v?"buffers":null,m?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return vi.default=s,vi}var Om;function fu(){if(Om)return mi;Om=1;var r=mi&&mi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(mi,"__esModule",{value:!0});const i=r(bv());class s extends i.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const h=Array.from(new Set(d)).map(v=>typeof v=="string"&&new RegExp("[,()]").test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:h,type:v}={}){let m="";v==="plain"?m="pl":v==="phrase"?m="ph":v==="websearch"&&(m="w");const p=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${m}fts${p}.${d}`),this}match(c){return Object.entries(c).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(c,d,h){return this.url.searchParams.append(c,`not.${d}.${h}`),this}or(c,{foreignTable:d,referencedTable:h=d}={}){const v=h?`${h}.or`:"or";return this.url.searchParams.append(v,`(${c})`),this}filter(c,d,h){return this.url.searchParams.append(c,`${d}.${h}`),this}}return mi.default=s,mi}var Rm;function xv(){if(Rm)return hi;Rm=1;var r=hi&&hi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(hi,"__esModule",{value:!0});const i=r(fu());class s{constructor(c,{headers:d={},schema:h,fetch:v}){this.url=c,this.headers=new Headers(d),this.schema=h,this.fetch=v}select(c,{head:d=!1,count:h}={}){const v=d?"HEAD":"GET";let m=!1;const p=(c??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",p),h&&this.headers.append("Prefer",`count=${h}`),new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:h=!0}={}){var v;const m="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const p=c.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(p.length>0){const g=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new i.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:v,defaultToNull:m=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),v&&this.headers.append("Prefer",`count=${v}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const b=c.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(b.length>0){const x=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(c,{count:d}={}){var h;const v="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var d;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new i.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return hi.default=s,hi}var km;function W0(){if(km)return fi;km=1;var r=fi&&fi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(fi,"__esModule",{value:!0});const i=r(xv()),s=r(fu());class l{constructor(d,{headers:h={},schema:v,fetch:m}={}){this.url=d,this.headers=new Headers(h),this.schemaName=v,this.fetch=m}from(d){const h=new URL(`${this.url}/${d}`);return new i.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:v=!1,get:m=!1,count:p}={}){var g;let b;const x=new URL(`${this.url}/rpc/${d}`);let S;v||m?(b=v?"HEAD":"GET",Object.entries(h).filter(([O,T])=>T!==void 0).map(([O,T])=>[O,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([O,T])=>{x.searchParams.append(O,T)})):(b="POST",S=h);const E=new Headers(this.headers);return p&&E.set("Prefer",`count=${p}`),new s.default({method:b,url:x,headers:E,schema:this.schemaName,body:S,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return fi.default=l,fi}var Mm;function e_(){if(Mm)return at;Mm=1;var r=at&&at.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const i=r(W0());at.PostgrestClient=i.default;const s=r(xv());at.PostgrestQueryBuilder=s.default;const l=r(fu());at.PostgrestFilterBuilder=l.default;const c=r(bv());at.PostgrestTransformBuilder=c.default;const d=r(_v());at.PostgrestBuilder=d.default;const h=r(yv());return at.PostgrestError=h.default,at.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},at}var t_=e_();const a_=ly(t_),{PostgrestClient:n_,PostgrestQueryBuilder:Nx,PostgrestFilterBuilder:Tx,PostgrestTransformBuilder:Cx,PostgrestBuilder:Ax,PostgrestError:Ox}=a_;class i_{static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let s=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(s+=`

Suggested solution: ${i.workaround}`),new Error(s)}static createWebSocket(i,s){const l=this.getWebSocketConstructor();return new l(i,s)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const s_="2.15.1",l_=`realtime-js/${s_}`,r_="1.0.0",Zc=1e4,o_=1e3,c_=100;var ks;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ks||(ks={}));var Ze;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ze||(Ze={}));var Gt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Gt||(Gt={}));var Ic;(function(r){r.websocket="websocket"})(Ic||(Ic={}));var xn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(xn||(xn={}));class u_{constructor(){this.HEADER_LENGTH=1}decode(i,s){return i.constructor===ArrayBuffer?s(this._binaryDecode(i)):s(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const s=new DataView(i),l=new TextDecoder;return this._decodeBroadcast(i,s,l)}_decodeBroadcast(i,s,l){const c=s.getUint8(1),d=s.getUint8(2);let h=this.HEADER_LENGTH+2;const v=l.decode(i.slice(h,h+c));h=h+c;const m=l.decode(i.slice(h,h+d));h=h+d;const p=JSON.parse(l.decode(i.slice(h,i.byteLength)));return{ref:null,topic:v,event:m,payload:p}}}class wv{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Le||(Le={}));const Dm=(r,i,s={})=>{var l;const c=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(i).reduce((d,h)=>(d[h]=d_(h,r,i,c),d),{})},d_=(r,i,s,l)=>{const c=i.find(v=>v.name===r),d=c?.type,h=s[r];return d&&!l.includes(d)?Sv(d,h):Jc(h)},Sv=(r,i)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return v_(i,s)}switch(r){case Le.bool:return f_(i);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return h_(i);case Le.json:case Le.jsonb:return m_(i);case Le.timestamp:return p_(i);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Jc(i);default:return Jc(i)}},Jc=r=>r,f_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},h_=r=>{if(typeof r=="string"){const i=parseFloat(r);if(!Number.isNaN(i))return i}return r},m_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(i){return console.log(`JSON parse error: ${i}`),r}return r},v_=(r,i)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let d;const h=r.slice(1,s);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(v=>Sv(i,v))}return r},p_=r=>typeof r=="string"?r.replace(" ","T"):r,jv=r=>{let i=r;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"};class zc{constructor(i,s,l={},c=Zc){this.channel=i,this.event=s,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var l;return this._hasReceived(i)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(l=>l.status===i).forEach(l=>l.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var Um;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Um||(Um={}));class Ms{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:h,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ms.syncState(this.state,c,d,h),this.pendingDiffs.forEach(m=>{this.state=Ms.syncDiff(this.state,m,d,h)}),this.pendingDiffs=[],v()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ms.syncDiff(this.state,c,d,h),v())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,l,c){const d=this.cloneDeep(i),h=this.transformState(s),v={},m={};return this.map(d,(p,g)=>{h[p]||(m[p]=g)}),this.map(h,(p,g)=>{const b=d[p];if(b){const x=g.map(T=>T.presence_ref),S=b.map(T=>T.presence_ref),E=g.filter(T=>S.indexOf(T.presence_ref)<0),O=b.filter(T=>x.indexOf(T.presence_ref)<0);E.length>0&&(v[p]=E),O.length>0&&(m[p]=O)}else v[p]=g}),this.syncDiff(d,{joins:v,leaves:m},l,c)}static syncDiff(i,s,l,c){const{joins:d,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(v,m)=>{var p;const g=(p=i[v])!==null&&p!==void 0?p:[];if(i[v]=this.cloneDeep(m),g.length>0){const b=i[v].map(S=>S.presence_ref),x=g.filter(S=>b.indexOf(S.presence_ref)<0);i[v].unshift(...x)}l(v,g,m)}),this.map(h,(v,m)=>{let p=i[v];if(!p)return;const g=m.map(b=>b.presence_ref);p=p.filter(b=>g.indexOf(b.presence_ref)<0),i[v]=p,c(v,p,m),p.length===0&&delete i[v]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(l=>s(l,i[l]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,l)=>{const c=i[l];return"metas"in c?s[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[l]=c,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Lm||(Lm={}));var Ds;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ds||(Ds={}));var _a;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(_a||(_a={}));class hu{constructor(i,s={config:{}},l){this.topic=i,this.params=s,this.socket=l,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new zc(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new wv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Ms(this),this.broadcastEndpointURL=jv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(i,s=this.timeout){var l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:d,presence:h,private:v}}=this.params,m=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(x=>x.filter))!==null&&c!==void 0?c:[],p=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0,g={},b={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:m,private:v};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>i?.(_a.CHANNEL_ERROR,x)),this._onClose(()=>i?.(_a.CLOSED)),this.updateJoinPayload(Object.assign({config:b},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){i?.(_a.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(S=E?.length)!==null&&S!==void 0?S:0,T=[];for(let k=0;k<O;k++){const B=E[k],{filter:{event:A,schema:P,table:H,filter:L}}=B,K=x&&x[k];if(K&&K.event===A&&K.schema===P&&K.table===H&&K.filter===L)T.push(Object.assign(Object.assign({},B),{id:K.id}));else{this.unsubscribe(),this.state=Ze.errored,i?.(_a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,i&&i(_a.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ze.errored,i?.(_a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{i?.(_a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,s={}){return await this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,s,l){return this.state===Ze.joined&&i===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(i,s,l)}async send(i,s={}){var l,c;if(!this._canPush()&&i.type==="broadcast"){const{event:d,payload:h}=i,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,v,m;const p=this._push(i.type,i,s.timeout||this.timeout);i.type==="broadcast"&&!(!((m=(v=(h=this.params)===null||h===void 0?void 0:h.config)===null||v===void 0?void 0:v.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Ze.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new zc(this,Gt.leave,{},i),l.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(i,s,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(i,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),h}_push(i,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new zc(this,i,s,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>c_){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(i,s,l){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,l){var c,d;const h=i.toLocaleLowerCase(),{close:v,error:m,leave:p,join:g}=Gt;if(l&&[v,m,p,g].indexOf(h)>=0&&l!==this._joinRef())return;let x=this._onMessage(h,s,l);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var E,O,T;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((T=(O=S.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(S=>S.callback(x,l)):(d=this.bindings[h])===null||d===void 0||d.filter(S=>{var E,O,T,k,B,A;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const P=S.id,H=(E=S.filter)===null||E===void 0?void 0:E.event;return P&&((O=s.ids)===null||O===void 0?void 0:O.includes(P))&&(H==="*"||H?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const P=(B=(k=S?.filter)===null||k===void 0?void 0:k.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return P==="*"||P===((A=s?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:O,table:T,commit_timestamp:k,type:B,errors:A}=E;x=Object.assign(Object.assign({},{schema:O,table:T,commit_timestamp:k,eventType:B,new:{},old:{},errors:A}),this._getPayloadRecords(E))}S.callback(x,l)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,l){const c=i.toLocaleLowerCase(),d={type:c,filter:s,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(i,s){const l=i.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&hu.isEqual(c.filter,s))})),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const l in i)if(i[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Gt.close,{},i)}_onError(i){this._on(Gt.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=Dm(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=Dm(i.columns,i.old_record)),s}}const zm=()=>{},ir={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},g_=[1e3,2e3,5e3,1e4],y_=1e4,__=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b_{constructor(i,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zc,this.transport=null,this.heartbeatIntervalMs=ir.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zm,this.ref=0,this.reconnectTimer=null,this.logger=zm,this.conn=null,this.sendBuffer=[],this.serializer=new u_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>Ti(async()=>{const{default:v}=await Promise.resolve().then(()=>Ci);return{default:v}},void 0).then(({default:v})=>v(...h)).catch(v=>{throw new Error(`Failed to load @supabase/node-fetch: ${v.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${i}/${Ic.websocket}`,this.httpEndpoint=jv(i),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i_.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const s=i.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:r_}))}disconnect(i,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},i?this.conn.close(i,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const s=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const i=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,s,l){this.logger(i,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ks.connecting:return xn.Connecting;case ks.open:return xn.Open;case ks.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,s={config:{}}){const l=`realtime:${i}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new hu(`realtime:${i}`,s,this);return this.channels.push(d),d}}push(i){const{topic:s,event:l,payload:c,ref:d}=i,h=()=>{this.encode(i,v=>{var m;(m=this.conn)===null||m===void 0||m.send(v)})};this.log("push",`${s} ${l} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var i;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(o_,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ir.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(l=>l.topic===i&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:d,ref:h}=s,v=h?`(${h})`:"",m=d.status||"";this.log("receive",`${m} ${l} ${c} ${v}`.trim(),d),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(c,d,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(i){var s;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){var s;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger(Gt.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const l=i.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${i}${l}${c}`}_workerObjectUrl(i){let s;if(i)s=i;else{const l=new Blob([__],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(i,s=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(i=null){let s;i?s=i:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const c={access_token:s,version:l_};s&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Gt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${i}`,s)})}_triggerStateCallbacks(i,s){try{this.stateChangeCallbacks[i].forEach(l=>{try{l(s)}catch(c){this.log("error",`error in ${i} callback`,c)}})}catch(l){this.log("error",`error triggering ${i} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new wv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ir.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var s,l,c,d,h,v,m,p;if(this.transport=(s=i?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=i?.timeout)!==null&&l!==void 0?l:Zc,this.heartbeatIntervalMs=(c=i?.heartbeatIntervalMs)!==null&&c!==void 0?c:ir.HEARTBEAT_INTERVAL,this.worker=(d=i?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=i?.accessToken)!==null&&h!==void 0?h:null,i?.params&&(this.params=i.params),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=i?.reconnectAfterMs)!==null&&v!==void 0?v:(g=>g_[g-1]||y_),this.encode=(m=i?.encode)!==null&&m!==void 0?m:((g,b)=>b(JSON.stringify(g))),this.decode=(p=i?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i?.workerUrl}}}class mu extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function Ie(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class x_ extends mu{constructor(i,s,l){super(i),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fc extends mu{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}}var w_=function(r,i,s,l){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):c(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};const Ev=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>Ti(async()=>{const{default:l}=await Promise.resolve().then(()=>Ci);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},S_=()=>w_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ti(()=>Promise.resolve().then(()=>Ci),void 0)).Response:Response}),Wc=r=>{if(Array.isArray(r))return r.map(s=>Wc(s));if(typeof r=="function"||r!==Object(r))return r;const i={};return Object.entries(r).forEach(([s,l])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));i[c]=Wc(l)}),i},j_=r=>{if(typeof r!="object"||r===null)return!1;const i=Object.getPrototypeOf(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Sn=function(r,i,s,l){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):c(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};const Bc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),E_=(r,i,s)=>Sn(void 0,void 0,void 0,function*(){const l=yield S_();r instanceof l&&!s?.noResolveJson?r.json().then(c=>{const d=r.status||500,h=c?.statusCode||d+"";i(new x_(Bc(c),d,h))}).catch(c=>{i(new Fc(Bc(c),c))}):i(new Fc(Bc(r),r))}),N_=(r,i,s,l)=>{const c={method:r,headers:i?.headers||{}};return r==="GET"||!l?c:(j_(l)?(c.headers=Object.assign({"Content-Type":"application/json"},i?.headers),c.body=JSON.stringify(l)):c.body=l,i?.duplex&&(c.duplex=i.duplex),Object.assign(Object.assign({},c),s))};function Hs(r,i,s,l,c,d){return Sn(this,void 0,void 0,function*(){return new Promise((h,v)=>{r(s,N_(i,l,c,d)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>E_(m,v,l))})})}function dr(r,i,s,l){return Sn(this,void 0,void 0,function*(){return Hs(r,"GET",i,s,l)})}function Jt(r,i,s,l,c){return Sn(this,void 0,void 0,function*(){return Hs(r,"POST",i,l,c,s)})}function eu(r,i,s,l,c){return Sn(this,void 0,void 0,function*(){return Hs(r,"PUT",i,l,c,s)})}function T_(r,i,s,l){return Sn(this,void 0,void 0,function*(){return Hs(r,"HEAD",i,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function Nv(r,i,s,l,c){return Sn(this,void 0,void 0,function*(){return Hs(r,"DELETE",i,l,c,s)})}var dt=function(r,i,s,l){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):c(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};const C_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class A_{constructor(i,s={},l,c){this.url=i,this.headers=s,this.bucketId=l,this.fetch=Ev(c)}uploadOrUpdate(i,s,l,c){return dt(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Bm),c);let v=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),m&&d.append("metadata",this.encodeMetadata(m)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.append("cacheControl",h.cacheControl),m&&d.append("metadata",this.encodeMetadata(m))):(d=l,v["cache-control"]=`max-age=${h.cacheControl}`,v["content-type"]=h.contentType,m&&(v["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),c?.headers&&(v=Object.assign(Object.assign({},v),c.headers));const p=this._removeEmptyFolders(s),g=this._getFinalPath(p),b=yield(i=="PUT"?eu:Jt)(this.fetch,`${this.url}/object/${g}`,d,Object.assign({headers:v},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(Ie(d))return{data:null,error:d};throw d}})}upload(i,s,l){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,s,l)})}uploadToSignedUrl(i,s,l,c){return dt(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(i),h=this._getFinalPath(d),v=new URL(this.url+`/object/upload/sign/${h}`);v.searchParams.set("token",s);try{let m;const p=Object.assign({upsert:Bm.upsert},c),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",p.cacheControl)):(m=l,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const b=yield eu(this.fetch,v.toString(),m,{headers:g});return{data:{path:d,fullPath:b.Key},error:null}}catch(m){if(Ie(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(i,s){return dt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(i);const c=Object.assign({},this.headers);s?.upsert&&(c["x-upsert"]="true");const d=yield Jt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(this.url+d.url),v=h.searchParams.get("token");if(!v)throw new mu("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:v},error:null}}catch(l){if(Ie(l))return{data:null,error:l};throw l}})}update(i,s,l){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,s,l)})}move(i,s,l){return dt(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(Ie(c))return{data:null,error:c};throw c}})}copy(i,s,l){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(Ie(c))return{data:null,error:c};throw c}})}createSignedUrl(i,s,l){return dt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(i),d=yield Jt(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(Ie(c))return{data:null,error:c};throw c}})}createSignedUrls(i,s,l){return dt(this,void 0,void 0,function*(){try{const c=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:i},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(Ie(c))return{data:null,error:c};throw c}})}download(i,s){return dt(this,void 0,void 0,function*(){const c=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),h=d?`?${d}`:"";try{const v=this._getFinalPath(i);return{data:yield(yield dr(this.fetch,`${this.url}/${c}/${v}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(v){if(Ie(v))return{data:null,error:v};throw v}})}info(i){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{const l=yield dr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Wc(l),error:null}}catch(l){if(Ie(l))return{data:null,error:l};throw l}})}exists(i){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{return yield T_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(Ie(l)&&l instanceof Fc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(i,s){const l=this._getFinalPath(i),c=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&c.push(d);const v=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&c.push(m);let p=c.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${v}/public/${l}${p}`)}}}remove(i){return dt(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}list(i,s,l){return dt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},C_),s),{prefix:i||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(Ie(c))return{data:null,error:c};throw c}})}listV2(i,s){return dt(this,void 0,void 0,function*(){try{const l=Object.assign({},i);return{data:yield Jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(Ie(l))return{data:null,error:l};throw l}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}}const O_="2.11.0",R_={"X-Client-Info":`storage-js/${O_}`};var gi=function(r,i,s,l){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):c(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};class k_{constructor(i,s={},l,c){const d=new URL(i);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},R_),s),this.fetch=Ev(l)}listBuckets(){return gi(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}getBucket(i){return gi(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}createBucket(i,s={public:!1}){return gi(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Ie(l))return{data:null,error:l};throw l}})}updateBucket(i,s){return gi(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Ie(l))return{data:null,error:l};throw l}})}emptyBucket(i){return gi(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}deleteBucket(i){return gi(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}}class M_ extends k_{constructor(i,s={},l,c){super(i,s,l,c)}from(i){return new A_(this.url,this.headers,i,this.fetch)}}const D_="2.56.0";let Rs="";typeof Deno<"u"?Rs="deno":typeof document<"u"?Rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rs="react-native":Rs="node";const U_={"X-Client-Info":`supabase-js-${Rs}/${D_}`},L_={headers:U_},z_={schema:"public"},B_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q_={};var H_=function(r,i,s,l){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):c(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};const $_=r=>{let i;return r?i=r:typeof fetch>"u"?i=pv:i=fetch,(...s)=>i(...s)},G_=()=>typeof Headers>"u"?gv:Headers,P_=(r,i,s)=>{const l=$_(s),c=G_();return(d,h)=>H_(void 0,void 0,void 0,function*(){var v;const m=(v=yield i())!==null&&v!==void 0?v:r;let p=new c(h?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(d,Object.assign(Object.assign({},h),{headers:p}))})};var V_=function(r,i,s,l){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):c(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};function Y_(r){return r.endsWith("/")?r:r+"/"}function K_(r,i){var s,l;const{db:c,auth:d,realtime:h,global:v}=r,{db:m,auth:p,realtime:g,global:b}=i,x={db:Object.assign(Object.assign({},m),c),auth:Object.assign(Object.assign({},p),d),realtime:Object.assign(Object.assign({},g),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),v),{headers:Object.assign(Object.assign({},(s=b?.headers)!==null&&s!==void 0?s:{}),(l=v?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>V_(this,void 0,void 0,function*(){return""})};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}const Tv="2.71.1",wi=30*1e3,tu=3,qc=tu*wi,Q_="http://localhost:9999",X_="supabase.auth.token",Z_={"X-Client-Info":`gotrue-js/${Tv}`},au="X-Supabase-Api-Version",Cv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},I_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J_=600*1e3;class vu extends Error{constructor(i,s,l){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function he(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class F_ extends vu{constructor(i,s,l){super(i,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function W_(r){return he(r)&&r.name==="AuthApiError"}class Av extends vu{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class Fa extends vu{constructor(i,s,l,c){super(i,l,c),this.name=s,this.status=l}}class Ia extends Fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eb(r){return he(r)&&r.name==="AuthSessionMissingError"}class sr extends Fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends Fa{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class rr extends Fa{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tb(r){return he(r)&&r.name==="AuthImplicitGrantRedirectError"}class qm extends Fa{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nu extends Fa{constructor(i,s){super(i,"AuthRetryableFetchError",s,void 0)}}function Hc(r){return he(r)&&r.name==="AuthRetryableFetchError"}class Hm extends Fa{constructor(i,s,l){super(i,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class iu extends Fa{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$m=` 	
\r=`.split(""),ab=(()=>{const r=new Array(128);for(let i=0;i<r.length;i+=1)r[i]=-1;for(let i=0;i<$m.length;i+=1)r[$m[i].charCodeAt(0)]=-2;for(let i=0;i<fr.length;i+=1)r[fr[i].charCodeAt(0)]=i;return r})();function Gm(r,i,s){if(r!==null)for(i.queue=i.queue<<8|r,i.queuedBits+=8;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(fr[l]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(fr[l]),i.queuedBits-=6}}function Ov(r,i,s){const l=ab[r];if(l>-1)for(i.queue=i.queue<<6|l,i.queuedBits+=6;i.queuedBits>=8;)s(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Pm(r){const i=[],s=h=>{i.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{sb(h,l,s)};for(let h=0;h<r.length;h+=1)Ov(r.charCodeAt(h),c,d);return i.join("")}function nb(r,i){if(r<=127){i(r);return}else if(r<=2047){i(192|r>>6),i(128|r&63);return}else if(r<=65535){i(224|r>>12),i(128|r>>6&63),i(128|r&63);return}else if(r<=1114111){i(240|r>>18),i(128|r>>12&63),i(128|r>>6&63),i(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function ib(r,i){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}nb(l,i)}}function sb(r,i,s){if(i.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){i.utf8seq=l;break}if(i.utf8seq===2)i.codepoint=r&31;else if(i.utf8seq===3)i.codepoint=r&15;else if(i.utf8seq===4)i.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|r&63,i.utf8seq-=1,i.utf8seq===0&&s(i.codepoint)}}function lb(r){const i=[],s={queue:0,queuedBits:0},l=c=>{i.push(c)};for(let c=0;c<r.length;c+=1)Ov(r.charCodeAt(c),s,l);return new Uint8Array(i)}function rb(r){const i=[];return ib(r,s=>i.push(s)),new Uint8Array(i)}function ob(r){const i=[],s={queue:0,queuedBits:0},l=c=>{i.push(c)};return r.forEach(c=>Gm(c,s,l)),Gm(null,s,l),i.join("")}function cb(r){return Math.round(Date.now()/1e3)+r}function ub(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const i=Math.random()*16|0;return(r=="x"?i:i&3|8).toString(16)})}const $t=()=>typeof window<"u"&&typeof document<"u",yn={tested:!1,writable:!1},Rv=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yn.tested)return yn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),yn.tested=!0,yn.writable=!0}catch{yn.tested=!0,yn.writable=!1}return yn.writable};function db(r){const i={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{i[d]=c})}catch{}return s.searchParams.forEach((l,c)=>{i[c]=l}),i}const kv=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>Ti(async()=>{const{default:l}=await Promise.resolve().then(()=>Ci);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},fb=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Si=async(r,i,s)=>{await r.setItem(i,JSON.stringify(s))},_n=async(r,i)=>{const s=await r.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Za=async(r,i)=>{await r.removeItem(i)};class vr{constructor(){this.promise=new vr.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}vr.promiseConstructor=Promise;function $c(r){const i=r.split(".");if(i.length!==3)throw new iu("Invalid JWT structure");for(let l=0;l<i.length;l++)if(!I_.test(i[l]))throw new iu("JWT not in base64url format");return{header:JSON.parse(Pm(i[0])),payload:JSON.parse(Pm(i[1])),signature:lb(i[2]),raw:{header:i[0],payload:i[1]}}}async function hb(r){return await new Promise(i=>{setTimeout(()=>i(null),r)})}function mb(r,i){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await r(d);if(!i(d,null,h)){l(h);return}}catch(h){if(!i(d,h)){c(h);return}}})()})}function vb(r){return("0"+r.toString(16)).substr(-2)}function pb(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(i),Array.from(i,vb).join("")}async function gb(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function yb(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await gb(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yi(r,i,s=!1){const l=pb();let c=l;s&&(c+="/PASSWORD_RECOVERY"),await Si(r,`${i}-code-verifier`,c);const d=await yb(l);return[d,l===d?"plain":"s256"]}const _b=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bb(r){const i=r.headers.get(au);if(!i||!i.match(_b))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function xb(r){if(!r)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(r<=i)throw new Error("JWT has expired")}function wb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _i(r){if(!Sb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gc(){const r={};return new Proxy(r,{get:(i,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vm(r){return JSON.parse(JSON.stringify(r))}var jb=function(r,i){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)i.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(s[l[c]]=r[l[c]]);return s};const bn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Eb=[502,503,504];async function Ym(r){var i;if(!fb(r))throw new nu(bn(r),0);if(Eb.includes(r.status))throw new nu(bn(r),r.status);let s;try{s=await r.json()}catch(d){throw new Av(bn(d),d)}let l;const c=bb(r);if(c&&c.getTime()>=Cv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Hm(bn(s),r.status,((i=s.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(l==="session_not_found")throw new Ia}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Hm(bn(s),r.status,s.weak_password.reasons);throw new F_(bn(s),r.status||500,l)}const Nb=(r,i,s,l)=>{const c={method:r,headers:i?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),s))};async function be(r,i,s,l){var c;const d=Object.assign({},l?.headers);d[au]||(d[au]=Cv["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const h=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const v=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Tb(r,i,s+v,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function Tb(r,i,s,l,c,d){const h=Nb(i,l,c,d);let v;try{v=await r(s,Object.assign({},h))}catch(m){throw console.error(m),new nu(bn(m),0)}if(v.ok||await Ym(v),l?.noResolveJson)return v;try{return await v.json()}catch(m){await Ym(m)}}function ya(r){var i;let s=null;Rb(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=cb(r.expires_in)));const l=(i=r.user)!==null&&i!==void 0?i:r;return{data:{session:s,user:l},error:null}}function Km(r){const i=ya(r);return!i.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(i.data.weak_password=r.weak_password),i}function Ja(r){var i;return{data:{user:(i=r.user)!==null&&i!==void 0?i:r},error:null}}function Cb(r){return{data:r,error:null}}function Ab(r){const{action_link:i,email_otp:s,hashed_token:l,redirect_to:c,verification_type:d}=r,h=jb(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:i,email_otp:s,hashed_token:l,redirect_to:c,verification_type:d},m=Object.assign({},h);return{data:{properties:v,user:m},error:null}}function Ob(r){return r}function Rb(r){return r.access_token&&r.refresh_token&&r.expires_in}const Pc=["global","local","others"];var kb=function(r,i){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)i.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(s[l[c]]=r[l[c]]);return s};class Mb{constructor({url:i="",headers:s={},fetch:l}){this.url=i,this.headers=s,this.fetch=kv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,s=Pc[0]){if(Pc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pc.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}async inviteUserByEmail(i,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ja})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async generateLink(i){try{const{options:s}=i,l=kb(i,["options"]),c=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ab,redirectTo:s?.redirectTo})}catch(s){if(he(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(i){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Ja})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async listUsers(i){var s,l,c,d,h,v,m;try{const p={nextPage:null,lastPage:0,total:0},g=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=i?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=i?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Ob});if(g.error)throw g.error;const b=await g.json(),x=(h=g.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(m=(v=g.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(E=>{const O=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);p[`${T}Page`]=O}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(he(p))return{data:{users:[]},error:p};throw p}}async getUserById(i){_i(i);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Ja})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async updateUserById(i,s){_i(i);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:Ja})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async deleteUser(i,s=!1){_i(i);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ja})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async _listFactors(i){_i(i.userId);try{const{data:s,error:l}=await be(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:l}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteFactor(i){_i(i.userId),_i(i.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}}function Qm(r={}){return{getItem:i=>r[i]||null,setItem:(i,s)=>{r[i]=s},removeItem:i=>{delete r[i]}}}function Db(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bi={debug:!!(globalThis&&Rv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mv extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class Ub extends Mv{}async function Lb(r,i,s){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,i);const l=new globalThis.AbortController;return i>0&&setTimeout(()=>{l.abort(),bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await s()}finally{bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(i===0)throw bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ub(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(bi.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Db();const zb={url:Q_,storageKey:X_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xm(r,i,s){return await s()}const xi={};class Ls{constructor(i){var s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ls.nextInstanceID,Ls.nextInstanceID+=1,this.instanceID>0&&$t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},zb),i);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Mb({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=kv(c.fetch),this.lock=c.lock||Xm,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:$t()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Lb:this.lock=Xm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Rv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qm(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Qm(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var i,s;return(s=(i=xi[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(i){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,s;return(s=(i=xi[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{cachedAt:i})}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tv}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const s=db(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),$t()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),tb(d)){const m=(i=d.details)===null||i===void 0?void 0:i.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:v}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",v),await this._saveSession(h),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return he(s)?{error:s}:{error:new Av("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var s,l,c;try{const d=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=i?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=i?.options)===null||c===void 0?void 0:c.captchaToken}},xform:ya}),{data:h,error:v}=d;if(v||!h)return{data:{user:null,session:null},error:v};const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(d){if(he(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(i){var s,l,c;try{let d;if("email"in i){const{email:g,password:b,options:x}=i;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await yi(this.storage,this.storageKey)),d=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:b,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:S,code_challenge_method:E},xform:ya})}else if("phone"in i){const{phone:g,password:b,options:x}=i;d=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(c=x?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:ya})}else throw new lr("You must provide either an email or phone number and a password");const{data:h,error:v}=d;if(v||!h)return{data:{user:null,session:null},error:v};const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(d){if(he(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(i){try{let s;if("email"in i){const{email:d,password:h,options:v}=i;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Km})}else if("phone"in i){const{phone:d,password:h,options:v}=i;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Km})}else throw new lr("You must provide either an email or phone number and a password");const{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(i){var s,l,c,d;return await this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=i.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=i.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=i.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:s}=i;if(s==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(i){var s,l,c,d,h,v,m,p,g,b,x,S;let E,O;if("message"in i)E=i.message,O=i.signature;else{const{chain:T,wallet:k,statement:B,options:A}=i;let P;if($t())if(typeof k=="object")P=k;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))P=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=k}const H=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in P&&P.signIn){const L=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),B?{statement:B}:null));let K;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")K=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)K=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)E=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),O=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${H.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(c=(l=A?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=A?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((v=A?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((b=(g=A?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...A.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const L=await P.signMessage(new TextEncoder().encode(E),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=L}}try{const{data:T,error:k}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:ob(O)},!((x=i.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=i.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ya});if(k)throw k;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new sr}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:k})}catch(T){if(he(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(i){const s=await _n(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(s??"").split("/");try{const{data:d,error:h}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:l},xform:ya});if(await Za(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new sr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(he(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(i){try{const{options:s,provider:l,token:c,access_token:d,nonce:h}=i,v=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ya}),{data:m,error:p}=v;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new sr}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(i){var s,l,c,d,h;try{if("email"in i){const{email:v,options:m}=i;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await yi(this.storage,this.storageKey));const{error:b}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in i){const{phone:v,options:m}=i,{data:p,error:g}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(c=m?.data)!==null&&c!==void 0?c:{},create_user:(d=m?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new lr("You must provide either an email or phone number.")}catch(v){if(he(v))return{data:{user:null,session:null},error:v};throw v}}async verifyOtp(i){var s,l;try{let c,d;"options"in i&&(c=(s=i.options)===null||s===void 0?void 0:s.redirectTo,d=(l=i.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:v}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:ya});if(v)throw v;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,p=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(i){var s,l,c;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await yi(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(l=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=i?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:Cb})}catch(d){if(he(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;if(l)throw l;if(!s)throw new Ia;const{error:c}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:c}})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const s=`${this.url}/resend`;if("email"in i){const{email:l,type:c,options:d}=i,{error:h}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in i){const{phone:l,type:c,options:d}=i,{data:h,error:v}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:v}}throw new lr("You must provide either an email or phone number and a type")}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(i,s){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await i(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const s=await _n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?i=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const l=i.expires_at?i.expires_at*1e3-Date.now()<qc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",i.expires_at),!l){if(this.userStorage){const h=await _n(this.userStorage,this.storageKey+"-user");h?.user?i.user=h.user:i.user=Gc()}if(this.storage.isServer&&i.user){let h=this.suppressGetSessionWarning;i=new Proxy(i,{get:(m,p,g)=>(!h&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,g))})}return{data:{session:i},error:null}}const{session:c,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Ja}):await this._useSession(async s=>{var l,c,d;const{data:h,error:v}=s;if(v)throw v;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ia}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Ja})})}catch(s){if(he(s))return eb(s)&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(i,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,s))}async _updateUser(i,s={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new Ia;const h=c.session;let v=null,m=null;this.flowType==="pkce"&&i.email!=null&&([v,m]=await yi(this.storage,this.storageKey));const{data:p,error:g}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:v,code_challenge_method:m}),jwt:h.access_token,xform:Ja});if(g)throw g;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Ia;const s=Date.now()/1e3;let l=s,c=!0,d=null;const{payload:h}=$c(i.access_token);if(h.exp&&(l=h.exp,c=l<=s),c){const{session:v,error:m}=await this._callRefreshToken(i.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!v)return{data:{user:null,session:null},error:null};d=v}else{const{data:v,error:m}=await this._getUser(i.access_token);if(m)throw m;d={access_token:i.access_token,refresh_token:i.refresh_token,user:v.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(he(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async s=>{var l;if(!i){const{data:h,error:v}=s;if(v)throw v;i=(l=h.session)!==null&&l!==void 0?l:void 0}if(!i?.refresh_token)throw new Ia;const{session:c,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(i,s){try{if(!$t())throw new rr("No browser detected.");if(i.error||i.error_description||i.error_code)throw new rr(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new qm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new qm("No code detected.");const{data:B,error:A}=await this._exchangeCodeForSession(i.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:v,expires_at:m,token_type:p}=i;if(!d||!v||!h||!p)throw new rr("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(v);let x=g+b;m&&(x=parseInt(m));const S=x-g;S*1e3<=wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const E=x-b;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,g);const{data:O,error:T}=await this._getUser(d);if(T)throw T;const k={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:b,expires_at:x,refresh_token:h,token_type:p,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:i.type},error:null}}catch(l){if(he(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const s=await _n(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&s)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:c,error:d}=s;if(d)return{error:d};const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:v}=await this.admin.signOut(h,i);if(v&&!(W_(v)&&(v.status===404||v.status===401||v.status===403)))return{error:v}}return i!=="others"&&(await this._removeSession(),await Za(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const s=ub(),l={id:s,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(i){return await this._useSession(async s=>{var l,c;try{const{data:{session:d},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(i))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",i,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(i))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",d),console.error(d)}})}async resetPasswordForEmail(i,s={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await yi(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(he(d))return{data:null,error:d};throw d}}async getUserIdentities(){var i;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(i=s.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async linkIdentity(i){var s;try{const{data:l,error:c}=await this._useSession(async d=>{var h,v,m,p,g;const{data:b,error:x}=d;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(h=i.options)===null||h===void 0?void 0:h.redirectTo,scopes:(v=i.options)===null||v===void 0?void 0:v.scopes,queryParams:(m=i.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(c)throw c;return $t()&&!(!((s=i.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:i.provider,url:l?.url},error:null}}catch(l){if(he(l))return{data:{provider:i.provider,url:null},error:l};throw l}}async unlinkIdentity(i){try{return await this._useSession(async s=>{var l,c;const{data:d,error:h}=s;if(h)throw h;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _refreshAccessToken(i){const s=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await mb(async c=>(c>0&&await hb(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:ya})),(c,d)=>{const h=200*Math.pow(2,c);return d&&Hc(d)&&Date.now()+h-l<wi})}catch(l){if(this._debug(s,"error",l),he(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",s,"url",l),$t()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:i,url:l},error:null}}async _recoverAndRefresh(){var i,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await _n(this.storage,this.storageKey);if(c&&this.userStorage){let h=await _n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Si(this.userStorage,this.storageKey+"-user",h)),c.user=(i=h?.user)!==null&&i!==void 0?i:Gc()}else if(c&&!c.user&&!c.user){const h=await _n(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await Za(this.storage,this.storageKey+"-user"),await Si(this.storage,this.storageKey,c)):c.user=Gc()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<qc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${qc}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Hc(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:v}=await this._getUser(c.access_token);!v&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(i){var s,l;if(!i)throw new Ia;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new vr;const{data:d,error:h}=await this._refreshAccessToken(i);if(h)throw h;if(!d.session)throw new Ia;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const v={session:d.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(d){if(this._debug(c,"error",d),he(d)){const h={session:null,error:d};return Hc(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(i,s,l=!0){const c=`#_notifyAllSubscribers(${i})`;this._debug(c,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:i,session:s});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(i,s)}catch(m){d.push(m)}});if(await Promise.all(h),d.length>0){for(let v=0;v<d.length;v+=1)console.error(d[v]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const s=Object.assign({},i),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Si(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=Vm(c);await Si(this.storage,this.storageKey,d)}else{const c=Vm(s);await Si(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Za(this.storage,this.storageKey),await Za(this.storage,this.storageKey+"-code-verifier"),await Za(this.storage,this.storageKey+"-user"),this.userStorage&&await Za(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&$t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),wi);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-i)/wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${wi}ms, refresh threshold is ${tu} ticks`),c<=tu&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof Mv)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const s=`#_onVisibilityChanged(${i})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,s,l){const c=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,h]=await yi(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(v.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${i}?${c.join("&")}`}async _unenroll(i){try{return await this._useSession(async s=>{var l;const{data:c,error:d}=s;return d?{data:null,error:d}:await be(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _enroll(i){try{return await this._useSession(async s=>{var l,c;const{data:d,error:h}=s;if(h)return{data:null,error:h};const v=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:m,error:p}=await be(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(i.factorType==="totp"&&(!((c=m?.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:d}=s;if(d)return{data:null,error:d};const{data:h,error:v}=await be(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:v})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:d}=s;return d?{data:null,error:d}:await be(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(i){const{data:s,error:l}=await this._challenge({factorId:i.factorId});return l?{data:null,error:l}:await this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})}async _listFactors(){const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=i?.factors||[],c=l.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=l.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:l,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var s,l;const{data:{session:c},error:d}=i;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=$c(c.access_token);let v=null;h.aal&&(v=h.aal);let m=v;((l=(s=c.user.factors)===null||s===void 0?void 0:s.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(m="aal2");const g=h.amr||[];return{data:{currentLevel:v,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(i,s={keys:[]}){let l=s.keys.find(v=>v.kid===i);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(v=>v.kid===i),l&&this.jwks_cached_at+J_>c)return l;const{data:d,error:h}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(v=>v.kid===i),!l)?null:l}async getClaims(i,s={}){try{let l=i;if(!l){const{data:S,error:E}=await this.getSession();if(E||!S.session)return{data:null,error:E};l=S.session.access_token}const{header:c,payload:d,signature:h,raw:{header:v,payload:m}}=$c(l);s?.allowExpired||xb(d.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:d,header:c,signature:h},error:null}}const g=wb(c.alg),b=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,h,rb(`${v}.${m}`)))throw new iu("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}}Ls.nextInstanceID=0;const Bb=Ls;class qb extends Bb{constructor(i){super(i)}}var Hb=function(r,i,s,l){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function v(g){try{p(l.next(g))}catch(b){h(b)}}function m(g){try{p(l.throw(g))}catch(b){h(b)}}function p(g){g.done?d(g.value):c(g.value).then(v,m)}p((l=l.apply(r,i||[])).next())})};class $b{constructor(i,s,l){var c,d,h;if(this.supabaseUrl=i,this.supabaseKey=s,!i)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const v=Y_(i),m=new URL(v);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:z_,realtime:q_,auth:Object.assign(Object.assign({},B_),{storageKey:p}),global:L_},b=K_(l??{},g);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(x,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=P_(s,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new n_(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new M_(this.storageUrl.href,this.headers,this.fetch,l?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Q0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,s={},l={}){return this.rest.rpc(i,s,l)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,s;return Hb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:c,storageKey:d,flowType:h,lock:v,debug:m},p,g){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qb({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),p),storageKey:d,autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:c,flowType:h,lock:v,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new b_(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(i,s,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:i==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gb=(r,i,s)=>new $b(r,i,s);function Pb(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const i=r.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}Pb()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vb="https://shzouqqrxebzrqtkynqg.supabase.co",Yb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoem91cXFyeGVienJxdGt5bnFnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5NDc3MjksImV4cCI6MjA3MTUyMzcyOX0.vWu0hP3sQqVQCXwG1SsGadCnzCVy3DCgdgbemxFogWQ",de=Gb(Vb,Yb),Dv=w.createContext(void 0);function Kb({children:r}){const[i,s]=w.useState(null),[l,c]=w.useState(null),[d,h]=w.useState(!0),v=async E=>{try{const{data:O}=await de.from("profiles").select("*").eq("user_id",E).maybeSingle();return O}catch{return console.error("Error fetching profile"),null}};w.useEffect(()=>{let E=!0;const O=async k=>{if(E){if(s(k?.user??null),k?.user)try{const B=await v(k.user.id);E&&c(B)}catch{console.error("Error fetching user profile"),E&&c(null)}else c(null);E&&h(!1)}};de.auth.getSession().then(({data:{session:k}})=>{O(k)});const{data:{subscription:T}}=de.auth.onAuthStateChange((k,B)=>{O(B)});return()=>{E=!1,T.unsubscribe()}},[]);const S={user:i,profile:l,loading:d,signUp:async(E,O)=>{const{error:T}=await de.auth.signUp({email:E,password:O});return{error:T}},signIn:async(E,O)=>{try{const{error:T}=await de.auth.signInWithPassword({email:E,password:O});return{error:T}}catch(T){return console.error("Network error during sign in:",T),{error:null}}},signInWithGoogle:async()=>{const{error:E}=await de.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return{error:E}},signOut:async()=>{await de.auth.signOut(),localStorage.removeItem("supabase.auth.token")},refreshProfile:async()=>{if(i?.id)try{const E=await v(i.id);c(E)}catch{console.error("Error refreshing user profile")}}};return u.jsx(Dv.Provider,{value:S,children:r})}function Je(){const r=w.useContext(Dv);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function Qb(r){const i=[];return r.length<8&&i.push("La password deve contenere almeno 8 caratteri"),/[A-Z]/.test(r)||i.push("La password deve contenere almeno una lettera maiuscola"),/[a-z]/.test(r)||i.push("La password deve contenere almeno una lettera minuscola"),/\d/.test(r)||i.push("La password deve contenere almeno un numero"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(r)||i.push("La password deve contenere almeno un carattere speciale"),{isValid:i.length===0,errors:i}}function Xb(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function Uv({isOpen:r,onClose:i}){const{signIn:s,signUp:l,signInWithGoogle:c,loading:d}=Je(),[h,v]=w.useState("login"),[m,p]=w.useState({email:"",password:"",confirmPassword:"",fullName:""}),[g,b]=w.useState({}),[x,S]=w.useState(!1),[E,O]=w.useState("");w.useEffect(()=>{r||(p({email:"",password:"",confirmPassword:"",fullName:""}),b({}),O(""),v("login"))},[r]),w.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),w.useEffect(()=>{const H=L=>{L.key==="Escape"&&i()};return r&&(document.addEventListener("keydown",H),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",H),document.body.style.overflow="unset"}},[r,i]);const T=()=>{const H={};if(m.email?Xb(m.email)||(H.email="Email non valida"):H.email="Email richiesta",!m.password)H.password=["Password richiesta"];else if(h==="register"){const L=Qb(m.password);L.isValid||(H.password=L.errors)}return h==="register"&&(m.fullName.trim()||(H.fullName="Nome completo richiesto"),m.confirmPassword?m.password!==m.confirmPassword&&(H.confirmPassword="Le password non coincidono"):H.confirmPassword="Conferma password richiesta"),b(H),Object.keys(H).length===0},k=async H=>{if(H.preventDefault(),!(!T()||x)){S(!0),b({}),O("");try{if(h==="login"){const{error:L}=await s(m.email,m.password);L?L.message.includes("Invalid login credentials")?b({general:"Email o password non corretti"}):b({general:"Errore durante il login. Riprova."}):i()}else{const{error:L}=await l(m.email,m.password);L?L.message.includes("User already registered")?b({email:"Questo indirizzo email è già registrato"}):L.message.includes("Password should be at least 6 characters")?b({password:["La password deve essere di almeno 6 caratteri"]}):b({general:"Errore durante la registrazione. Riprova."}):(O("Account creato con successo! Controlla la tua email per confermare l'account."),p({email:"",password:"",confirmPassword:"",fullName:""}),setTimeout(()=>{v("login"),O("")},3e3))}}catch{b({general:"Errore imprevisto. Riprova."})}finally{S(!1)}}},B=async()=>{S(!0),b({});try{const{error:H}=await c();H?b({general:"Errore durante l'accesso con Google. Riprova."}):i()}catch{b({general:"Errore imprevisto. Riprova."})}finally{S(!1)}},A=(H,L)=>{p(K=>({...K,[H]:L})),g[H]&&b(K=>{const re={...K};return delete re[H],re})},P=H=>{H.target===H.currentTarget&&i()};return r?u.jsx("div",{className:"auth-overlay",onClick:P,children:u.jsxs("div",{className:"auth-modal",children:[u.jsx("div",{className:"auth-header-sticky",children:u.jsx("button",{className:"auth-close-btn",onClick:i,children:"×"})}),u.jsxs("div",{className:"auth-modal-header",children:[u.jsxs("div",{className:"view-toggle",children:[u.jsx("button",{className:`toggle-btn ${h==="login"?"active":""}`,onClick:()=>v("login"),children:"Accedi"}),u.jsx("button",{className:`toggle-btn ${h==="register"?"active":""}`,onClick:()=>v("register"),children:"Registrati"})]}),u.jsx("div",{className:"auth-social",children:u.jsxs("button",{type:"button",className:"btn-google",onClick:B,disabled:x,children:[u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",className:"google-icon",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),x?"Caricamento...":"Continua con Google"]})})]}),u.jsxs("div",{className:"auth-content",children:[g.general&&u.jsx("div",{className:"auth-error",children:g.general}),E&&u.jsx("div",{className:"auth-success",children:E}),u.jsx("div",{className:"auth-divider",children:u.jsx("span",{children:"oppure"})}),u.jsxs("form",{className:"auth-form",onSubmit:k,children:[h==="register"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",htmlFor:"fullName",children:"Nome Completo *"}),u.jsx("input",{id:"fullName",type:"text",className:`form-input ${g.fullName?"error":""}`,value:m.fullName,onChange:H=>A("fullName",H.target.value),placeholder:"Inserisci il tuo nome completo"}),g.fullName&&u.jsx("div",{className:"form-error",children:g.fullName})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",htmlFor:"email",children:"Email *"}),u.jsx("input",{id:"email",type:"email",className:`form-input ${g.email?"error":""}`,value:m.email,onChange:H=>A("email",H.target.value),placeholder:"inserisci@email.com"}),g.email&&u.jsx("div",{className:"form-error",children:g.email})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",htmlFor:"password",children:"Password *"}),u.jsx("input",{id:"password",type:"password",className:`form-input ${g.password?"error":""}`,value:m.password,onChange:H=>A("password",H.target.value),placeholder:"Inserisci la tua password"}),g.password&&u.jsx("div",{className:"form-errors",children:g.password.map((H,L)=>u.jsx("div",{className:"form-error",children:H},L))}),h==="register"&&m.password&&u.jsxs("div",{className:"password-requirements",children:[u.jsx("strong",{children:"Requisiti password:"}),u.jsxs("ul",{children:[u.jsx("li",{className:m.password.length>=8?"valid":"invalid",children:"Almeno 8 caratteri"}),u.jsx("li",{className:/[A-Z]/.test(m.password)?"valid":"invalid",children:"Una lettera maiuscola"}),u.jsx("li",{className:/[a-z]/.test(m.password)?"valid":"invalid",children:"Una lettera minuscola"}),u.jsx("li",{className:/\d/.test(m.password)?"valid":"invalid",children:"Un numero"}),u.jsx("li",{className:/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(m.password)?"valid":"invalid",children:"Un carattere speciale"})]})]})]}),h==="register"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",htmlFor:"confirmPassword",children:"Conferma Password *"}),u.jsx("input",{id:"confirmPassword",type:"password",className:`form-input ${g.confirmPassword?"error":""}`,value:m.confirmPassword,onChange:H=>A("confirmPassword",H.target.value),placeholder:"Conferma la tua password"}),g.confirmPassword&&u.jsx("div",{className:"form-error",children:g.confirmPassword})]}),u.jsx("button",{type:"submit",className:"action-btn",disabled:x||d,children:x?h==="login"?"Accesso...":"Registrazione...":h==="login"?"Accedi":"Registrati"})]})]})]})}):null}const Zb=Object.freeze(Object.defineProperty({__proto__:null,AuthOverlay:Uv},Symbol.toStringTag,{value:"Module"}));function Ib(){const r=zt(),i=()=>{r("/messages")},s=()=>{r("/saved")},l=()=>{};return u.jsxs("div",{className:"header-icons",children:[u.jsx("button",{className:"header-icon-btn",onClick:i,"aria-label":"Messaggi",title:"Messaggi",children:u.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),u.jsx("button",{className:"header-icon-btn",onClick:s,"aria-label":"Elementi salvati",title:"Elementi salvati",children:u.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),u.jsx("button",{className:"header-icon-btn",onClick:l,"aria-label":"Notifiche",title:"Notifiche",children:u.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})})]})}function Vt({src:r,alt:i,name:s,size:l="md",variant:c="default",onClick:d,className:h=""}){const v=b=>{if(!b)return"U";if(b.includes("@")){const S=b.split("@")[0];return v(S)}if(b.includes(".")&&!b.includes(" "))return b.split(".").map(E=>E.charAt(0).toUpperCase()).slice(0,2).join("");const x=b.trim().split(/\s+/);if(x.length===1){const S=x[0];return S.length>=2?(S.charAt(0)+S.charAt(1)).toUpperCase():S.charAt(0).toUpperCase()}return x.map(S=>S.charAt(0).toUpperCase()).slice(0,2).join("")},m=()=>{const b="avatar",x=`avatar-${l}`,S=`avatar-${c}`;return[b,x,S,d?"avatar-clickable":"",h].filter(Boolean).join(" ")},p=()=>{d&&d()},g=b=>{d&&(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),d())};return u.jsx("div",{className:m(),onClick:p,onKeyPress:g,tabIndex:d?0:void 0,role:d?"button":void 0,"aria-label":i||`Avatar di ${s||"utente"}`,children:r?u.jsx("img",{src:r,alt:i||`Avatar di ${s||"utente"}`,className:"avatar-image",loading:"lazy"}):u.jsx("div",{className:"avatar-placeholder",children:v(s)})})}function Jb(){const{user:r,profile:i,loading:s,signOut:l}=Je(),[c,d]=w.useState(!1),h=w.useRef(null),v=zt();if(w.useEffect(()=>{const g=b=>{h.current&&!h.current.contains(b.target)&&d(!1)};return c&&document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[c]),s||!r)return null;const m=()=>{if(i?.full_name)return i.full_name;if(i?.username)return i.username;if(r?.email){const g=r.email.split("@")[0];return g.includes(".")?g.split(".").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" "):g}return"Utente"},p=g=>{switch(g){case"client":return"Cliente";case"artist":return"Artista";default:return g}};if(!i){const b=(()=>{if(!r?.email)return"U";const x=r.email.split("@")[0];return x.includes(".")?x.split(".").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" "):x})();return u.jsxs("div",{className:"profile-dropdown",children:[u.jsx(Vt,{name:b,size:"sm",variant:"default",onClick:()=>d(!c)}),c&&u.jsxs("div",{className:"dropdown-menu",children:[u.jsxs("div",{className:"dropdown-header",children:[u.jsx("div",{className:"avatar avatar-sm avatar-default",children:u.jsx("div",{className:"avatar-placeholder",children:b.split(" ").map(x=>x[0]).join("").substring(0,2).toUpperCase()})}),u.jsxs("div",{className:"user-info",children:[u.jsx("div",{className:"user-name",children:b}),u.jsx("div",{className:"user-type",children:"Cliente"})]})]}),u.jsx("div",{className:"dropdown-divider"}),u.jsx("button",{className:"dropdown-item become-artist-btn",onClick:()=>{v("/become-artist"),d(!1)},children:"Diventi un'artista"}),u.jsx("div",{className:"dropdown-divider"}),u.jsx("button",{className:"dropdown-item",onClick:()=>{},children:"Impostazioni"}),u.jsx("div",{className:"dropdown-divider"}),u.jsx("button",{className:"dropdown-item logout-item",onClick:()=>{l(),d(!1)},children:"Esci"})]})]})}return u.jsxs("div",{className:"profile-dropdown",ref:h,children:[u.jsx(Vt,{src:i.avatar_url,name:i.full_name,alt:`Avatar di ${m()}`,size:"sm",variant:"default",onClick:()=>d(!c)}),c&&u.jsxs("div",{className:"dropdown-menu",children:[u.jsxs("div",{className:"dropdown-header",children:[u.jsx("div",{className:"avatar avatar-sm avatar-default","aria-label":`Avatar di ${m()}`,children:i.avatar_url?u.jsx("img",{src:i.avatar_url,alt:`Avatar di ${m()}`,className:"avatar-image"}):u.jsx("div",{className:"avatar-placeholder",children:(i.full_name||m()).split(" ").map(g=>g[0]).join("").substring(0,2).toUpperCase()})}),u.jsxs("div",{className:"user-info",children:[u.jsx("div",{className:"user-name",children:i.full_name&&i.full_name.trim()?i.full_name:m()}),u.jsx("div",{className:"user-type",children:p(i.profile_type)})]})]}),u.jsx("div",{className:"dropdown-divider"}),i.profile_type!=="artist"&&u.jsx("button",{className:"dropdown-item become-artist-btn",onClick:()=>{v("/become-artist"),d(!1)},children:"Diventi un'artista"}),u.jsx("div",{className:"dropdown-divider"}),i.profile_type==="artist"&&u.jsx("button",{className:"dropdown-item",onClick:()=>{v("/profile"),d(!1)},children:"Il mio profilo"}),u.jsx("button",{className:"dropdown-item",onClick:()=>{},children:"Impostazioni"}),u.jsx("div",{className:"dropdown-divider"}),u.jsx("button",{className:"dropdown-item logout-item",onClick:()=>{l(),d(!1)},children:"Esci"})]})]})}function Fb({onLogoClick:r,children:i,onAuthRequired:s}){const{user:l,loading:c}=Je(),d=()=>{s?.()};return u.jsx("header",{className:"header",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"header-content",children:[u.jsx("span",{className:"logo",onClick:r,children:"SKUNK"}),i,u.jsx("div",{className:"user-section",children:c?u.jsx("div",{className:"auth-loading",children:"..."}):l?u.jsxs(u.Fragment,{children:[u.jsx(Ib,{}),u.jsx(Jb,{})]}):u.jsx("button",{className:"btn btn-primary auth-btn",onClick:d,children:"Login/Registrati"})})]})})})}function Ft({onSearch:r,onLogoClick:i,hideOnMobile:s=!1}){const l=zt(),[c,d]=w.useState(""),[h,v]=w.useState(""),[m,p]=w.useState(!1),[g,b]=w.useState(!1),x=()=>{l(`/?search=${encodeURIComponent(c)}&location=${encodeURIComponent(h)}`),r?.(c,h),b(!1)},S=O=>{O.key==="Enter"&&x()},E=()=>{setTimeout(()=>{const O=document.activeElement,T=O?.closest(".location-input-container"),k=O?.closest(".search-btn");!T&&!k&&b(!1)},100)};return u.jsxs(u.Fragment,{children:[u.jsx(Fb,{onLogoClick:i,onAuthRequired:()=>p(!0),hideOnMobile:s,children:u.jsxs("div",{className:"search-form",children:[u.jsxs("div",{className:"search-input-container",children:[u.jsx("span",{className:"search-icon",children:"🔍"}),u.jsx("input",{type:"text",className:"search-input",placeholder:"Cerca tatuaggi, artisti...",value:c,onChange:O=>d(O.target.value),onKeyPress:S})]}),u.jsxs("div",{className:"location-input-container",children:[u.jsx("span",{className:"location-icon",children:"📍"}),u.jsx(jm,{value:h,onChange:v,onKeyPress:S})]}),u.jsxs("button",{className:"btn btn-accent search-btn",onClick:x,children:[u.jsx("span",{className:"btn-icon",children:"→"}),"Cerca"]})]})}),!s&&u.jsx("div",{className:"mobile-search-container",children:u.jsxs("div",{className:"search-form",children:[u.jsxs("div",{className:"search-input-container",children:[u.jsx("span",{className:"search-icon",children:"🔍"}),u.jsx("input",{type:"text",className:"search-input",placeholder:"Cerca tatuaggi, artisti...",value:c,onChange:O=>d(O.target.value),onKeyPress:S,onFocus:()=>b(!0),onBlur:E})]}),g&&u.jsxs("div",{className:"location-input-container",children:[u.jsx("span",{className:"location-icon",children:"📍"}),u.jsx(jm,{value:h,onChange:v,onKeyPress:S})]}),g&&u.jsxs("button",{className:"btn btn-accent search-btn",onClick:x,children:[u.jsx("span",{className:"btn-icon",children:"→"}),"Cerca"]})]})}),u.jsx(Uv,{isOpen:m,onClose:()=>p(!1)})]})}const Wb=["NEOREALISMO","OLD SCHOOL","NEW SCHOOL","REALISMO","TRIBALE","GIAPPONESE","BLACKWORK","MINIMALISTA","WATERCOLOR","GEOMETRICO"];function ex({onCategoryChange:r,onViewModeChange:i,viewMode:s="portfolio",searchSource:l}){const[c,d]=w.useState("");w.useEffect(()=>{l==="search-bar"&&d("")},[l]);const h=m=>{const p=c===m?"":m;d(p),r?.(p)},v=m=>{i?.(m)};return u.jsx("section",{className:"category-bar",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"category-content",children:[u.jsx("div",{className:"category-filters",children:u.jsx("div",{className:"category-tags",children:Wb.map(m=>u.jsx("button",{className:`category-tag ${c===m?"active":""}`,onClick:()=>h(m),children:m},m))})}),u.jsxs("div",{className:"view-toggle",children:[u.jsx("button",{className:`toggle-btn ${s==="portfolio"?"active":""}`,onClick:()=>v("portfolio"),children:"Opere"}),u.jsx("button",{className:`toggle-btn ${s==="artists"?"active":""}`,onClick:()=>v("artists"),children:"Artisti"})]})]})})})}function pu(){const{user:r,profile:i}=Je(),[s,l]=w.useState(new Set),[c,d]=w.useState(!1),h=w.useCallback(()=>i?.user_id?i.user_id:r?.id?r.id:null,[r,i]),v=w.useCallback(async()=>{const x=h();if(!x){l(new Set);return}try{d(!0);const{data:S,error:E}=await de.from("saved_tattoos").select("portfolio_item_id").eq("user_id",x);if(E){console.error("Error loading saved tattoos:",E.message);return}const O=new Set(S.map(T=>T.portfolio_item_id));l(O)}catch(S){console.error("Error loading saved tattoos:",S)}finally{d(!1)}},[h]),m=w.useCallback(async x=>{if(!r)return console.warn("User must be logged in to save tattoos"),!1;try{const{error:S}=await de.from("saved_tattoos").insert([{user_id:r.id,portfolio_item_id:x}]);return S?(console.error("Error saving tattoo:",S.message),!1):(l(E=>new Set([...E,x])),!0)}catch(S){return console.error("Error saving tattoo:",S),!1}},[r]),p=w.useCallback(async x=>{const S=h();if(!S)return console.warn("User must be logged in to unsave tattoos"),!1;try{const{error:E}=await de.from("saved_tattoos").delete().eq("user_id",S).eq("portfolio_item_id",x);return E?(console.error("Error unsaving tattoo:",E.message),!1):(l(O=>{const T=new Set(O);return T.delete(x),T}),!0)}catch(E){return console.error("Error unsaving tattoo:",E),!1}},[h]),g=w.useCallback(async x=>s.has(x)?await p(x):await m(x),[s,m,p]),b=w.useCallback(x=>s.has(x),[s]);return w.useEffect(()=>{v()},[v]),{savedTattoos:s,loading:c,saveTattoo:m,unsaveTattoo:p,toggleSave:g,isTattooSaved:b,refreshSavedTattoos:v}}function Lv(r){const{user:i}=Je(),[s,l]=w.useState(!1),[c,d]=w.useState(0),[h,v]=w.useState(!1),[m,p]=w.useState(!1);w.useEffect(()=>{r&&g()},[r,i]);const g=async()=>{try{const{error:S}=await de.from("portfolio_likes").select("id",{count:"exact",head:!0}).limit(1);if(S&&(S.code==="PGRST116"||S.message?.includes("406"))){console.warn("Portfolio likes table not configured yet - likes feature disabled"),p(!1);return}p(!0),b()}catch(S){console.warn("Portfolio likes table not available:",S),p(!1)}},b=async()=>{try{if(i){const[{count:S},{data:E,error:O}]=await Promise.all([de.from("portfolio_likes").select("*",{count:"exact",head:!0}).eq("portfolio_item_id",r),de.from("portfolio_likes").select("id").eq("portfolio_item_id",r).eq("user_id",i.id).maybeSingle()]);if(O&&(O.code==="PGRST116"||O.message?.includes("406")||O.code==="42501")){console.warn("Portfolio likes: RLS policies not configured correctly, using fallback"),d(0),l(!1);return}d(S||0),l(!!E)}else{const{count:S,error:E}=await de.from("portfolio_likes").select("*",{count:"exact",head:!0}).eq("portfolio_item_id",r);if(E){if(E.code==="PGRST116"||E.message?.includes("406")||E.code==="42501"){console.warn("Portfolio likes: RLS policies not configured correctly, using fallback"),d(0),l(!1);return}throw E}d(S||0),l(!1)}}catch(S){console.error("Error fetching like data:",S),d(0),l(!1)}};return{isLiked:s,likeCount:c,toggleLike:async()=>{if(!i)throw new Error("Authentication required");if(!m)throw new Error("Portfolio likes table not configured. Please run the SQL setup script.");v(!0);try{if(s){const{error:S}=await de.from("portfolio_likes").delete().eq("portfolio_item_id",r).eq("user_id",i.id);if(S)throw S.code==="PGRST116"||S.message?.includes("406")?new Error("Portfolio likes table not configured. Please run the SQL setup script."):S;l(!1),d(E=>E-1)}else{const{error:S}=await de.from("portfolio_likes").insert({portfolio_item_id:r,user_id:i.id});if(S)throw S.code==="PGRST116"||S.message?.includes("406")?new Error("Portfolio likes table not configured. Please run the SQL setup script."):S;l(!0),d(E=>E+1)}}catch(S){throw console.error("Error toggling like:",S),S}finally{v(!1)}},loading:h,tableExists:m}}function gt({icon:r,text:i,variant:s="portfolio",active:l=!1,disabled:c=!1,onClick:d,className:h="",requiresAuth:v=!1,onAuthRequired:m}){const{user:p}=Je(),g="action-btn",b=l?"active":"",x=c?"disabled":"",S=E=>{if(!c){if(v&&!p&&m){m();return}d&&d(E)}};return u.jsxs("button",{className:`${g} ${b} ${x} ${h}`.trim(),onClick:S,disabled:c,children:[u.jsx("span",{className:"action-icon",children:r}),u.jsx("span",{className:"action-text",children:i})]})}const zv=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),Bv=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),tx=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),Vc=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M12 5v14m7-7l-7-7-7 7"})}),ax=()=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("polyline",{points:"3,6 5,6 21,6"}),u.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),u.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),u.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),nx=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("polyline",{points:"15,18 9,12 15,6"})}),ix=()=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),u.jsx("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]}),qv=r=>{const i=r.currentTarget;i.style.display="none"},Hv=r=>r||"";function sx({item:r,isOpen:i,onClose:s,onArtistClick:l,onAuthRequired:c,onContactArtist:d}){const{profile:h}=Je(),{toggleSave:v,isTattooSaved:m}=pu(),{isLiked:p,likeCount:g,toggleLike:b,loading:x,tableExists:S}=Lv(r.id);if(w.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),w.useEffect(()=>{const A=P=>{P.key==="Escape"&&s()};return i&&document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[i,s]),!i)return null;const E=r.is_flash?"FLASH":"REALIZZATO",O=r.full_name||r.artist_name||"Unknown Artist",T=()=>{const A=r.user_id||r.id;l&&A&&(s(),l(A))},k=async()=>{try{await b()}catch(A){console.error("Error toggling like:",A)}},B=A=>{A.target===A.currentTarget&&s()};return u.jsx("div",{className:"portfolio-modal-overlay",onClick:B,children:u.jsxs("div",{className:"portfolio-modal-content",children:[u.jsx("div",{className:"modal-header",children:u.jsx("button",{className:"modal-close-btn",onClick:s,children:"×"})}),u.jsxs("div",{className:"modal-image-section",children:[r.image_url&&u.jsx("img",{src:Hv(r.image_url),alt:r.title||"Portfolio Item",className:"modal-portfolio-image",onError:qv}),u.jsx("span",{className:`modal-badge ${E.toLowerCase()}`,children:E}),r.price&&u.jsxs("span",{className:"modal-price",children:["€",r.price]})]}),u.jsxs("div",{className:"modal-details-section",children:[u.jsxs("div",{className:"modal-artist-info",children:[u.jsx("div",{onClick:T,style:{cursor:"pointer"},children:u.jsx(Vt,{src:r.artist_avatar_url,name:O,alt:`Avatar di ${O}`,size:"lg",variant:"default"})}),u.jsx("span",{className:"modal-artist-name",onClick:T,style:{cursor:"pointer"},children:O})]}),u.jsx("h2",{className:"modal-portfolio-title",children:r.title||"Senza titolo"}),r.tags&&r.tags.length>0&&u.jsx("div",{className:"modal-portfolio-tags",children:r.tags.map((A,P)=>u.jsx("span",{className:"modal-portfolio-tag",children:A},P))}),r.description&&u.jsxs("div",{className:"modal-description-section",children:[u.jsx("h3",{className:"modal-section-title",children:"Descrizione"}),u.jsx("p",{className:"modal-portfolio-description",children:r.description})]}),u.jsxs("div",{className:"modal-meta-info",children:[u.jsxs("div",{className:"modal-meta-item",children:[u.jsx("span",{className:"modal-meta-icon",children:"📅"}),u.jsx("span",{className:"modal-meta-label",children:"Creato il:"}),u.jsx("span",{className:"modal-meta-value",children:new Date(r.created_at).toLocaleDateString("it-IT")})]}),r.location&&u.jsxs("div",{className:"modal-meta-item",children:[u.jsx("span",{className:"modal-meta-icon",children:"📍"}),u.jsx("span",{className:"modal-meta-label",children:"Posizione:"}),u.jsx("span",{className:"modal-meta-value",children:r.location})]})]}),u.jsxs("div",{className:"modal-portfolio-actions",children:[S&&u.jsx(gt,{icon:u.jsx(Bv,{}),text:g>0?`Mi piace (${g})`:"Mi piace",variant:"modal",active:p,disabled:x,requiresAuth:!0,onAuthRequired:c,onClick:k}),u.jsx(gt,{icon:u.jsx(zv,{}),text:m(r.id)?"Salvato":"Salva",variant:"modal",active:m(r.id),requiresAuth:!0,onAuthRequired:c,onClick:()=>v(r.id)}),h?.user_id!==r.user_id&&u.jsx(gt,{icon:u.jsx(tx,{}),text:"Contatta artista",variant:"modal",requiresAuth:!0,onAuthRequired:c,onClick:()=>d&&d(r.user_id)})]})]})]})})}function wn({item:r,onArtistClick:i,onAuthRequired:s,onContactArtist:l,showDeleteButton:c,onDelete:d}){const[h,v]=w.useState(!1),{toggleSave:m,isTattooSaved:p}=pu(),{isLiked:g,likeCount:b,toggleLike:x,loading:S,tableExists:E}=Lv(r.id),O=r.is_flash?"FLASH":"REALIZZATO",T=r.price,k=r.full_name||r.artist_name||"Unknown Artist",B=K=>{K.stopPropagation();const re=r.user_id||r.id;i&&re&&i(re)},A=K=>{K.target.closest(".portfolio-actions")||v(!0)},P=()=>{v(!1)},H=async K=>{K.stopPropagation();try{await x()}catch(re){console.error("Error toggling like:",re)}},L=K=>{K.stopPropagation(),d&&d(r.id)};return u.jsxs(u.Fragment,{children:[u.jsxs("article",{className:"card portfolio-card",onClick:A,children:[c&&u.jsx("button",{className:"modal-close-btn delete-portfolio-btn",onClick:L,title:"Elimina elemento",children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("polyline",{points:"3,6 5,6 21,6"}),u.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),u.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),u.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),u.jsxs("div",{className:"image-section",children:[r.image_url?u.jsx("img",{src:Hv(r.image_url),alt:r.title||"Portfolio Item",className:"portfolio-image",onError:qv}):u.jsxs("div",{className:"image-placeholder",children:[u.jsxs("svg",{className:"placeholder-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),u.jsx("polyline",{points:"21,15 16,10 5,21"})]}),u.jsx("span",{className:"placeholder-text",children:"Immagine non disponibile"})]}),u.jsx("span",{className:`badge ${O.toLowerCase()}`,children:O}),T&&u.jsxs("span",{className:"price",children:["€",T]})]}),u.jsxs("div",{className:"content-section",children:[u.jsxs("div",{className:"artist-info",children:[u.jsx("div",{onClick:B,style:{cursor:"pointer"},children:u.jsx(Vt,{src:r.artist_avatar_url,name:k,alt:`Avatar di ${k}`,size:"sm",variant:"default"})}),u.jsx("span",{className:"artist-name",onClick:B,style:{cursor:"pointer"},children:k})]}),u.jsx("h3",{className:"portfolio-title",children:r.title||"Senza titolo"}),r.tags&&r.tags.length>0&&u.jsx("div",{className:"portfolio-tags",children:r.tags.map((K,re)=>u.jsx("span",{className:"portfolio-tag",children:K},re))}),r.description&&u.jsx("p",{className:"portfolio-description",children:r.description}),u.jsxs("div",{className:"meta-info",children:[u.jsxs("span",{className:"meta-date",children:[u.jsx("span",{className:"meta-icon",children:"📅"}),new Date(r.created_at).toLocaleDateString("it-IT")]}),r.location&&u.jsxs("span",{className:"meta-location",children:[u.jsx("span",{className:"meta-icon",children:"📍"}),r.location]})]}),u.jsxs("div",{className:"portfolio-actions",children:[E&&u.jsx(gt,{icon:u.jsx(Bv,{}),text:b>0?`Mi piace (${b})`:"Mi piace",variant:"portfolio",active:g,disabled:S,requiresAuth:!0,onAuthRequired:s,onClick:H}),u.jsx(gt,{icon:u.jsx(zv,{}),text:p(r.id)?"Salvato":"Salva",variant:"portfolio",active:p(r.id),requiresAuth:!0,onAuthRequired:s,onClick:K=>{K.stopPropagation(),m(r.id)}})]})]})]}),u.jsx(sx,{item:r,isOpen:h,onClose:P,onArtistClick:i,onAuthRequired:s,onContactArtist:l})]})}w.memo(wn);function Lt({fullScreen:r=!1,size:i="medium"}){const s={small:{width:"12px",height:"12px",gap:"3px"},medium:{width:"16px",height:"16px",gap:"4px"},large:{width:"20px",height:"20px",gap:"5px"}},l=r?"fixed top-0 left-0 w-full h-full bg-white flex justify-center items-center z-50":"flex justify-center items-center p-4",{width:c,height:d,gap:h}=s[i];return u.jsx("div",{className:l,children:u.jsxs("div",{className:"brutalist-spinner",style:{gap:h},children:[u.jsx("div",{className:"brutalist-block",style:{width:c,height:d}}),u.jsx("div",{className:"brutalist-block",style:{width:c,height:d}}),u.jsx("div",{className:"brutalist-block",style:{width:c,height:d}}),u.jsx("div",{className:"brutalist-block",style:{width:c,height:d}})]})})}const lx=w.memo(function({items:i,loading:s,error:l,searchTerm:c,locationFilter:d,flashFilter:h,totalCount:v,filteredCount:m,onArtistClick:p,onFlashFilterChange:g,onAuthRequired:b,onContactArtist:x}){const[S,E]=w.useState(!1),O=w.useRef(null);w.useEffect(()=>{const A=P=>{O.current&&!O.current.contains(P.target)&&E(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const T=w.useCallback(A=>{g?.(A),E(!1)},[g]),k=A=>{switch(A){case"all":return"Tutti";case"flash":return"Flash";case"realizzati":return"Realizzati"}};if(s)return u.jsx("section",{className:"grid-container",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"loading-state",children:u.jsx(Lt,{size:"large"})})})});if(l)return u.jsx("section",{className:"grid-container",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"error-state",children:u.jsxs("div",{className:"error-card",children:[u.jsx("h2",{className:"error-title",children:"Errore di caricamento"}),u.jsx("p",{className:"error-message",children:l}),u.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>window.location.reload(),children:"Riprova"})]})})})});const B=c.trim()||d.trim();return u.jsx("section",{className:"grid-container",children:u.jsxs("div",{className:"container",children:[u.jsx("div",{className:"grid-header",children:u.jsxs("div",{className:"header-card",children:[u.jsxs("div",{className:"header-top",children:[u.jsx("h2",{className:"grid-title",children:"Portfolio opere"}),u.jsxs("div",{className:"filter-dropdown",ref:O,children:[u.jsxs("button",{className:"action-btn",onClick:()=>E(!S),"aria-expanded":S,children:[u.jsx("span",{className:"action-icon",children:u.jsx("svg",{className:"filter-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})})}),u.jsx("span",{className:"action-text",children:k(h)}),u.jsx("span",{className:"action-icon",children:u.jsx("svg",{className:`chevron-icon ${S?"open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("polyline",{points:"6,9 12,15 18,9"})})})]}),S&&u.jsxs("div",{className:"filter-dropdown-menu",children:[u.jsx("button",{className:`filter-option ${h==="all"?"active":""}`,onClick:()=>T("all"),children:"Tutti"}),u.jsx("button",{className:`filter-option ${h==="flash"?"active":""}`,onClick:()=>T("flash"),children:"Flash"}),u.jsx("button",{className:`filter-option ${h==="realizzati"?"active":""}`,onClick:()=>T("realizzati"),children:"Realizzati"})]})]})]}),u.jsxs("div",{className:"grid-stats",children:[u.jsx("span",{className:"stat-count",children:B?m:v}),u.jsx("span",{className:"stat-label",children:B?"risultati":"opere totali"})]}),B&&u.jsxs("div",{className:"search-info",children:[c&&u.jsxs("span",{className:"search-term",children:['"',c,'"']}),d&&u.jsx("span",{className:"location-term",children:d})]})]})}),i.length===0?u.jsx("div",{className:"empty-state",children:u.jsxs("div",{className:"empty-card",children:[u.jsx("h3",{className:"empty-title",children:"Nessun risultato"}),u.jsx("p",{className:"empty-message",children:B?"Nessuna opera trovata per i criteri selezionati":"Il portfolio è ancora vuoto"})]})}):u.jsx("div",{className:"portfolio-grid",children:i.map(A=>u.jsx(wn,{item:A,onArtistClick:p,onAuthRequired:b,onContactArtist:x},A.id))})]})})});function pr(){const{user:r}=Je(),[i,s]=w.useState(new Map),[l,c]=w.useState(!1),d=w.useCallback(async g=>{if(g.length!==0){c(!0);try{const{data:b,error:x}=await de.from("followers").select("following_id").in("following_id",g);if(x)throw x;const S=g.reduce((T,k)=>(T[k]=b?.filter(B=>B.following_id===k).length||0,T),{});let E={};if(r){const{data:T,error:k}=await de.from("followers").select("following_id").eq("follower_id",r.id).in("following_id",g);if(k)throw k;E=g.reduce((B,A)=>(B[A]=T?.some(P=>P.following_id===A)||!1,B),{})}const O=new Map;g.forEach(T=>{O.set(T,{user_id:T,follower_count:S[T]||0,is_following:E[T]||!1})}),s(O)}catch(b){console.error("Error fetching follower stats:",b)}finally{c(!1)}}},[r]),h=w.useCallback(async g=>{if(!r)return{error:"Authentication required"};if(i.get(g)?.is_following)return{success:!0};try{const{error:x}=await de.from("followers").insert({follower_id:r.id,following_id:g});if(x){if(x.code==="23505")return{success:!0};throw x}return s(S=>{const E=new Map(S),O=E.get(g);return O&&E.set(g,{...O,follower_count:O.follower_count+1,is_following:!0}),E}),{success:!0}}catch(x){return console.error("Error following artist:",x),{error:"Failed to follow artist"}}},[r,i]),v=w.useCallback(async g=>{if(!r)return{error:"Authentication required"};if(!i.get(g)?.is_following)return{success:!0};try{const{error:x}=await de.from("followers").delete().eq("follower_id",r.id).eq("following_id",g);if(x)throw x;return s(S=>{const E=new Map(S),O=E.get(g);return O&&E.set(g,{...O,follower_count:Math.max(0,O.follower_count-1),is_following:!1}),E}),{success:!0}}catch(x){return console.error("Error unfollowing artist:",x),{error:"Failed to unfollow artist"}}},[r,i]),m=w.useCallback(async g=>i.get(g)?.is_following?await v(g):await h(g),[i,h,v]),p=w.useCallback(g=>i.get(g)||{user_id:g,follower_count:0,is_following:!1},[i]);return{followerStats:i,loading:l,fetchFollowerStats:d,followArtist:h,unfollowArtist:v,toggleFollow:m,getFollowerStats:p}}function $v({profile:r,onArtistClick:i,onAuthRequired:s,onContactArtist:l,onFollowUpdate:c}){const{user:d,profile:h}=Je(),{getFollowerStats:v,toggleFollow:m,fetchFollowerStats:p}=pr(),g=r.full_name||r.username||"Unknown Artist",x=v(r.user_id)?.is_following||!1,S=h&&r.user_id===h.user_id;w.useEffect(()=>{p([r.user_id])},[r.user_id,p]);const E=k=>{k.target.closest(".artist-actions")||i&&i(r.user_id)},O=async k=>{if(k.stopPropagation(),!S){if(!d&&s){s();return}d&&(await m(r.user_id)).success&&c&&c(r.user_id,!x)}},T=k=>{if(k.stopPropagation(),!S){if(!d&&s){s();return}l&&l(r.user_id)}};return u.jsxs("article",{className:"card artist-card",onClick:E,style:{cursor:"pointer"},children:[u.jsxs("div",{className:"artist-header",children:[u.jsx(Vt,{src:r.avatar_url,name:g,alt:`Avatar di ${g}`,size:"md",variant:"card"}),u.jsxs("div",{className:"artist-info",children:[u.jsx("h3",{className:"artist-name",children:g}),r.location&&u.jsxs("span",{className:"artist-location",children:["📍 ",r.location]})]})]}),u.jsx("p",{className:"artist-bio",children:r.bio||""}),u.jsx("div",{className:"artist-meta",children:u.jsxs("span",{className:"join-date",children:[u.jsx("span",{className:"join-icon",children:"📅"}),"Iscritto dal ",new Date(r.created_at).toLocaleDateString("it-IT")]})}),u.jsxs("div",{className:"artist-actions",children:[u.jsxs("button",{className:`action-btn ${x?"active":""} ${S?"disabled":""}`,onClick:O,children:[u.jsx("span",{className:"action-icon",children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),u.jsx("circle",{cx:"9",cy:"7",r:"4"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}),u.jsx("span",{className:"action-text",children:x?"Seguito":"Segui"})]}),u.jsxs("button",{className:`action-btn ${S?"disabled":""}`,onClick:T,children:[u.jsx("span",{className:"action-icon",children:S?u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),u.jsx("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]}):u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),u.jsx("span",{className:"action-text",children:"Contatta"})]})]})]})}w.memo($v);function rx({profiles:r,loading:i,error:s,searchTerm:l,locationFilter:c,totalCount:d,filteredCount:h,onArtistClick:v,onAuthRequired:m,onContactArtist:p}){const{fetchFollowerStats:g}=pr();if(w.useEffect(()=>{if(r.length>0){const x=r.map(S=>S.user_id);g(x)}},[r,g]),i)return u.jsx("section",{className:"grid-container",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"loading-state",children:u.jsx(Lt,{size:"large"})})})});if(s)return u.jsx("section",{className:"grid-container",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"error-state",children:u.jsxs("div",{className:"error-card",children:[u.jsx("h2",{className:"error-title",children:"Errore di caricamento"}),u.jsx("p",{className:"error-message",children:s}),u.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>window.location.reload(),children:"Riprova"})]})})})});const b=l.trim()||c.trim();return u.jsx("section",{className:"grid-container",children:u.jsxs("div",{className:"container",children:[u.jsx("div",{className:"grid-header",children:u.jsxs("div",{className:"header-card",children:[u.jsx("h2",{className:"grid-title",children:"Artisti"}),u.jsxs("div",{className:"grid-stats",children:[u.jsx("span",{className:"stat-count",children:b?h:d}),u.jsx("span",{className:"stat-label",children:b?"risultati":"artisti totali"})]}),b&&u.jsxs("div",{className:"search-info",children:[l&&u.jsxs("span",{className:"search-term",children:['"',l,'"']}),c&&u.jsx("span",{className:"location-term",children:c})]})]})}),r.length===0?u.jsx("div",{className:"empty-state",children:u.jsxs("div",{className:"empty-card",children:[u.jsx("h3",{className:"empty-title",children:"Nessun artista"}),u.jsx("p",{className:"empty-message",children:b?"Nessun artista trovato per i criteri selezionati":"Non ci sono ancora artisti registrati"})]})}):u.jsx("div",{className:"artist-grid",children:r.map(x=>u.jsx($v,{profile:x,onArtistClick:v,onAuthRequired:m,onContactArtist:p},x.id))})]})})}const Zm={PORTFOLIO_ITEMS_LIMIT:50,ARTIST_PROFILES_LIMIT:100,MAX_BIO_LENGTH:500,MAX_TITLE_LENGTH:100,MAX_LOCATION_LENGTH:100,MAX_DESCRIPTION_LENGTH:500,BREAKPOINTS:{MOBILE_MAX:"767px",TABLET_MIN:"768px",DESKTOP_MIN:"1024px",LARGE_MIN:"1536px"},DEFAULT_FOLLOWER_COUNT:1247,ROUTES:{HOME:"/",PROFILE:"/profile",SAVED:"/saved",MESSAGES:"/messages",ARTIST:"/artist",BECOME_ARTIST:"/become-artist"}};function ox(){const[r,i]=w.useState([]),[s,l]=w.useState([]),[c,d]=w.useState("portfolio"),[h,v]=w.useState(!0),[m,p]=w.useState(null),[g,b]=w.useState(""),[x,S]=w.useState(""),[E,O]=w.useState("all"),T=w.useCallback(async()=>{try{v(!0),p(null);const{data:Q,error:te}=await de.from("portfolio_items").select(`
          *,
          profiles!inner(
            user_id,
            full_name,
            username,
            profile_type,
            bio,
            avatar_url,
            location
          )
        `).eq("profiles.profile_type","artist").order("created_at",{ascending:!1}).limit(Zm.PORTFOLIO_ITEMS_LIMIT);if(te)throw te;const I=Q?.map(fe=>{const ve=fe.profiles;return{...fe,profiles:void 0,description:fe.description??"",tags:Array.isArray(fe.tags)?fe.tags:[],image_url:fe.image_url??"",artist_name:ve?.full_name??ve?.username??"",full_name:ve?.full_name??null,artist_avatar_url:ve?.avatar_url??null,location:ve?.location??fe.location??null}})||[];i(I)}catch(Q){p(`Database error: ${Q.message}`),i([])}finally{v(!1)}},[]),k=w.useCallback(async()=>{try{const{data:Q,error:te}=await de.from("profiles").select(`
          id,
          user_id,
          email,
          full_name,
          username,
          profile_type,
          bio,
          avatar_url,
          phone,
          location,
          created_at,
          updated_at
        `).eq("profile_type","artist").order("created_at",{ascending:!1}).limit(Zm.ARTIST_PROFILES_LIMIT);if(te)throw te;l(Q||[])}catch{console.warn("Failed to fetch artist profiles"),l([])}},[]),B=w.useMemo(()=>{if(r.length===0)return[];let Q=r;E==="flash"?Q=Q.filter(U=>U.is_flash===!0):E==="realizzati"&&(Q=Q.filter(U=>U.is_flash===!1));const te=g.trim(),I=x.trim();if(!te&&!I)return Q;const fe=te?g.toLowerCase().trim():"",ve=I?x.toLowerCase().trim():"",Ne=te?fe.split(/\s+/).filter(U=>U.length>0):[];return Q.filter(U=>{if(I){const X=U.location?.toLowerCase();if(!X||!X.includes(ve))return!1}if(te&&Ne.length>0){const X=[U.title?.toLowerCase()||"",U.description?.toLowerCase()||"",U.artist_name?.toLowerCase()||"",...Array.isArray(U.tags)?U.tags.map(ae=>ae?.toLowerCase()||""):[]].join(" ");for(const ae of Ne)if(!X.includes(ae))return!1}return!0})},[r,g,x,E]),A=w.useMemo(()=>{if(!g.trim()&&!x.trim())return s;const Q=g.toLowerCase().trim(),te=x.toLowerCase().trim();return s.filter(I=>{const fe=!Q||I.full_name?.toLowerCase().includes(Q)||I.username?.toLowerCase().includes(Q)||I.bio?.toLowerCase().includes(Q)||I.email?.toLowerCase().includes(Q),ve=!te||I.location?.toLowerCase().includes(te);return fe&&ve})},[s,g,x]),P=(Q,te)=>{b(Q),S(te)},H=()=>{b(""),S("")},L=Q=>{O(Q)},K=w.useCallback(Q=>{d(Q)},[]),[re,F]=w.useState(!1);return w.useEffect(()=>{re||Promise.all([T(),k()]).then(()=>F(!0)).catch(()=>F(!0))},[T,k,re]),w.useEffect(()=>{const Q=I=>{I.key==="portfolioItemsUpdated"&&F(!1)};window.addEventListener("storage",Q);const te=()=>{const I=localStorage.getItem("portfolioItemsUpdated");if(I){const fe=parseInt(I);Date.now()-fe<5e3&&(F(!1),localStorage.removeItem("portfolioItemsUpdated"))}};return window.addEventListener("focus",te),()=>{window.removeEventListener("storage",Q),window.removeEventListener("focus",te)}},[]),{portfolioItems:B,allItems:r,artistProfiles:A,allProfiles:s,viewMode:c,loading:h,error:m,searchTerm:g,locationFilter:x,flashFilter:E,search:P,resetSearch:H,setFlashFilter:L,toggleViewMode:K,refetch:w.useCallback(()=>{F(!1),p(null),v(!0)},[]),totalCount:r.length,filteredCount:B.length,profilesCount:s.length,filteredProfilesCount:A.length}}const cx=w.lazy(()=>Ti(()=>Promise.resolve().then(()=>Zb),void 0).then(r=>({default:r.AuthOverlay})));function ux(){const r=zt(),[i]=L0(),{profile:s}=Je(),[l,c]=w.useState(null),[d,h]=w.useState(!1),{portfolioItems:v,artistProfiles:m,viewMode:p,loading:g,error:b,searchTerm:x,locationFilter:S,flashFilter:E,search:O,setFlashFilter:T,toggleViewMode:k,totalCount:B,filteredCount:A,profilesCount:P,filteredProfilesCount:H}=ox();w.useEffect(()=>{const U=i.get("search")||"",X=i.get("location")||"";(U||X)&&(O(U,X),c("search-bar"))},[i,O]);const L=w.useCallback((U,X)=>{c("search-bar"),O(U,X)},[O]),K=w.useCallback(U=>{c("category"),O(U,S)},[O,S]),re=w.useCallback(U=>{T(U)},[T]),F=w.useCallback(U=>{k(U)},[k]),Q=w.useCallback(U=>{s&&s.user_id===U?r("/profile"):r(`/artist/${U}`)},[r,s]),te=w.useCallback(()=>{window.location.reload()},[]),I=w.useCallback(()=>{h(!0)},[]),fe=w.useCallback(U=>{r(`/messages/${U}`)},[r]),ve=w.useMemo(()=>({items:v,loading:g,error:b,searchTerm:x,locationFilter:S,flashFilter:E,totalCount:B,filteredCount:A,onArtistClick:Q,onFlashFilterChange:re,onAuthRequired:I,onContactArtist:fe}),[v,g,b,x,S,E,B,A,Q,re,I,fe]),Ne=w.useMemo(()=>({profiles:m,loading:g,error:b,searchTerm:x,locationFilter:S,totalCount:P,filteredCount:H,onArtistClick:Q,onAuthRequired:I,onContactArtist:fe}),[m,g,b,x,S,P,H,Q,I,fe]);return u.jsxs("div",{className:"app",children:[u.jsx("div",{className:"mobile-header",children:u.jsx("div",{className:"mobile-logo",onClick:te,children:u.jsx("span",{className:"mobile-logo-text",children:"SKUNK"})})}),u.jsx(Ft,{onSearch:L,onLogoClick:te}),u.jsx(ex,{onCategoryChange:K,onViewModeChange:F,viewMode:p,searchSource:l}),u.jsx("main",{className:"main-content",children:p==="portfolio"?u.jsx(lx,{...ve}):u.jsx(rx,{...Ne})}),d&&u.jsx(w.Suspense,{fallback:u.jsx("div",{className:"loading-state",children:u.jsx(Lt,{})}),children:u.jsx(cx,{isOpen:d,onClose:()=>h(!1)})})]})}function dx(r){const[i,s]=w.useState(null),[l,c]=w.useState([]),[d,h]=w.useState([]),[v,m]=w.useState(!0),[p,g]=w.useState(null),b=w.useCallback(async()=>{if(!r){m(!1);return}try{m(!0),g(null);const[x,S,E]=await Promise.allSettled([de.from("profiles").select(`
            id,
            user_id,
            email,
            full_name,
            username,
            profile_type,
            bio,
            avatar_url,
            phone,
            location,
            created_at,
            updated_at
          `).eq("user_id",r).eq("profile_type","artist").single(),de.from("portfolio_items").select(`
            id,
            user_id,
            title,
            description,
            image_url,
            tags,
            is_flash,
            price,
            location,
            created_at,
            updated_at
          `).eq("user_id",r).order("created_at",{ascending:!1}),de.from("artist_services").select("*").eq("user_id",r).order("created_at",{ascending:!0})]);if(x.status==="fulfilled"&&!x.value.error)s(x.value.data);else{const O=x.status==="rejected"?x.reason:x.value.error;throw new Error(`Profile not found: ${O.message}`)}S.status==="fulfilled"&&!S.value.error?c(S.value.data||[]):(console.warn("Failed to fetch portfolio items"),c([])),E.status==="fulfilled"&&!E.value.error?h(E.value.data||[]):(console.warn("Failed to fetch artist services"),h([]))}catch(x){g(x.message),s(null),c([]),h([])}finally{m(!1)}},[r]);return w.useEffect(()=>{b()},[b]),{profile:i,portfolioItems:l,services:d,loading:v,error:p,refetch:b}}function fx(){const{artistId:r}=rv(),i=zt(),{profile:s}=Je(),{profile:l,portfolioItems:c,services:d,loading:h,error:v}=dx(r||""),{fetchFollowerStats:m,getFollowerStats:p,toggleFollow:g}=pr(),[b,x]=w.useState("portfolio"),S=l?p(l.user_id):null,E=S?.follower_count||0,O=S?.is_following||!1;if(w.useEffect(()=>{window.scrollTo(0,0)},[]),w.useEffect(()=>{l?.user_id&&m([l.user_id])},[l?.user_id,m]),w.useEffect(()=>{if(s&&r&&s.user_id===r){i("/profile",{replace:!0});return}},[s,r,i]),!r)return i("/"),null;const T=c.filter(L=>!L.is_flash),k=c.filter(L=>L.is_flash),B=(L,K)=>{i(`/?search=${encodeURIComponent(L)}&location=${encodeURIComponent(K)}`)},A=()=>{i("/")},P=()=>{r&&i(`/messages/${r}`)},H=async()=>{l?.user_id&&await g(l.user_id)};return u.jsxs("div",{className:"artist-profile",children:[u.jsx(Ft,{onSearch:B,onLogoClick:A,hideOnMobile:!0}),u.jsx("main",{className:"artist-profile-content",children:u.jsx("div",{className:"container",children:h?u.jsx("div",{className:"loading-state",children:u.jsx(Lt,{size:"large"})}):v?u.jsxs("div",{className:"error-state",children:[u.jsx("h2",{children:"Errore nel caricamento del profilo"}),u.jsx("p",{children:v})]}):l?u.jsxs("div",{className:"artist-profile-main",children:[u.jsx("section",{className:"artist-profile-header",children:u.jsxs("div",{className:"profile-info",children:[u.jsx(Vt,{src:l.avatar_url,name:l.full_name||l.username,alt:`Avatar di ${l.full_name||l.username||"Artista"}`,size:"lg",variant:"bordered"}),u.jsxs("div",{className:"profile-details",children:[u.jsx("h1",{className:"profile-name",children:l.full_name||l.username||"Artista Sconosciuto"}),l.location&&u.jsxs("p",{className:"profile-location",children:["📍 ",l.location]}),l.bio&&u.jsx("p",{className:"profile-bio",children:l.bio}),u.jsx("div",{className:"profile-stats",children:u.jsxs("span",{className:"follower-count",children:[u.jsx("strong",{children:E.toLocaleString()})," follower"]})}),u.jsxs("div",{className:"artist-actions",children:[u.jsxs("button",{className:`action-btn ${O?"active":""}`,onClick:H,children:[u.jsx("span",{className:"action-icon",children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),u.jsx("circle",{cx:"9",cy:"7",r:"4"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}),u.jsx("span",{className:"action-text",children:O?"Seguito":"Segui"})]}),u.jsxs("button",{className:"action-btn",onClick:P,children:[u.jsx("span",{className:"action-icon",children:u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),u.jsx("span",{className:"action-text",children:"Contatta"})]})]})]})]})}),u.jsxs("section",{className:"artist-profile-tabs",children:[u.jsxs("div",{className:"tabs-navigation",children:[u.jsx("button",{className:`tab-button ${b==="portfolio"?"active":""}`,onClick:()=>x("portfolio"),children:"PORTFOLIO"}),u.jsx("button",{className:`tab-button ${b==="flash"?"active":""}`,onClick:()=>x("flash"),children:"FLASH"}),u.jsx("button",{className:`tab-button ${b==="servizi"?"active":""}`,onClick:()=>x("servizi"),children:"SERVIZI"}),u.jsx("button",{className:`tab-button ${b==="recensioni"?"active":""}`,onClick:()=>x("recensioni"),children:"RECENSIONI"})]}),u.jsxs("div",{className:"tab-content",children:[b==="portfolio"&&u.jsxs("div",{className:"tab-panel portfolio-panel",children:[u.jsxs("h3",{children:["GALLERIA LAVORI ",!h&&`(${T.length})`]}),h?u.jsxs("div",{className:"portfolio-loading",children:[u.jsx(Lt,{size:"large"}),u.jsx("p",{children:"Caricamento portfolio..."})]}):T.length>0?u.jsx("div",{className:"artist-portfolio-grid",children:T.map(L=>u.jsx(wn,{item:{id:L.id,title:L.title,description:L.description||"",image_url:L.image_url,tags:L.tags||[],is_flash:L.is_flash,price:L.price,location:L.location,created_at:L.created_at,updated_at:L.updated_at,user_id:L.user_id,artist_name:l?.full_name||l?.username||"Artista",full_name:l?.full_name||l?.username||"Artista"},onArtistClick:()=>{}},L.id))}):u.jsx("div",{className:"empty-portfolio",children:u.jsxs("div",{className:"empty-state",children:[u.jsx("h4",{children:"Nessun lavoro pubblicato"}),u.jsx("p",{children:"Questo artista non ha ancora caricato lavori personalizzati nel suo portfolio."})]})})]}),b==="servizi"&&u.jsxs("div",{className:"tab-panel servizi-panel",children:[u.jsxs("h3",{children:["SERVIZI OFFERTI ",!h&&d.length>0&&`(${d.length})`]}),h?u.jsxs("div",{className:"portfolio-loading",children:[u.jsx(Lt,{size:"large"}),u.jsx("p",{children:"Caricamento servizi..."})]}):d.length>0?u.jsx("div",{className:"services-list",children:d.map(L=>u.jsxs("div",{className:"service-item",children:[L.image_url&&u.jsx("div",{className:"service-image",children:u.jsx("img",{src:L.image_url,alt:L.name,className:"service-img"})}),u.jsxs("div",{className:"service-info",children:[u.jsx("h4",{children:L.name}),u.jsx("p",{children:L.description||""}),u.jsxs("div",{className:"service-details",children:[L.body_area&&L.body_area!=="N/A"&&u.jsxs("span",{className:"service-detail",children:[u.jsx("strong",{children:"Zona:"})," ",L.body_area]}),L.size_category&&L.size_category!=="N/A"&&u.jsxs("span",{className:"service-detail",children:[u.jsx("strong",{children:"Dimensione:"})," ",L.size_category]})]})]}),u.jsx("div",{className:"service-price",children:L.discount_percentage?u.jsxs("div",{className:"price-with-discount",children:[u.jsx("span",{className:"original-price",children:L.is_price_range?`€${L.price_min_range}-${L.price_max_range}`:`€${L.fixed_price}`}),u.jsx("span",{className:"discounted-price",children:L.is_price_range?`€${Math.round(L.price_min_range*(100-L.discount_percentage)/100)}-${Math.round(L.price_max_range*(100-L.discount_percentage)/100)}`:`€${Math.round(L.fixed_price*(100-L.discount_percentage)/100)}`})]}):u.jsx("span",{children:L.is_price_range?`€${L.price_min_range}-${L.price_max_range}`:`€${L.fixed_price}`})})]},L.id))}):u.jsx("div",{className:"empty-portfolio",children:u.jsxs("div",{className:"empty-state",children:[u.jsx("h4",{children:"Nessun servizio disponibile"}),u.jsx("p",{children:"Questo artista non ha ancora pubblicato i suoi servizi."})]})})]}),b==="flash"&&u.jsxs("div",{className:"tab-panel flash-panel",children:[u.jsxs("h3",{children:["DISEGNI FLASH DISPONIBILI ",!h&&`(${k.length})`]}),h?u.jsxs("div",{className:"portfolio-loading",children:[u.jsx(Lt,{size:"large"}),u.jsx("p",{children:"Caricamento flash..."})]}):k.length>0?u.jsx("div",{className:"artist-portfolio-grid",children:k.map(L=>u.jsx(wn,{item:{id:L.id,title:L.title,description:L.description||"",image_url:L.image_url,tags:L.tags||[],is_flash:L.is_flash,price:L.price,location:L.location,created_at:L.created_at,updated_at:L.updated_at,user_id:L.user_id,artist_name:l?.full_name||l?.username||"Artista",full_name:l?.full_name||l?.username||"Artista"},onArtistClick:()=>{}},L.id))}):u.jsx("div",{className:"empty-portfolio",children:u.jsxs("div",{className:"empty-state",children:[u.jsx("h4",{children:"Nessun flash disponibile"}),u.jsx("p",{children:"Questo artista non ha ancora caricato disegni flash disponibili."})]})})]}),b==="recensioni"&&u.jsxs("div",{className:"tab-panel recensioni-panel",children:[u.jsx("h3",{children:"RECENSIONI CLIENTI"}),u.jsxs("div",{className:"reviews-list",children:[u.jsxs("div",{className:"review-item",children:[u.jsxs("div",{className:"review-header",children:[u.jsxs("div",{className:"reviewer-info",children:[u.jsx("strong",{children:"Marco R."}),u.jsx("div",{className:"review-stars",children:"★★★★★"})]}),u.jsx("span",{className:"review-date",children:"15 Gen 2024"})]}),u.jsx("p",{className:"review-text",children:'"Esperienza fantastica! Professionalità al top e risultato perfetto. Il tatuaggio è venuto esattamente come volevo. Consigliatissimo!"'})]}),u.jsxs("div",{className:"review-item",children:[u.jsxs("div",{className:"review-header",children:[u.jsxs("div",{className:"reviewer-info",children:[u.jsx("strong",{children:"Giulia M."}),u.jsx("div",{className:"review-stars",children:"★★★★★"})]}),u.jsx("span",{className:"review-date",children:"8 Gen 2024"})]}),u.jsx("p",{className:"review-text",children:'"Artista incredibile! Studio pulito e igienizzato, grande attenzione ai dettagli. Il mio primo tatuaggio non poteva andare meglio."'})]}),u.jsxs("div",{className:"review-item",children:[u.jsxs("div",{className:"review-header",children:[u.jsxs("div",{className:"reviewer-info",children:[u.jsx("strong",{children:"Alessio T."}),u.jsx("div",{className:"review-stars",children:"★★★★★"})]}),u.jsx("span",{className:"review-date",children:"2 Gen 2024"})]}),u.jsx("p",{className:"review-text",children:`"Cover up riuscitissimo! Ha trasformato un vecchio tatuaggio in un'opera d'arte. Tempi rispettati e prezzo onesto."`})]})]}),u.jsx("div",{className:"reviews-summary",children:u.jsxs("div",{className:"rating-average",children:[u.jsx("span",{className:"rating-number",children:"4.9"}),u.jsx("div",{className:"rating-stars",children:"★★★★★"}),u.jsx("span",{className:"rating-count",children:"127 recensioni"})]})})]})]})]})]}):u.jsxs("div",{className:"error-state",children:[u.jsx("h2",{children:"Profilo non trovato"}),u.jsx("p",{children:"L'artista richiesto non è stato trovato."})]})})})]})}function hx({isOpen:r,title:i,message:s,confirmText:l="Conferma",cancelText:c="Annulla",onConfirm:d,onCancel:h}){if(w.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const v=m=>{m.target===m.currentTarget&&h()};return u.jsx("div",{className:"confirmation-overlay",onClick:v,children:u.jsxs("div",{className:"auth-modal confirmation-modal",children:[u.jsx("button",{className:"modal-close-btn",onClick:h,children:"×"}),u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{className:"modal-title",children:i}),u.jsx("p",{className:"modal-message",children:s}),u.jsxs("div",{className:"modal-actions",children:[u.jsx(gt,{icon:u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),text:c,variant:"modal",onClick:h}),u.jsx(gt,{icon:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("polyline",{points:"3,6 5,6 21,6"}),u.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),u.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),u.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),text:l,variant:"modal",onClick:d})]})]})]})})}function mx(){const r=zt(),{user:i,profile:s,loading:l,refreshProfile:c}=Je();w.useEffect(()=>{window.scrollTo(0,0)},[]),w.useEffect(()=>{!l&&s&&s.profile_type==="client"&&r("/")},[s,l,r]);const{fetchFollowerStats:d,getFollowerStats:h}=pr(),[v,m]=w.useState(!1),[p,g]=w.useState(!1),[b,x]=w.useState(!1),[S,E]=w.useState(null),[O,T]=w.useState("portfolio"),[k,B]=w.useState(!1),[A,P]=w.useState([]),[H,L]=w.useState(!0),[K,re]=w.useState({bio:s?.bio||"",location:s?.location||"",avatar_url:s?.avatar_url||""}),[F,Q]=w.useState({title:"",description:"",image_url:"",tags:"",is_flash:!1,price:""}),[te,I]=w.useState(null),[fe,ve]=w.useState(null),[Ne,U]=w.useState(""),[X,ae]=w.useState(null),Se=(Z,ie)=>{r(`/?search=${encodeURIComponent(Z)}&location=${encodeURIComponent(ie)}`)},N=()=>{r("/")},Y=async()=>{if(s?.user_id)try{const{data:Z,error:ie}=await de.from("portfolio_items").select("*").eq("user_id",s.user_id).order("created_at",{ascending:!1});if(ie){console.error("Error fetching portfolio items:",ie);return}const Ge=(Z||[]).map(ke=>({id:ke.id,title:ke.title,description:ke.description||"",image_url:ke.image_url,tags:ke.tags||[],is_flash:ke.is_flash||!1,price:ke.price,location:ke.location,created_at:ke.created_at,updated_at:ke.updated_at,user_id:ke.user_id,artist_name:s.full_name||s.username||"Tu",full_name:s.full_name||s.username||"Tu",artist_avatar_url:s.avatar_url}));P(Ge)}catch(Z){console.error("Error fetching portfolio items:",Z)}finally{L(!1)}},W=async Z=>{if(!i?.id||!s?.user_id)throw new Error("User not authenticated");try{const ie=Z.name.split(".").pop(),Ge=`${Date.now()}-${Math.random().toString(36).substring(2)}.${ie}`,ke=`${i.id}/${Ge}`,{error:Sa}=await de.storage.from("portfolio").upload(ke,Z,{cacheControl:"3600",upsert:!1});if(Sa)throw console.error("Storage upload error:",Sa),Sa;const{data:ja}=de.storage.from("portfolio").getPublicUrl(ke);return ja.publicUrl}catch(ie){throw console.error("Error uploading image:",ie),ie}},J=async()=>{if(!(!i||!s)){B(!0);try{let Z=F.image_url.trim()||null;if(te)try{Z=await W(te)}catch(Ge){console.error("Error uploading image:",Ge),alert("Errore durante il caricamento dell'immagine. Riprova."),B(!1);return}const{error:ie}=await de.from("portfolio_items").insert({user_id:s.user_id,title:F.title.trim(),description:F.description.trim()||null,image_url:Z,tags:F.tags?F.tags.split(",").map(Ge=>Ge.trim()).filter(Ge=>Ge):[],is_flash:F.is_flash,price:F.price?parseFloat(F.price):null,location:s.location||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(ie){console.error("Error uploading portfolio item:",ie),alert("Errore durante il caricamento del lavoro");return}ce(),await Y(),g(!1)}catch(Z){console.error("Error uploading portfolio item:",Z),alert("Errore durante il caricamento del lavoro")}finally{B(!1)}}},se=async()=>{if(!(!i||!s)){B(!0);try{let Z=K.avatar_url;if(fe)try{const Ge=Date.now(),ke=fe.name.split(".").pop(),Sa=`${i.id}/avatar_${Ge}.${ke}`,{data:ja,error:ta}=await de.storage.from("avatars").upload(Sa,fe,{cacheControl:"3600",upsert:!1});if(ta){console.error("Error uploading avatar:",ta),ta.message?.includes("Bucket not found")?alert("Errore: Il bucket per gli avatar non è configurato. Esegui il file fix-avatars-policies.sql nel database."):ta.message?.includes("The resource already exists")?alert("Avatar con questo nome già esistente. Riprova."):ta.message?.includes("row-level security policy")||ta.message?.includes("RLS")?alert("Errore di permessi: Le politiche RLS per gli avatar non sono configurate correttamente. Esegui il file fix-avatars-policies.sql nel database."):alert(`Errore durante il caricamento dell'avatar: ${ta.message}`);return}const{data:Gs}=de.storage.from("avatars").getPublicUrl(ja.path);Z=Gs.publicUrl}catch(Ge){console.error("Network error uploading avatar:",Ge),alert("Errore di rete. Verifica la connessione internet e riprova.");return}const{error:ie}=await de.from("profiles").update({bio:K.bio.trim(),location:K.location.trim(),avatar_url:Z,updated_at:new Date().toISOString()}).eq("user_id",s.user_id);if(ie){console.error("Error updating profile:",ie),alert("Errore durante l'aggiornamento del profilo");return}c&&await c(),ve(null),U(""),m(!1)}catch(Z){console.error("Error updating profile:",Z),alert("Errore durante l'aggiornamento del profilo")}finally{B(!1)}}},xe=Z=>{const ie=Z.target.files?.[0];if(ie){if(!ie.type.startsWith("image/")){alert("Seleziona un file immagine valido (JPG, PNG, GIF, WebP)");return}const Ge=5*1024*1024;if(ie.size>Ge){alert("Il file è troppo grande. Dimensione massima: 5MB");return}I(ie);const ke=new FileReader;ke.onload=()=>{ae(ke.result)},ke.readAsDataURL(ie)}},ce=()=>{Q({title:"",description:"",image_url:"",tags:"",is_flash:!1,price:""}),I(null),ae(null)},ct=Z=>{const ie=Z.target.files?.[0];if(ie){if(!ie.type.startsWith("image/")){alert("Seleziona un file immagine valido (JPG, PNG, GIF, WebP)");return}const Ge=2*1024*1024;if(ie.size>Ge){alert("Il file è troppo grande. Dimensione massima: 2MB");return}ve(ie);const ke=new FileReader;ke.onload=()=>{U(ke.result)},ke.readAsDataURL(ie)}},De=()=>{ve(null),U(""),K.avatar_url&&re(Z=>({...Z,avatar_url:""}))},Yt=["Racconta la tua storia come tatuatore","Descrivi il tuo stile artistico preferito","Menziona gli anni di esperienza","Parla delle tue specializzazioni","Condividi la tua filosofia sull'arte del tatuaggio"];w.useEffect(()=>{s&&(re({bio:s.bio||"",location:s.location||"",avatar_url:s.avatar_url||""}),Y())},[s]),w.useEffect(()=>(v||p||b?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[v,p,b]);const jn=(s?h(s.user_id):null)?.follower_count||0;w.useEffect(()=>{s?.user_id&&d([s.user_id])},[s?.user_id,d]),w.useEffect(()=>{!l&&(!i||!s)&&r("/")},[i,s,l,r]);const En=Z=>{E(Z),x(!0)},Ai=async()=>{if(S)try{const{error:Z}=await de.from("portfolio_items").delete().eq("id",S);if(Z){console.error("Error deleting portfolio item:",Z),alert("Errore durante l'eliminazione dell'elemento");return}P(ie=>ie.filter(Ge=>Ge.id!==S)),localStorage.setItem("portfolioItemsUpdated",Date.now().toString()),x(!1),E(null)}catch(Z){console.error("Error deleting portfolio item:",Z),alert("Errore durante l'eliminazione dell'elemento")}},Oi=()=>{x(!1),E(null)};if(l)return u.jsxs("div",{className:"artist-profile",children:[u.jsx(Ft,{onSearch:Se,onLogoClick:N,hideOnMobile:!0}),u.jsx("div",{className:"loading-state",children:u.jsx(Lt,{size:"large"})})]});if(!i||!s)return null;const Nn=!s?.bio||!s?.location;return u.jsxs("div",{className:"artist-profile",children:[u.jsx(Ft,{onSearch:Se,onLogoClick:N,hideOnMobile:!0}),u.jsx("main",{className:"artist-profile-content",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"artist-profile-main",children:[u.jsx("section",{className:"artist-profile-header",children:u.jsxs("div",{className:"profile-info",children:[u.jsx(Vt,{src:s.avatar_url,name:s.full_name,alt:`Avatar di ${s.full_name||s.username||"Utente"}`,size:"lg",variant:"bordered"}),u.jsxs("div",{className:"profile-details",children:[u.jsx("h1",{className:"profile-name",children:s.full_name||s.username||"Nome non disponibile"}),s.location&&u.jsxs("p",{className:"profile-location",children:["📍 ",s.location]}),s.bio&&u.jsx("p",{className:"profile-bio",children:s.bio}),u.jsx("div",{className:"profile-stats",children:u.jsxs("span",{className:"follower-count",children:[u.jsx("strong",{children:jn.toLocaleString()})," follower"]})}),u.jsx("div",{className:"profile-actions",children:u.jsxs("button",{className:"action-btn",onClick:()=>m(!0),children:[u.jsx("span",{className:"action-icon",children:u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),u.jsx("span",{className:"action-text",children:Nn?"Completa il profilo":"Modifica Profilo"})]})})]})]})}),u.jsxs("section",{className:"artist-profile-tabs",children:[u.jsxs("div",{className:"tabs-navigation",children:[u.jsx("button",{className:`tab-button ${O==="portfolio"?"active":""}`,onClick:()=>T("portfolio"),children:"PORTFOLIO"}),u.jsx("button",{className:`tab-button ${O==="flash"?"active":""}`,onClick:()=>T("flash"),children:"FLASH"}),u.jsx("button",{className:`tab-button ${O==="servizi"?"active":""}`,onClick:()=>T("servizi"),children:"SERVIZI"}),u.jsx("button",{className:`tab-button ${O==="recensioni"?"active":""}`,onClick:()=>T("recensioni"),children:"RECENSIONI"})]}),u.jsxs("div",{className:"tab-content",children:[O==="portfolio"&&u.jsxs("div",{className:"tab-panel portfolio-panel",children:[u.jsxs("h3",{children:["GALLERIA LAVORI (",A.filter(Z=>!Z.is_flash).length,")"]}),H?u.jsxs("div",{className:"portfolio-loading",children:[u.jsx(Lt,{size:"large"}),u.jsx("p",{children:"Caricamento portfolio..."})]}):A.filter(Z=>!Z.is_flash).length>0?u.jsx("div",{className:"artist-portfolio-grid",children:A.filter(Z=>!Z.is_flash).map(Z=>u.jsx(wn,{item:Z,onArtistClick:()=>{},showDeleteButton:!0,onDelete:En},Z.id))}):u.jsx("div",{className:"empty-portfolio",children:u.jsxs("div",{className:"empty-state",children:[u.jsx("h4",{children:"Portfolio vuoto"}),u.jsx("p",{children:"I tuoi lavori appariranno qui una volta che inizierai a caricarli."}),u.jsx(gt,{icon:u.jsx(Vc,{}),text:"Aggiungi Lavoro",onClick:()=>g(!0)})]})})]}),O==="servizi"&&u.jsxs("div",{className:"tab-panel servizi-panel",children:[u.jsx("h3",{children:"I MIEI SERVIZI"}),u.jsx("div",{className:"empty-portfolio",children:u.jsxs("div",{className:"empty-state",children:[u.jsx("h4",{children:"Nessun servizio pubblicato"}),u.jsx("p",{children:"Aggiungi i tuoi servizi per far conoscere ai clienti cosa offri."})]})})]}),O==="flash"&&u.jsxs("div",{className:"tab-panel flash-panel",children:[u.jsxs("h3",{children:["DISEGNI FLASH DISPONIBILI (",A.filter(Z=>Z.is_flash).length,")"]}),H?u.jsxs("div",{className:"portfolio-loading",children:[u.jsx(Lt,{size:"large"}),u.jsx("p",{children:"Caricamento flash..."})]}):A.filter(Z=>Z.is_flash).length>0?u.jsx("div",{className:"artist-portfolio-grid",children:A.filter(Z=>Z.is_flash).map(Z=>u.jsx(wn,{item:Z,onArtistClick:()=>{},showDeleteButton:!0,onDelete:En},Z.id))}):u.jsx("div",{className:"empty-portfolio",children:u.jsxs("div",{className:"empty-state",children:[u.jsx("h4",{children:"Nessun flash disponibile"}),u.jsx("p",{children:"I tuoi disegni flash appariranno qui una volta che inizierai a caricarli."}),u.jsx(gt,{icon:u.jsx(Vc,{}),text:"Aggiungi Flash",onClick:()=>{Q(Z=>({...Z,is_flash:!0})),g(!0)}})]})})]}),O==="recensioni"&&u.jsxs("div",{className:"tab-panel recensioni-panel",children:[u.jsx("h3",{children:"LE MIE RECENSIONI"}),u.jsx("div",{className:"empty-portfolio",children:u.jsxs("div",{className:"empty-state",children:[u.jsx("h4",{children:"Nessuna recensione"}),u.jsx("p",{children:"Le recensioni dei tuoi clienti appariranno qui."})]})})]})]})]})]})})}),v&&u.jsx("div",{className:"auth-overlay",onClick:Z=>Z.target===Z.currentTarget&&m(!1),children:u.jsxs("div",{className:"auth-modal complete-profile-modal",children:[u.jsx("div",{className:"auth-header-sticky",children:u.jsx("button",{className:"auth-close-btn",onClick:()=>m(!1),children:"×"})}),u.jsx("div",{className:"auth-modal-header"}),u.jsxs("div",{className:"complete-profile-content",children:[u.jsx("h2",{className:"complete-profile-title",children:Nn?"COMPLETA IL TUO PROFILO":"MODIFICA PROFILO"}),u.jsx("p",{className:"complete-profile-description",children:Nn?"Aggiungi le informazioni mancanti per completare il tuo profilo":"Modifica le informazioni del tuo profilo"}),u.jsxs("form",{className:"complete-profile-form",onSubmit:Z=>Z.preventDefault(),children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"avatar",className:"form-label",children:"FOTO PROFILO"}),u.jsxs("div",{className:"avatar-upload-section",children:[u.jsx("div",{className:"current-avatar",children:Ne?u.jsx("div",{className:"avatar avatar-md avatar-default",children:u.jsx("img",{src:Ne,alt:"Anteprima avatar",className:"avatar-image"})}):K.avatar_url?u.jsx("div",{className:"avatar avatar-md avatar-default",children:u.jsx("img",{src:K.avatar_url,alt:"Avatar attuale",className:"avatar-image"})}):u.jsx("div",{className:"avatar avatar-md avatar-default",children:u.jsx("div",{className:"avatar-placeholder",children:(s?.full_name||s?.username||i?.email||"U").split(" ").map(Z=>Z[0]).join("").substring(0,2).toUpperCase()})})}),u.jsxs("div",{className:"avatar-upload-controls",children:[u.jsx("input",{type:"file",id:"avatar",accept:"image/*",onChange:ct,className:"file-input",style:{display:"none"}}),u.jsx(gt,{icon:u.jsx(Vc,{}),text:K.avatar_url||Ne?"Cambia foto":"Carica foto",onClick:()=>document.getElementById("avatar")?.click()}),(Ne||K.avatar_url)&&u.jsx(gt,{icon:u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),text:"Rimuovi",onClick:De,variant:"secondary"})]})]}),u.jsx("div",{className:"form-help",children:"Formati supportati: JPG, PNG, GIF, WebP. Dimensione massima: 2MB"})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"bio",className:"form-label",children:["BIO ",!s?.bio&&u.jsx("span",{className:"required-indicator",children:"*"})]}),u.jsx("textarea",{id:"bio",className:"form-textarea",placeholder:"Raccontaci qualcosa su di te...",value:K.bio,onChange:Z=>re(ie=>({...ie,bio:Z.target.value})),rows:4,maxLength:500}),u.jsxs("div",{className:"bio-suggestions",children:[u.jsx("p",{className:"suggestions-title",children:"💡 Suggerimenti per la bio:"}),u.jsx("ul",{className:"suggestions-list",children:Yt.map((Z,ie)=>u.jsx("li",{className:"suggestion-item",children:Z},ie))})]}),u.jsxs("div",{className:"char-count",children:[K.bio.length,"/500 caratteri"]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"location",className:"form-label",children:["LOCALITÀ ",!s?.location&&u.jsx("span",{className:"required-indicator",children:"*"})]}),u.jsx("input",{type:"text",id:"location",className:"form-input",placeholder:"Es. Milano, Italia",value:K.location,onChange:Z=>re(ie=>({...ie,location:Z.target.value})),maxLength:100})]}),u.jsxs("div",{className:"form-actions",children:[u.jsxs("button",{type:"button",className:"action-btn",onClick:()=>m(!1),disabled:k,children:[u.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),u.jsx("span",{className:"action-text",children:"Annulla"})]}),u.jsxs("button",{type:"button",className:"action-btn",onClick:se,disabled:k||!K.bio.trim()||!K.location.trim(),children:[u.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{d:"M20 6L9 17l-5-5"})}),u.jsx("span",{className:"action-text",children:k?"Salvando...":Nn?"Completa Profilo":"Salva Modifiche"})]})]})]})]})]})}),p&&u.jsx("div",{className:"auth-overlay",onClick:Z=>Z.target===Z.currentTarget&&(g(!1),ce()),children:u.jsxs("div",{className:"auth-modal upload-portfolio-modal",children:[u.jsx("div",{className:"auth-header-sticky",children:u.jsx("button",{className:"auth-close-btn",onClick:()=>{g(!1),ce()},children:"×"})}),u.jsx("div",{className:"auth-modal-header"}),u.jsxs("div",{className:"upload-portfolio-content",children:[u.jsx("h2",{className:"upload-portfolio-title",children:"AGGIUNGI LAVORO"}),u.jsx("p",{className:"upload-portfolio-description",children:"Carica un nuovo lavoro nel tuo portfolio"}),u.jsxs("form",{className:"upload-portfolio-form",onSubmit:Z=>Z.preventDefault(),children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"title",className:"form-label",children:["TITOLO ",u.jsx("span",{className:"required-indicator",children:"*"})]}),u.jsx("input",{type:"text",id:"title",className:"form-input",placeholder:"Es. Tatuaggio Tribale",value:F.title,onChange:Z=>Q(ie=>({...ie,title:Z.target.value})),maxLength:100})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"description",className:"form-label",children:"DESCRIZIONE"}),u.jsx("textarea",{id:"description",className:"form-textarea",placeholder:"Descrivi il lavoro, tecnica utilizzata, significato...",value:F.description,onChange:Z=>Q(ie=>({...ie,description:Z.target.value})),rows:3,maxLength:500}),u.jsxs("div",{className:"char-count",children:[F.description.length,"/500 caratteri"]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"image_file",className:"form-label",children:"IMMAGINE"}),u.jsx("input",{type:"file",id:"image_file",className:"form-input file-input",accept:"image/*",onChange:xe}),u.jsx("div",{className:"form-help",children:"Formati supportati: JPG, PNG, GIF, WebP (max 5MB)"}),X&&u.jsxs("div",{className:"image-preview",children:[u.jsx("img",{src:X,alt:"Anteprima",className:"preview-image"}),u.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>{I(null),ae(null);const Z=document.getElementById("image_file");Z&&(Z.value="")},children:"✕"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"tags",className:"form-label",children:"TAG"}),u.jsx("input",{type:"text",id:"tags",className:"form-input",placeholder:"Es. tribale, braccio, nero",value:F.tags,onChange:Z=>Q(ie=>({...ie,tags:Z.target.value}))}),u.jsx("div",{className:"form-help",children:"Separa i tag con virgole"})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:F.is_flash,onChange:Z=>Q(ie=>({...ie,is_flash:Z.target.checked}))}),u.jsx("span",{className:"checkbox-text",children:"È un disegno flash disponibile"})]})}),F.is_flash&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"price",className:"form-label",children:"PREZZO (€)"}),u.jsx("input",{type:"number",id:"price",className:"form-input",placeholder:"120",min:"0",step:"0.01",value:F.price,onChange:Z=>Q(ie=>({...ie,price:Z.target.value}))})]}),u.jsxs("div",{className:"form-actions",children:[u.jsxs("button",{type:"button",className:"action-btn",onClick:()=>{g(!1),ce()},disabled:k,children:[u.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),u.jsx("span",{className:"action-text",children:"Annulla"})]}),u.jsxs("button",{type:"button",className:"action-btn",onClick:J,disabled:k||!F.title.trim(),children:[u.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{d:"M12 5v14m7-7l-7-7-7 7"})}),u.jsx("span",{className:"action-text",children:k?"Caricando...":"Aggiungi Lavoro"})]})]})]})]})]})}),u.jsx(hx,{isOpen:b,title:"Elimina elemento",message:"Sei sicuro di voler eliminare questo elemento dal portfolio? Questa azione non può essere annullata.",confirmText:"Elimina",cancelText:"Annulla",onConfirm:Ai,onCancel:Oi})]})}function vx({title:r,subtitle:i,actions:s,className:l=""}){return u.jsx("div",{className:`page-header ${l}`,children:u.jsxs("div",{className:"header-card",children:[u.jsxs("div",{className:"header-top",children:[u.jsx("h2",{className:"grid-title",children:r}),s&&u.jsx("div",{className:"header-actions",children:s})]}),i&&u.jsx("p",{className:"grid-subtitle",children:i})]})})}function px({onLogoClick:r,onArtistClick:i}){const{savedTattoos:s,loading:l,refreshSavedTattoos:c}=pu(),[d,h]=w.useState([]),[v,m]=w.useState(!0),[p,g]=w.useState(null);return w.useEffect(()=>{window.scrollTo(0,0)},[]),w.useEffect(()=>{(async()=>{if(l||s.size===0){h([]),m(!1);return}try{m(!0);const x=Array.from(s),{data:S,error:E}=await de.from("saved_tattoos").select("portfolio_item_id, created_at").in("portfolio_item_id",x).order("created_at",{ascending:!1});if(E){g("Errore nel caricamento degli elementi salvati"),console.error("Error loading saved items:",E.message);return}const{data:O,error:T}=await de.from("portfolio_items").select(`
            *,
            profiles!inner(
              user_id,
              full_name,
              username,
              profile_type,
              bio,
              location
            )
          `).in("id",x);if(T){g("Errore nel caricamento degli elementi salvati"),console.error("Error loading portfolio items:",T.message);return}const k=new Map(O.map(A=>[A.id,A])),B=S.map(A=>{const P=k.get(A.portfolio_item_id);return P?{...P,artist_name:P.profiles.full_name||P.profiles.username||"Unknown",full_name:P.profiles.full_name,username:P.profiles.username,profile_type:P.profiles.profile_type,bio:P.profiles.bio,artist_location:P.profiles.location}:null}).filter(A=>A!==null);h(B),g(null)}catch(x){g("Errore nel caricamento degli elementi salvati"),console.error("Error loading saved items:",x)}finally{m(!1)}})()},[s,l]),v||l?u.jsxs("div",{className:"saved-items-page",children:[u.jsx(Ft,{onLogoClick:r,hideOnMobile:!0}),u.jsx("div",{className:"saved-items-loading",children:u.jsx(Lt,{})})]}):u.jsxs("div",{className:"saved-items-page",children:[u.jsx(Ft,{onLogoClick:r,hideOnMobile:!0}),u.jsx("div",{className:"container",children:u.jsxs("div",{className:"saved-items-content",children:[d.length>0&&u.jsx(vx,{title:"ELEMENTI SALVATI",subtitle:d.length===1?"1 elemento salvato":`${d.length} elementi salvati`}),p&&u.jsx("div",{className:"error-state",children:u.jsxs("div",{className:"error-content",children:[u.jsx("p",{className:"error-message",children:p}),u.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>c(),style:{marginTop:"1.5rem"},children:"Riprova"})]})}),!p&&d.length===0&&u.jsx("div",{className:"empty-state",children:u.jsxs("div",{className:"empty-content",children:[u.jsx("div",{className:"empty-icon",children:"💾"}),u.jsx("h2",{className:"empty-title",children:"Nessun tatuaggio salvato"}),u.jsx("p",{className:"empty-description",children:"Inizia a esplorare i portfolio degli artisti e salva i tatuaggi che ti piacciono."}),u.jsx("button",{className:"btn btn-accent",onClick:r,style:{marginTop:"1.5rem"},children:"Esplora Portfolio"})]})}),!p&&d.length>0&&u.jsx("div",{className:"portfolio-grid",children:d.map(b=>u.jsx(wn,{item:b,onArtistClick:i},b.id))})]})})]})}function gx({chats:r,selectedChatId:i,onChatSelect:s,onRequestDeleteChat:l,showOnMobile:c=!0}){const d=v=>{const m=new Date(v),g=(new Date().getTime()-m.getTime())/(1e3*60*60);return g<24?m.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}):g<48?"Ieri":m.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"})},h=(v,m)=>{v.stopPropagation(),l(m)};return u.jsxs("div",{className:`chat-list ${c?"mobile-visible":""}`,children:[u.jsxs("div",{className:"chat-list-header",children:[u.jsx("h2",{className:"chat-list-title",children:"MESSAGGI"}),u.jsxs("span",{className:"chat-count",children:[r.length," conversazioni"]})]}),u.jsx("div",{className:"chat-list-items",children:r.length===0?u.jsxs("div",{className:"empty-chat-list",children:[u.jsx("div",{className:"empty-chat-icon",children:"💬"}),u.jsx("p",{className:"empty-chat-text",children:"Nessuna conversazione ancora"})]}):r.map(v=>u.jsxs("div",{className:`chat-item ${i===v.id?"active":""}`,onClick:()=>s(v.id),children:[u.jsx("div",{className:"chat-avatar",children:u.jsx(Vt,{src:v.participant.avatar,name:v.participant.name,alt:`Avatar di ${v.participant.name}`,size:"sm",variant:"default"})}),u.jsxs("div",{className:"chat-content",children:[u.jsxs("div",{className:"chat-header",children:[u.jsx("h3",{className:"chat-participant-name",children:v.participant.name}),u.jsxs("div",{className:"chat-header-actions",children:[u.jsx("span",{className:"chat-timestamp",children:d(v.timestamp)}),u.jsx("button",{className:"chat-delete-btn",onClick:m=>h(m,{id:v.id,participant:{name:v.participant.name}}),title:"Elimina conversazione","aria-label":"Elimina conversazione",children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("polyline",{points:"3,6 5,6 21,6"}),u.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})})]})]}),u.jsxs("div",{className:"chat-preview",children:[u.jsx("p",{className:"chat-last-message",children:v.lastMessage}),v.unreadCount>0&&u.jsx("span",{className:"chat-unread-count",children:v.unreadCount})]})]})]},v.id))})]})}function yx(){const{user:r}=Je(),[i,s]=w.useState([]),[l,c]=w.useState([]),[d,h]=w.useState(!0),[v,m]=w.useState(null),p=w.useCallback(async()=>{if(r)try{h(!0),m(null);const{data:T,error:k}=await de.from("user_conversation_deletions").select("participant_id").eq("user_id",r.id);k&&k.code!=="PGRST116"&&console.error("Error fetching deleted conversations:",k);const B=new Set(T?.map(I=>I.participant_id)||[]),{data:A,error:P}=await de.from("messages").select(`
          id,
          sender_id,
          receiver_id,
          content,
          created_at,
          is_read
        `).or(`sender_id.eq.${r.id},receiver_id.eq.${r.id}`).is("deleted_at",null).order("created_at",{ascending:!1});if(P)throw console.error("Supabase query error:",P),P;const H=A;if(H.length===0){s([]),c([]);return}const L=H.filter(I=>{const fe=I.sender_id===r.id?I.receiver_id:I.sender_id;return!B.has(fe)});if(L.length===0){s([]),c([]);return}const K=new Set;K.add(r.id),L.forEach(I=>{K.add(I.sender_id),K.add(I.receiver_id)});const re=new Map;if(K.size>0)try{const{data:I,error:fe}=await de.from("profiles").select("user_id, full_name, username, avatar_url").in("user_id",Array.from(K));!fe&&I&&I.forEach(ve=>{re.set(ve.user_id,ve)})}catch(I){console.warn("Could not fetch profile data, using fallback names:",I)}const F=new Map;L.forEach(I=>{const fe=I.sender_id===r.id,ve=fe?I.receiver_id:I.sender_id,Ne=[r.id,ve].sort(),U=`${Ne[0]}__${Ne[1]}`;if(!F.has(U)){const X=L.filter(N=>N.sender_id===ve&&N.receiver_id===r.id&&!N.is_read).length,ae=re.get(ve),Se=ae?.full_name||ae?.username||`User ${ve.slice(0,8)}`;F.set(U,{id:U,participant:{user_id:ve,name:Se,username:ae?.username||"",avatar:ae?.avatar_url||null},lastMessage:I.content,timestamp:I.created_at,unreadCount:X,isFromCurrentUser:fe})}});const Q=Array.from(F.values());s(Q);const te=L.map(I=>{const fe=re.get(I.sender_id),ve=re.get(I.receiver_id);return{id:I.id,sender_id:I.sender_id,receiver_id:I.receiver_id,content:I.content,created_at:I.created_at,is_read:I.is_read,deleted_at:null,sender:{user_id:I.sender_id,full_name:fe?.full_name||fe?.username||`User ${I.sender_id.slice(0,8)}`,username:fe?.username||"",avatar_url:fe?.avatar_url||null},receiver:{user_id:I.receiver_id,full_name:ve?.full_name||ve?.username||`User ${I.receiver_id.slice(0,8)}`,username:ve?.username||"",avatar_url:ve?.avatar_url||null}}});c(te)}catch(T){m(T instanceof Error?T.message:"Failed to fetch messages"),console.error("Error fetching conversations:",T)}finally{h(!1)}},[r]),g=w.useCallback(async T=>{if(!r)return[];try{const{data:k,error:B}=await de.from("user_conversation_deletions").select("participant_id").eq("user_id",r.id).eq("participant_id",T);if(B&&B.code!=="PGRST116"&&console.error("Error checking deleted conversations:",B),k&&k.length>0)return[];const{data:A,error:P}=await de.from("messages").select(`
          id,
          sender_id,
          receiver_id,
          content,
          created_at,
          is_read
        `).or(`and(sender_id.eq.${r?.id},receiver_id.eq.${T}),and(sender_id.eq.${T},receiver_id.eq.${r?.id})`).is("deleted_at",null).order("created_at",{ascending:!0});if(P)throw P;const H=A;if(H.length===0)return[];const L=[r.id,T],K=new Map;try{const{data:F,error:Q}=await de.from("profiles").select("user_id, full_name, username, avatar_url").in("user_id",L);!Q&&F&&F.forEach(te=>{K.set(te.user_id,te)})}catch(F){console.warn("Could not fetch profile data for conversation, using fallback names:",F)}return H.map(F=>{const Q=K.get(F.sender_id),te=K.get(F.receiver_id);return{id:F.id,sender_id:F.sender_id,receiver_id:F.receiver_id,content:F.content,created_at:F.created_at,is_read:F.is_read,deleted_at:null,sender:{user_id:F.sender_id,full_name:Q?.full_name||Q?.username||`User ${F.sender_id.slice(0,8)}`,username:Q?.username||"",avatar_url:Q?.avatar_url||null},receiver:{user_id:F.receiver_id,full_name:te?.full_name||te?.username||`User ${F.receiver_id.slice(0,8)}`,username:te?.username||"",avatar_url:te?.avatar_url||null}}})}catch(k){return console.error("Error fetching conversation messages:",k),[]}},[r]),b=w.useCallback(async(T,k)=>{if(r)try{const B=[r.id,T].sort(),A=`${B[0]}__${B[1]}`;if(i.find(H=>H.id===A))s(H=>H.map(L=>L.id===A?{...L,lastMessage:k,timestamp:new Date().toISOString(),isFromCurrentUser:!0}:L));else{let H=null;try{const{data:K,error:re}=await de.from("profiles").select("user_id, full_name, username, avatar_url").eq("user_id",T).single();!re&&K&&(H=K)}catch(K){console.warn("Could not fetch receiver profile:",K)}const L={id:A,participant:{user_id:T,name:H?.full_name||H?.username||`User ${T.slice(0,8)}`,username:H?.username||"",avatar:H?.avatar_url||null},lastMessage:k,timestamp:new Date().toISOString(),unreadCount:0,isFromCurrentUser:!0};s(K=>[L,...K])}}catch(B){console.error("Error updating conversation locally:",B)}},[r,i]),x=w.useCallback(async(T,k)=>{if(!r||!k.trim())return!1;try{const{error:B}=await de.from("messages").insert([{sender_id:r.id,receiver_id:T,content:k.trim()}]);if(B)throw B;return await b(T,k.trim()),!0}catch(B){return console.error("Error sending message:",B),m(B instanceof Error?B.message:"Failed to send message"),!1}},[r,b]),S=async T=>{if(r)try{const{error:k}=await de.from("messages").update({is_read:!0}).eq("sender_id",T).eq("receiver_id",r.id).eq("is_read",!1);if(k)throw k;s(B=>B.map(A=>A.participant.user_id===T?{...A,unreadCount:0}:A))}catch(k){console.error("Error marking messages as read:",k)}},E=async T=>{if(r)try{const{error:k}=await de.from("user_conversation_deletions").upsert({user_id:r.id,participant_id:T,deleted_at:new Date().toISOString()},{onConflict:"user_id,participant_id"});if(k)throw k;s(B=>B.filter(A=>A.participant.user_id!==T))}catch(k){console.error("Error deleting conversation:",k),m(k instanceof Error?k.message:"Failed to delete conversation")}},O=()=>i.reduce((T,k)=>T+k.unreadCount,0);return w.useEffect(()=>{p()},[r]),{conversations:i,messages:l,loading:d,error:v,sendMessage:x,fetchConversationMessages:g,markConversationAsRead:S,deleteConversation:E,getUnreadCount:O,refreshConversations:p}}function _x({chat:r,isVisible:i,onRequestDeleteChat:s,sendMessage:l,fetchConversationMessages:c,showOnMobile:d=!0,onBackToList:h}){const{user:v}=Je(),[m,p]=w.useState(""),[g,b]=w.useState([]),[x,S]=w.useState(!1),E=A=>{if(!v)return null;const[P,H]=A.split("__");return P===v.id?H:P};w.useEffect(()=>{if(!r){b([]),p(""),S(!1);return}(async()=>{const P=E(r.id);if(!(!P||!c)){S(!0);try{const L=(await c(P)).map(K=>({id:K.id,content:K.content,timestamp:K.created_at,isFromCurrentUser:K.sender_id===v?.id}));b(L)}catch(H){console.error("Error loading conversation messages:",H),b([])}finally{S(!1)}}})()},[r?.id,v?.id,c]);const O=A=>new Date(A).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),T=async()=>{if(!m.trim()||!r||!v||!l)return;const A=E(r.id);if(A)try{const P={id:Date.now().toString(),content:m.trim(),timestamp:new Date().toISOString(),isFromCurrentUser:!0};b(L=>[...L,P]),p(""),await l(A,m.trim())||(b(L=>L.filter(K=>K.id!==P.id)),p(m.trim()))}catch(P){console.error("Error sending message:",P),b(H=>H.filter(L=>L.id===Date.now().toString()))}},k=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),T())},B=()=>{r&&s&&s({id:r.id,participant:{name:r.participant.name}})};return!i||!r?u.jsx("div",{className:`chat-conversation empty ${d?"mobile-visible":""}`,children:u.jsxs("div",{className:"empty-conversation",children:[u.jsx("div",{className:"empty-conversation-icon",children:"💬"}),u.jsx("h3",{className:"empty-conversation-title",children:"Seleziona una conversazione"}),u.jsx("p",{className:"empty-conversation-text",children:"Scegli una chat dalla lista per iniziare a messaggiare"})]})}):u.jsxs("div",{className:`chat-conversation ${d?"mobile-visible":""}`,children:[u.jsxs("div",{className:"conversation-header",children:[u.jsxs("div",{className:"conversation-participant",children:[u.jsx(gt,{icon:u.jsx(nx,{}),text:"Indietro",variant:"secondary",onClick:h,className:"mobile-back-action"}),u.jsx(Vt,{src:r.participant.avatar,name:r.participant.name,alt:`Avatar di ${r.participant.name}`,size:"sm",variant:"default"}),u.jsx("h2",{className:"participant-name",children:r.participant.name||"Nome non disponibile"})]}),u.jsx("div",{className:"conversation-actions",children:u.jsx(gt,{icon:u.jsx(ax,{}),text:"Elimina",variant:"secondary",onClick:A=>{A.stopPropagation(),A.preventDefault(),B()},className:"delete-chat-action"})})]}),u.jsx("div",{className:"messages-container",children:u.jsx("div",{className:"messages-list",children:x?u.jsx("div",{className:"loading-messages",children:u.jsx("p",{children:"Caricamento messaggi..."})}):g.length===0?u.jsx("div",{className:"empty-messages",children:u.jsx("p",{children:"Nessun messaggio ancora. Inizia la conversazione!"})}):g.map(A=>u.jsx("div",{className:`message ${A.isFromCurrentUser?"sent":"received"}`,children:u.jsxs("div",{className:"message-bubble",children:[u.jsx("p",{className:"message-content",children:A.content}),u.jsx("span",{className:"message-time",children:O(A.timestamp)})]})},A.id))})}),u.jsx("div",{className:"message-input-container",children:u.jsxs("div",{className:"message-input-wrapper",children:[u.jsx("textarea",{className:"message-input",placeholder:"Scrivi un messaggio...",value:m,onChange:A=>p(A.target.value),onKeyPress:k,rows:1}),u.jsx(gt,{icon:u.jsx(ix,{}),text:"Invia",variant:"secondary",onClick:T,disabled:!m.trim(),className:"send-message-action"})]})})]})}const Im=(r,i)=>{const s=[r,i].sort();return`${s[0]}__${s[1]}`};function bx({isOpen:r,title:i,message:s,confirmText:l="Conferma",cancelText:c="Annulla",onConfirm:d,onCancel:h}){w.useEffect(()=>{const g=b=>{b.key==="Escape"&&h()};if(r)return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r,h]);const v=g=>{g.target===g.currentTarget&&h()},m=()=>{h()},p=()=>{d()};return r?u.jsx("div",{className:"auth-overlay",onClick:v,children:u.jsxs("div",{className:"auth-modal",children:[u.jsx("div",{className:"auth-header-sticky",children:u.jsx("button",{className:"auth-close-btn",onClick:m,children:"×"})}),u.jsx("div",{className:"auth-modal-header",children:u.jsx("div",{className:"confirmation-header-title",children:u.jsx("h2",{className:"confirmation-title",children:i})})}),u.jsxs("div",{className:"auth-content",children:[u.jsx("div",{className:"confirmation-message-section",children:u.jsx("p",{className:"confirmation-text",children:s})}),u.jsxs("div",{className:"confirmation-actions",children:[u.jsxs("button",{className:"action-btn confirmation-cancel-action",onClick:m,children:[u.jsx("span",{className:"action-icon",children:u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),u.jsx("span",{className:"action-text",children:c})]}),u.jsxs("button",{className:"action-btn confirmation-confirm-action",onClick:p,children:[u.jsx("span",{className:"action-icon",children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("polyline",{points:"3,6 5,6 21,6"}),u.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})}),u.jsx("span",{className:"action-text",children:l})]})]})]})]})}):null}function Jm({onLogoClick:r}){const{artistId:i}=rv();w.useEffect(()=>{window.scrollTo(0,0)},[]);const{user:s}=Je(),{conversations:l,loading:c,error:d,deleteConversation:h,markConversationAsRead:v,sendMessage:m,fetchConversationMessages:p}=yx(),[g,b]=w.useState(null),[x,S]=w.useState(null),[E,O]=w.useState(null),[T,k]=w.useState(!1),B=l.map(Q=>({id:Q.id,participant:{name:Q.participant.name,avatar:Q.participant.avatar},lastMessage:Q.lastMessage,timestamp:Q.timestamp,unreadCount:Q.unreadCount}));w.useEffect(()=>{if(i&&s){const Q=Im(s.id,i);l.find(I=>I.id===Q)?(b(Q),S(null)):A(i)}},[i,s,l]),w.useEffect(()=>{g&&x&&l.find(te=>te.id===g)&&S(null)},[l,g,x]);const A=async Q=>{try{const{data:te,error:I}=await de.from("profiles").select("user_id, full_name, username, avatar_url").eq("user_id",Q).single();if(I){console.error("Error fetching artist profile:",I);return}const fe={id:Q,name:te?.full_name||te?.username||"Unknown Artist",avatar:te?.avatar_url};if(s){const ve=Im(s.id,Q);b(ve),S(fe)}}catch(te){console.error("Error fetching artist profile:",te)}};let P=g?B.find(Q=>Q.id===g):null;if(g&&!P&&!x){b(null);return}!P&&x&&g&&(P={id:g,participant:{name:x.name,avatar:x.avatar},lastMessage:"",timestamp:new Date().toISOString(),unreadCount:0});const H=Q=>{b(Q),k(!0);const te=l.find(I=>I.id===Q);te&&te.unreadCount>0&&v(te.participant.user_id)},L=()=>{k(!1),b(null),S(null)},K=Q=>{setTimeout(()=>{O({id:Q.id,participantName:Q.participant.name})},0)},re=async()=>{if(E)try{const Q=l.find(te=>te.id===E.id);Q&&(g===E.id&&(b(null),S(null)),await h(Q.participant.user_id))}catch(Q){console.error("Failed to delete conversation:",Q)}O(null)},F=()=>{O(null)};return c?u.jsxs("div",{className:"messages-page",children:[u.jsx(Ft,{onLogoClick:r,hideOnMobile:!0}),u.jsx("div",{className:"messages-container",children:u.jsx("div",{className:"messages-loading",children:u.jsx(Lt,{})})})]}):d?u.jsxs("div",{className:"messages-page",children:[u.jsx(Ft,{onLogoClick:r,hideOnMobile:!0}),u.jsx("div",{className:"messages-container",children:u.jsx("div",{className:"messages-content",children:u.jsxs("div",{className:"error-message",children:[u.jsx("h3",{children:"Errore caricamento messaggi"}),u.jsx("p",{children:d})]})})})]}):u.jsxs("div",{className:"messages-page",children:[u.jsx(Ft,{onLogoClick:r,hideOnMobile:!0}),u.jsx("div",{className:"messages-container",children:u.jsxs("div",{className:"messages-content",children:[u.jsx(gx,{chats:B,selectedChatId:g,onChatSelect:H,onRequestDeleteChat:K,showOnMobile:!T}),u.jsx(_x,{chat:P,isVisible:g!==null,onRequestDeleteChat:K,sendMessage:m,fetchConversationMessages:p,showOnMobile:T&&g!==null,onBackToList:L})]})}),u.jsx(bx,{isOpen:E!==null,title:"Elimina Conversazione",message:E?`Vuoi davvero eliminare la conversazione con ${E.participantName}? Questa azione non può essere annullata.`:"",confirmText:"Elimina",cancelText:"Annulla",onConfirm:re,onCancel:F})]})}function xx({onLogoClick:r}){const{user:i,profile:s,refreshProfile:l}=Je(),[c,d]=w.useState(!1),[h,v]=w.useState(null),[m,p]=w.useState(!1),[g,b]=w.useState(!1),x=zt(),S=async()=>{if(!i||!s){v("Devi essere autenticato per diventare un artista");return}if(s.profile_type==="artist"){v("Il tuo profilo è già un profilo artista");return}d(!0),v(null);try{const{error:E}=await de.from("profiles").update({profile_type:"artist"}).eq("user_id",i.id);if(E)throw E;await l(),p(!0),setTimeout(()=>{x("/profile")},2e3)}catch(E){v(`Errore durante l'aggiornamento: ${E.message}`)}finally{d(!1)}};return w.useEffect(()=>(g?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[g]),u.jsxs("div",{className:"become-artist-page",children:[u.jsx(Ft,{onLogoClick:r}),u.jsxs("div",{className:"become-artist-container",children:[u.jsxs("div",{className:"hero-section",children:[u.jsx("h1",{className:"hero-title",children:"DIVENTA UN ARTISTA"}),u.jsx("p",{className:"hero-subtitle",children:"Trasforma la tua passione in una carriera professionale"}),u.jsx("div",{className:"hero-cta",children:m?u.jsxs("div",{className:"success-message",children:[u.jsx("h2",{children:"BENVENUTO TRA GLI ARTISTI!"}),u.jsx("p",{children:"Il tuo profilo è stato aggiornato con successo. Verrai reindirizzato alla home page..."})]}):u.jsxs(u.Fragment,{children:[h&&u.jsx("div",{className:"error-message",children:h}),u.jsx("button",{className:`hero-cta-button ${c?"loading":""}`,onClick:()=>b(!0),disabled:c||!i,children:c?"AGGIORNAMENTO IN CORSO...":"DIVENTA ARTISTA ORA"}),!i&&u.jsxs("p",{className:"auth-notice",children:["Devi essere autenticato per diventare un artista.",u.jsx("button",{className:"auth-link",onClick:()=>x("/"),children:"Torna alla home per accedere"})]})]})})]}),u.jsxs("div",{className:"benefits-section",children:[u.jsxs("div",{className:"benefit-card",children:[u.jsx("div",{className:"benefit-icon",children:"📸"}),u.jsx("h3",{className:"benefit-title",children:"PUBBLICA I TUOI LAVORI"}),u.jsx("p",{className:"benefit-description",children:"Mostra il tuo portfolio e raggiungi migliaia di potenziali clienti. Carica le tue opere, organizza per categorie e attira nuovi clienti."})]}),u.jsxs("div",{className:"benefit-card",children:[u.jsx("div",{className:"benefit-icon",children:"📊"}),u.jsx("h3",{className:"benefit-title",children:"GESTIONALE PERSONALE"}),u.jsx("p",{className:"benefit-description",children:"Accedi a strumenti avanzati per organizzare le tue opere, gestire le vendite e monitorare le performance del tuo business artistico."})]}),u.jsxs("div",{className:"benefit-card",children:[u.jsx("div",{className:"benefit-icon",children:"📋"}),u.jsx("h3",{className:"benefit-title",children:"ADEMPIMENTI LEGALI"}),u.jsx("p",{className:"benefit-description",children:"Strumenti integrati per gestire fatturazione, contratti, consensi e tutti gli aspetti burocratici dell'attività artistica."})]}),u.jsxs("div",{className:"benefit-card",children:[u.jsx("div",{className:"benefit-icon",children:"💬"}),u.jsx("h3",{className:"benefit-title",children:"COMUNICAZIONE DIRETTA"}),u.jsx("p",{className:"benefit-description",children:"Sistema di messaggistica integrato per comunicare direttamente con i clienti, gestire appuntamenti e follow-up post-tatuaggio."})]})]})]}),g&&u.jsx("div",{className:"auth-overlay",onClick:E=>E.target===E.currentTarget&&b(!1),children:u.jsxs("div",{className:"auth-modal",children:[u.jsx("div",{className:"auth-header-sticky",children:u.jsx("button",{className:"auth-close-btn",onClick:()=>b(!1),children:"×"})}),u.jsx("div",{className:"auth-modal-header",children:u.jsx("div",{className:"confirmation-header-title",children:u.jsx("h2",{className:"confirmation-title",children:"CONFERMA UPGRADE"})})}),u.jsxs("div",{className:"auth-content",children:[u.jsx("div",{className:"confirmation-message-section",children:u.jsx("p",{className:"confirmation-text",children:"Sei sicuro di voler diventare un artista? Questa azione cambierà il tuo profilo da cliente ad artista."})}),u.jsxs("p",{className:"confirmation-note",children:[u.jsx("strong",{children:"Nota:"})," Potrai sempre tornare indietro dalle impostazioni del profilo."]}),u.jsxs("div",{className:"confirmation-actions",children:[u.jsxs("button",{className:"action-btn confirmation-cancel-action",onClick:()=>b(!1),children:[u.jsx("span",{className:"action-icon",children:u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),u.jsx("span",{className:"action-text",children:"Annulla"})]}),u.jsxs("button",{className:`action-btn confirmation-confirm-action ${c?"disabled":""}`,onClick:()=>{b(!1),S()},disabled:c,children:[u.jsx("span",{className:"action-icon",children:u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{d:"M20 6L9 17l-5-5"})})}),u.jsx("span",{className:"action-text",children:c?"AGGIORNAMENTO...":"CONFERMA"})]})]})]})]})})]})}function wx(){const{user:r,profile:i,signOut:s}=Je(),l=zt();w.useEffect(()=>{window.scrollTo(0,0)},[]);const c=()=>{if(i?.full_name)return i.full_name;if(i?.username)return i.username;if(r?.email){const v=r.email.split("@")[0];return v.includes(".")?v.split(".").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" "):v}return"Utente"},d=v=>{switch(v){case"client":return"Cliente";case"artist":return"Artista";default:return v}},h=()=>{s(),l("/")};return!r||!i?u.jsx("div",{className:"mobile-profile-page",children:u.jsx("div",{className:"mobile-profile-loading",children:u.jsx("p",{children:"Caricamento profilo..."})})}):u.jsxs("div",{className:"mobile-profile-page",children:[u.jsx("div",{className:"mobile-profile-header",children:u.jsx("h1",{className:"mobile-profile-title",children:"Profilo"})}),u.jsxs("div",{className:"mobile-profile-content",children:[u.jsxs("div",{className:"mobile-profile-user",children:[u.jsx("div",{className:"mobile-profile-avatar",children:u.jsx(Vt,{src:i.avatar_url,name:i.full_name,alt:`Avatar di ${c()}`,size:"lg",variant:"default"})}),u.jsxs("div",{className:"mobile-profile-info",children:[u.jsx("div",{className:"mobile-profile-name",children:c()}),u.jsx("div",{className:"mobile-profile-type",children:d(i.profile_type)})]})]}),u.jsxs("div",{className:"mobile-profile-menu",children:[i.profile_type!=="artist"&&u.jsxs("button",{className:"mobile-profile-item become-artist-btn",onClick:()=>l("/become-artist"),children:[u.jsx("span",{className:"mobile-profile-item-text",children:"Diventi un'artista"}),u.jsx("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),i.profile_type==="artist"&&u.jsxs("button",{className:"mobile-profile-item",onClick:()=>l("/profile"),children:[u.jsx("span",{className:"mobile-profile-item-text",children:"Il mio profilo"}),u.jsx("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),u.jsxs("button",{className:"mobile-profile-item",onClick:()=>{console.log("Settings not implemented yet")},children:[u.jsx("span",{className:"mobile-profile-item-text",children:"Impostazioni"}),u.jsx("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("polyline",{points:"9,18 15,12 9,6"})})]}),u.jsxs("button",{className:"mobile-profile-item logout-item",onClick:h,children:[u.jsx("span",{className:"mobile-profile-item-text",children:"Esci"}),u.jsxs("svg",{className:"mobile-profile-item-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),u.jsx("polyline",{points:"16,17 21,12 16,7"}),u.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})]})]})]})]})}function Sx(){const r=zt(),{profile:i}=Je(),s=()=>{r("/")},l=c=>{i&&i.user_id===c?r("/profile"):r(`/artist/${c}`)};return u.jsxs(r0,{children:[u.jsx(ga,{path:"/",element:u.jsx(ux,{})}),u.jsx(ga,{path:"/artist/:artistId",element:u.jsx(fx,{})}),u.jsx(ga,{path:"/profile",element:u.jsx(mx,{})}),u.jsx(ga,{path:"/profile-menu",element:u.jsx(wx,{})}),u.jsx(ga,{path:"/saved",element:u.jsx(px,{onLogoClick:s,onArtistClick:l})}),u.jsx(ga,{path:"/messages",element:u.jsx(Jm,{onLogoClick:s})}),u.jsx(ga,{path:"/messages/:artistId",element:u.jsx(Jm,{onLogoClick:s})}),u.jsx(ga,{path:"/become-artist",element:u.jsx(xx,{onLogoClick:s})})]})}function jx({onSearchClick:r}){const i=wa(),s=zt(),{profile:l,user:c}=Je(),d=()=>{if(l?.full_name)return l.full_name;if(l?.username)return l.username;if(c?.email){const m=c.email.split("@")[0];return m.includes(".")?m.split(".").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "):m}return"Utente"},h=m=>i.pathname===m,v=m=>{m==="/"?(s("/"),r?.()):s(m)};return u.jsxs("div",{className:"mobile-navbar",children:[u.jsxs("button",{className:`mobile-nav-item ${h("/")?"active":""}`,onClick:()=>v("/"),"aria-label":"Ricerca",children:[u.jsxs("svg",{className:"mobile-nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("path",{d:"M21 21l-4.35-4.35"})]}),u.jsx("span",{className:"mobile-nav-label",children:"Cerca"})]}),u.jsxs("button",{className:`mobile-nav-item ${h("/saved")?"active":""}`,onClick:()=>v("/saved"),"aria-label":"Elementi salvati",children:[u.jsx("svg",{className:"mobile-nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),u.jsx("span",{className:"mobile-nav-label",children:"Salvati"})]}),u.jsxs("button",{className:`mobile-nav-item ${h("/messages")?"active":""}`,onClick:()=>v("/messages"),"aria-label":"Messaggi",children:[u.jsx("svg",{className:"mobile-nav-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),u.jsx("span",{className:"mobile-nav-label",children:"Messaggi"})]}),u.jsxs("button",{className:`mobile-nav-item ${h("/profile-menu")?"active":""}`,onClick:()=>v("/profile-menu"),"aria-label":"Profilo",children:[u.jsx("div",{className:"mobile-nav-avatar",children:u.jsx(Vt,{src:l?.avatar_url,name:l?.full_name,alt:`Avatar di ${d()}`,size:"xs",variant:"default"})}),u.jsx("span",{className:"mobile-nav-label",children:"Profilo"})]})]})}function Ex(){return u.jsx(Kb,{children:u.jsxs("div",{className:"app-container",children:[u.jsx(Sx,{}),u.jsx(jx,{})]})})}gy.createRoot(document.getElementById("root")).render(u.jsx(R0,{basename:"/Skunk",children:u.jsx(Ex,{})}));
