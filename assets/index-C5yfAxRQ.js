(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function sy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ly(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var i=r.default;if(typeof i=="function"){var s=function l(){var c=!1;try{c=this instanceof l}catch{}return c?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var c=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(s,l,c.get?c:{enumerable:!0,get:function(){return r[l]}})}),s}var xc={exports:{}},Ss={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function ry(){if(nm)return Ss;nm=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(l,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var v in c)v!=="key"&&(u[v]=c[v])}else u=c;return c=u.ref,{$$typeof:r,type:l,key:h,ref:c!==void 0?c:null,props:u}}return Ss.Fragment=i,Ss.jsx=s,Ss.jsxs=s,Ss}var im;function oy(){return im||(im=1,xc.exports=ry()),xc.exports}var f=oy(),jc={exports:{}},xs={},Ec={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function cy(){return sm||(sm=1,(function(r){function i(H,X){var te=H.length;H.push(X);e:for(;0<te;){var je=te-1>>>1,N=H[je];if(0<c(N,X))H[je]=X,H[te]=N,te=je;else break e}}function s(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var X=H[0],te=H.pop();if(te!==X){H[0]=te;e:for(var je=0,N=H.length,K=N>>>1;je<K;){var F=2*(je+1)-1,I=H[F],se=F+1,we=H[se];if(0>c(I,te))se<N&&0>c(we,I)?(H[je]=we,H[se]=te,je=se):(H[je]=I,H[F]=te,je=F);else if(se<N&&0>c(we,te))H[je]=we,H[se]=te,je=se;else break e}}return X}function c(H,X){var te=H.sortIndex-X.sortIndex;return te!==0?te:H.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,v=h.now();r.unstable_now=function(){return h.now()-v}}var m=[],g=[],p=1,b=null,w=3,x=!1,E=!1,R=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Y(H){for(var X=s(g);X!==null;){if(X.callback===null)l(g);else if(X.startTime<=H)l(g),X.sortIndex=X.expirationTime,i(m,X);else break;X=s(g)}}function q(H){if(R=!1,Y(H),!E)if(s(m)!==null)E=!0,L||(L=!0,J());else{var X=s(g);X!==null&&Ne(q,X.startTime-H)}}var L=!1,P=-1,ae=5,Z=-1;function ee(){return T?!0:!(r.unstable_now()-Z<ae)}function ue(){if(T=!1,L){var H=r.unstable_now();Z=H;var X=!0;try{e:{E=!1,R&&(R=!1,D(P),P=-1),x=!0;var te=w;try{t:{for(Y(H),b=s(m);b!==null&&!(b.expirationTime>H&&ee());){var je=b.callback;if(typeof je=="function"){b.callback=null,w=b.priorityLevel;var N=je(b.expirationTime<=H);if(H=r.unstable_now(),typeof N=="function"){b.callback=N,Y(H),X=!0;break t}b===s(m)&&l(m),Y(H)}else l(m);b=s(m)}if(b!==null)X=!0;else{var K=s(g);K!==null&&Ne(q,K.startTime-H),X=!1}}break e}finally{b=null,w=te,x=!1}X=void 0}}finally{X?J():L=!1}}}var J;if(typeof M=="function")J=function(){M(ue)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ie=oe.port2;oe.port1.onmessage=ue,J=function(){ie.postMessage(null)}}else J=function(){C(ue,0)};function Ne(H,X){P=C(function(){H(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(H){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var te=w;w=X;try{return H()}finally{w=te}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=w;w=H;try{return X()}finally{w=te}},r.unstable_scheduleCallback=function(H,X,te){var je=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?je+te:je):te=je,H){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=te+N,H={id:p++,callback:X,priorityLevel:H,startTime:te,expirationTime:N,sortIndex:-1},te>je?(H.sortIndex=te,i(g,H),s(m)===null&&H===s(g)&&(R?(D(P),P=-1):R=!0,Ne(q,te-je))):(H.sortIndex=N,i(m,H),E||x||(E=!0,L||(L=!0,J()))),H},r.unstable_shouldYield=ee,r.unstable_wrapCallback=function(H){var X=w;return function(){var te=w;w=X;try{return H.apply(this,arguments)}finally{w=te}}}})(Nc)),Nc}var lm;function uy(){return lm||(lm=1,Ec.exports=cy()),Ec.exports}var Tc={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function dy(){if(rm)return ve;rm=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function T(N,K,F){this.props=N,this.context=K,this.refs=R,this.updater=F||x}T.prototype.isReactComponent={},T.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function C(){}C.prototype=T.prototype;function D(N,K,F){this.props=N,this.context=K,this.refs=R,this.updater=F||x}var M=D.prototype=new C;M.constructor=D,E(M,T.prototype),M.isPureReactComponent=!0;var Y=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function P(N,K,F,I,se,we){return F=we.ref,{$$typeof:r,type:N,key:K,ref:F!==void 0?F:null,props:we}}function ae(N,K){return P(N.type,K,void 0,void 0,void 0,N.props)}function Z(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function ee(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(F){return K[F]})}var ue=/\/+/g;function J(N,K){return typeof N=="object"&&N!==null&&N.key!=null?ee(""+N.key):K.toString(36)}function oe(){}function ie(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(oe,oe):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ne(N,K,F,I,se){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var de=!1;if(N===null)de=!0;else switch(we){case"bigint":case"string":case"number":de=!0;break;case"object":switch(N.$$typeof){case r:case i:de=!0;break;case p:return de=N._init,Ne(de(N._payload),K,F,I,se)}}if(de)return se=se(N),de=I===""?"."+J(N,0):I,Y(se)?(F="",de!=null&&(F=de.replace(ue,"$&/")+"/"),Ne(se,K,F,"",function(pt){return pt})):se!=null&&(Z(se)&&(se=ae(se,F+(se.key==null||N&&N.key===se.key?"":(""+se.key).replace(ue,"$&/")+"/")+de)),K.push(se)),1;de=0;var ct=I===""?".":I+":";if(Y(N))for(var De=0;De<N.length;De++)I=N[De],we=ct+J(I,De),de+=Ne(I,K,F,we,se);else if(De=w(N),typeof De=="function")for(N=De.call(N),De=0;!(I=N.next()).done;)I=I.value,we=ct+J(I,De++),de+=Ne(I,K,F,we,se);else if(we==="object"){if(typeof N.then=="function")return Ne(ie(N),K,F,I,se);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return de}function H(N,K,F){if(N==null)return N;var I=[],se=0;return Ne(N,I,"","",function(we){return K.call(F,we,se++)}),I}function X(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(F){(N._status===0||N._status===-1)&&(N._status=1,N._result=F)},function(F){(N._status===0||N._status===-1)&&(N._status=2,N._result=F)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var te=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return ve.Children={map:H,forEach:function(N,K,F){H(N,function(){K.apply(this,arguments)},F)},count:function(N){var K=0;return H(N,function(){K++}),K},toArray:function(N){return H(N,function(K){return K})||[]},only:function(N){if(!Z(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ve.Component=T,ve.Fragment=s,ve.Profiler=c,ve.PureComponent=D,ve.StrictMode=l,ve.Suspense=m,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ve.__COMPILER_RUNTIME={__proto__:null,c:function(N){return q.H.useMemoCache(N)}},ve.cache=function(N){return function(){return N.apply(null,arguments)}},ve.cloneElement=function(N,K,F){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var I=E({},N.props),se=N.key,we=void 0;if(K!=null)for(de in K.ref!==void 0&&(we=void 0),K.key!==void 0&&(se=""+K.key),K)!L.call(K,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&K.ref===void 0||(I[de]=K[de]);var de=arguments.length-2;if(de===1)I.children=F;else if(1<de){for(var ct=Array(de),De=0;De<de;De++)ct[De]=arguments[De+2];I.children=ct}return P(N.type,se,void 0,void 0,we,I)},ve.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},ve.createElement=function(N,K,F){var I,se={},we=null;if(K!=null)for(I in K.key!==void 0&&(we=""+K.key),K)L.call(K,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(se[I]=K[I]);var de=arguments.length-2;if(de===1)se.children=F;else if(1<de){for(var ct=Array(de),De=0;De<de;De++)ct[De]=arguments[De+2];se.children=ct}if(N&&N.defaultProps)for(I in de=N.defaultProps,de)se[I]===void 0&&(se[I]=de[I]);return P(N,we,void 0,void 0,null,se)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(N){return{$$typeof:v,render:N}},ve.isValidElement=Z,ve.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:X}},ve.memo=function(N,K){return{$$typeof:g,type:N,compare:K===void 0?null:K}},ve.startTransition=function(N){var K=q.T,F={};q.T=F;try{var I=N(),se=q.S;se!==null&&se(F,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(je,te)}catch(we){te(we)}finally{q.T=K}},ve.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ve.use=function(N){return q.H.use(N)},ve.useActionState=function(N,K,F){return q.H.useActionState(N,K,F)},ve.useCallback=function(N,K){return q.H.useCallback(N,K)},ve.useContext=function(N){return q.H.useContext(N)},ve.useDebugValue=function(){},ve.useDeferredValue=function(N,K){return q.H.useDeferredValue(N,K)},ve.useEffect=function(N,K,F){var I=q.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(N,K)},ve.useId=function(){return q.H.useId()},ve.useImperativeHandle=function(N,K,F){return q.H.useImperativeHandle(N,K,F)},ve.useInsertionEffect=function(N,K){return q.H.useInsertionEffect(N,K)},ve.useLayoutEffect=function(N,K){return q.H.useLayoutEffect(N,K)},ve.useMemo=function(N,K){return q.H.useMemo(N,K)},ve.useOptimistic=function(N,K){return q.H.useOptimistic(N,K)},ve.useReducer=function(N,K,F){return q.H.useReducer(N,K,F)},ve.useRef=function(N){return q.H.useRef(N)},ve.useState=function(N){return q.H.useState(N)},ve.useSyncExternalStore=function(N,K,F){return q.H.useSyncExternalStore(N,K,F)},ve.useTransition=function(){return q.H.useTransition()},ve.version="19.1.1",ve}var om;function Fc(){return om||(om=1,Tc.exports=dy()),Tc.exports}var Ac={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function fy(){if(cm)return ot;cm=1;var r=Fc();function i(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(m,g,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:m,containerInfo:g,implementation:p}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ot.createPortal=function(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return u(m,g,null,p)},ot.flushSync=function(m){var g=h.T,p=l.p;try{if(h.T=null,l.p=2,m)return m()}finally{h.T=g,l.p=p,l.d.f()}},ot.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},ot.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},ot.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var p=g.as,b=v(p,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:x}):p==="script"&&l.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=v(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},ot.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,b=v(p,g.crossOrigin);l.d.L(m,p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(m,g){if(typeof m=="string")if(g){var p=v(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},ot.requestFormReset=function(m){l.d.r(m)},ot.unstable_batchedUpdates=function(m,g){return m(g)},ot.useFormState=function(m,g,p){return h.H.useFormState(m,g,p)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.1.1",ot}var um;function hy(){if(um)return Ac.exports;um=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),Ac.exports=fy(),Ac.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function my(){if(dm)return xs;dm=1;var r=uy(),i=Fc(),s=hy();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(u(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(n=o.return,n!==null){a=n;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return v(o),e;if(d===n)return v(o),t;d=d.sibling}throw Error(l(188))}if(a.return!==n.return)a=o,n=d;else{for(var y=!1,_=o.child;_;){if(_===a){y=!0,a=o,n=d;break}if(_===n){y=!0,n=o,a=d;break}_=_.sibling}if(!y){for(_=d.child;_;){if(_===a){y=!0,a=d,n=o;break}if(_===n){y=!0,n=d,a=o;break}_=_.sibling}if(!y)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case T:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case M:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}var Ne=Array.isArray,H=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},je=[],N=-1;function K(e){return{current:e}}function F(e){0>N||(e.current=je[N],je[N]=null,N--)}function I(e,t){N++,je[N]=e.current,e.current=t}var se=K(null),we=K(null),de=K(null),ct=K(null);function De(e,t){switch(I(de,t),I(we,e),I(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rh(t),e=kh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(se),I(se,e)}function pt(){F(se),F(we),F(de)}function Q(e){e.memoizedState!==null&&I(ct,e);var t=se.current,a=kh(t,e.type);t!==a&&(I(we,e),I(se,a))}function me(e){we.current===e&&(F(se),F(we)),ct.current===e&&(F(ct),ps._currentValue=te)}var tt=Object.prototype.hasOwnProperty,qe=r.unstable_scheduleCallback,Ja=r.unstable_cancelCallback,ur=r.unstable_shouldYield,Bv=r.unstable_requestPaint,Vt=r.unstable_now,qv=r.unstable_getCurrentPriorityLevel,uu=r.unstable_ImmediatePriority,du=r.unstable_UserBlockingPriority,Us=r.unstable_NormalPriority,Hv=r.unstable_LowPriority,fu=r.unstable_IdlePriority,$v=r.log,Gv=r.unstable_setDisableYieldValue,Ei=null,yt=null;function wa(e){if(typeof $v=="function"&&Gv(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Ei,e)}catch{}}var _t=Math.clz32?Math.clz32:Yv,Pv=Math.log,Vv=Math.LN2;function Yv(e){return e>>>=0,e===0?32:31-(Pv(e)/Vv|0)|0}var zs=256,Ls=4194304;function Fa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bs(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var o=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var _=n&134217727;return _!==0?(n=_&~d,n!==0?o=Fa(n):(y&=_,y!==0?o=Fa(y):a||(a=_&~e,a!==0&&(o=Fa(a))))):(_=n&~d,_!==0?o=Fa(_):y!==0?o=Fa(y):a||(a=n&~e,a!==0&&(o=Fa(a)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:o}function Ni(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var e=zs;return zs<<=1,(zs&4194048)===0&&(zs=256),e}function mu(){var e=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),e}function dr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ti(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qv(e,t,a,n,o,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,j=e.expirationTimes,U=e.hiddenUpdates;for(a=y&~a;0<a;){var $=31-_t(a),V=1<<$;_[$]=0,j[$]=-1;var z=U[$];if(z!==null)for(U[$]=null,$=0;$<z.length;$++){var B=z[$];B!==null&&(B.lane&=-536870913)}a&=~V}n!==0&&vu(e,n,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~t))}function vu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-_t(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function gu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-_t(a),o=1<<n;o&t|e[n]&t&&(e[n]|=t),a&=~o}}function fr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pu(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Jh(e.type))}function Xv(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var Sa=Math.random().toString(36).slice(2),lt="__reactFiber$"+Sa,ft="__reactProps$"+Sa,xn="__reactContainer$"+Sa,mr="__reactEvents$"+Sa,Zv="__reactListeners$"+Sa,Iv="__reactHandles$"+Sa,yu="__reactResources$"+Sa,Ai="__reactMarker$"+Sa;function vr(e){delete e[lt],delete e[ft],delete e[mr],delete e[Zv],delete e[Iv]}function jn(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[xn]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=zh(e);e!==null;){if(a=e[lt])return a;e=zh(e)}return t}e=a,a=e.parentNode}return null}function En(e){if(e=e[lt]||e[xn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ci(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Nn(e){var t=e[yu];return t||(t=e[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[Ai]=!0}var _u=new Set,bu={};function Wa(e,t){Tn(e,t),Tn(e+"Capture",t)}function Tn(e,t){for(bu[e]=t,e=0;e<t.length;e++)_u.add(t[e])}var Jv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},Su={};function Fv(e){return tt.call(Su,e)?!0:tt.call(wu,e)?!1:Jv.test(e)?Su[e]=!0:(wu[e]=!0,!1)}function qs(e,t,a){if(Fv(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Hs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ta(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var gr,xu;function An(e){if(gr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);gr=t&&t[1]||"",xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gr+e+xu}var pr=!1;function yr(e,t){if(!e||pr)return"";pr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(B){var z=B}Reflect.construct(e,[],V)}else{try{V.call()}catch(B){z=B}e.call(V.prototype)}}else{try{throw Error()}catch(B){z=B}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=n.DetermineComponentFrameRoot(),y=d[0],_=d[1];if(y&&_){var j=y.split(`
`),U=_.split(`
`);for(o=n=0;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;for(;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;if(n===j.length||o===U.length)for(n=j.length-1,o=U.length-1;1<=n&&0<=o&&j[n]!==U[o];)o--;for(;1<=n&&0<=o;n--,o--)if(j[n]!==U[o]){if(n!==1||o!==1)do if(n--,o--,0>o||j[n]!==U[o]){var $=`
`+j[n].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=n&&0<=o);break}}}finally{pr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?An(a):""}function Wv(e){switch(e.tag){case 26:case 27:case 5:return An(e.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return yr(e.type,!1);case 11:return yr(e.type.render,!1);case 1:return yr(e.type,!0);case 31:return An("Activity");default:return""}}function ju(e){try{var t="";do t+=Wv(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eg(e){var t=Eu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(y){n=""+y,d.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $s(e){e._valueTracker||(e._valueTracker=eg(e))}function Nu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Eu(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tg=/[\n"\\]/g;function At(e){return e.replace(tg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _r(e,t,a,n,o,d,y,_){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tt(t)):e.value!==""+Tt(t)&&(e.value=""+Tt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?br(e,y,Tt(t)):a!=null?br(e,y,Tt(a)):n!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Tt(_):e.removeAttribute("name")}function Tu(e,t,a,n,o,d,y,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+Tt(a):"",t=t!=null?""+Tt(t):a,_||t===e.value||(e.value=t),e.defaultValue=t}n=n??o,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=_?e.checked:!!n,e.defaultChecked=!!n,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function br(e,t,a){t==="number"&&Gs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Cn(e,t,a,n){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Tt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Au(e,t,a){if(t!=null&&(t=""+Tt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Tt(a):""}function Cu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(l(92));if(Ne(n)){if(1<n.length)throw Error(l(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Tt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function On(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ag=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ou(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||ag.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ru(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var o in t)n=t[o],t.hasOwnProperty(o)&&a[o]!==n&&Ou(e,o,n)}else for(var d in t)t.hasOwnProperty(d)&&Ou(e,d,t[d])}function wr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ig=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(e){return ig.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Sr=null;function xr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rn=null,kn=null;function ku(e){var t=En(e);if(t&&(e=t.stateNode)){var a=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(_r(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var o=n[ft]||null;if(!o)throw Error(l(90));_r(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Nu(n)}break e;case"textarea":Au(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Cn(e,!!a.multiple,t,!1)}}}var jr=!1;function Du(e,t,a){if(jr)return e(t,a);jr=!0;try{var n=e(t);return n}finally{if(jr=!1,(Rn!==null||kn!==null)&&(Al(),Rn&&(t=Rn,e=kn,kn=Rn=null,ku(t),e)))for(t=0;t<e.length;t++)ku(e[t])}}function Oi(e,t){var a=e.stateNode;if(a===null)return null;var n=a[ft]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(aa)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{Er=!1}var xa=null,Nr=null,Vs=null;function Mu(){if(Vs)return Vs;var e,t=Nr,a=t.length,n,o="value"in xa?xa.value:xa.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var y=a-e;for(n=1;n<=y&&t[a-n]===o[d-n];n++);return Vs=o.slice(e,1<n?1-n:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function Uu(){return!1}function ht(e){function t(a,n,o,d,y){this._reactName=a,this._targetInst=o,this.type=n,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ks:Uu,this.isPropagationStopped=Uu,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=ht(en),ki=p({},en,{view:0,detail:0}),sg=ht(ki),Tr,Ar,Di,Xs=p({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Tr=e.screenX-Di.screenX,Ar=e.screenY-Di.screenY):Ar=Tr=0,Di=e),Tr)},movementY:function(e){return"movementY"in e?e.movementY:Ar}}),zu=ht(Xs),lg=p({},Xs,{dataTransfer:0}),rg=ht(lg),og=p({},ki,{relatedTarget:0}),Cr=ht(og),cg=p({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=ht(cg),dg=p({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fg=ht(dg),hg=p({},en,{data:0}),Lu=ht(hg),mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gg[e])?!!t[e]:!1}function Or(){return pg}var yg=p({},ki,{key:function(e){if(e.key){var t=mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_g=ht(yg),bg=p({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=ht(bg),wg=p({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),Sg=ht(wg),xg=p({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),jg=ht(xg),Eg=p({},Xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ng=ht(Eg),Tg=p({},en,{newState:0,oldState:0}),Ag=ht(Tg),Cg=[9,13,27,32],Rr=aa&&"CompositionEvent"in window,Mi=null;aa&&"documentMode"in document&&(Mi=document.documentMode);var Og=aa&&"TextEvent"in window&&!Mi,qu=aa&&(!Rr||Mi&&8<Mi&&11>=Mi),Hu=" ",$u=!1;function Gu(e,t){switch(e){case"keyup":return Cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function Rg(e,t){switch(e){case"compositionend":return Pu(t);case"keypress":return t.which!==32?null:($u=!0,Hu);case"textInput":return e=t.data,e===Hu&&$u?null:e;default:return null}}function kg(e,t){if(Dn)return e==="compositionend"||!Rr&&Gu(e,t)?(e=Mu(),Vs=Nr=xa=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qu&&t.locale!=="ko"?null:t.data;default:return null}}var Dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dg[e.type]:t==="textarea"}function Yu(e,t,a,n){Rn?kn?kn.push(n):kn=[n]:Rn=n,t=Ml(t,"onChange"),0<t.length&&(a=new Qs("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ui=null,zi=null;function Mg(e){Nh(e,0)}function Zs(e){var t=Ci(e);if(Nu(t))return e}function Ku(e,t){if(e==="change")return t}var Qu=!1;if(aa){var kr;if(aa){var Dr="oninput"in document;if(!Dr){var Xu=document.createElement("div");Xu.setAttribute("oninput","return;"),Dr=typeof Xu.oninput=="function"}kr=Dr}else kr=!1;Qu=kr&&(!document.documentMode||9<document.documentMode)}function Zu(){Ui&&(Ui.detachEvent("onpropertychange",Iu),zi=Ui=null)}function Iu(e){if(e.propertyName==="value"&&Zs(zi)){var t=[];Yu(t,zi,e,xr(e)),Du(Mg,t)}}function Ug(e,t,a){e==="focusin"?(Zu(),Ui=t,zi=a,Ui.attachEvent("onpropertychange",Iu)):e==="focusout"&&Zu()}function zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zs(zi)}function Lg(e,t){if(e==="click")return Zs(t)}function Bg(e,t){if(e==="input"||e==="change")return Zs(t)}function qg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:qg;function Li(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var o=a[n];if(!tt.call(t,o)||!bt(e[o],t[o]))return!1}return!0}function Ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fu(e,t){var a=Ju(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ju(a)}}function Wu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ed(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hg=aa&&"documentMode"in document&&11>=document.documentMode,Mn=null,Ur=null,Bi=null,zr=!1;function td(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zr||Mn==null||Mn!==Gs(n)||(n=Mn,"selectionStart"in n&&Mr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bi&&Li(Bi,n)||(Bi=n,n=Ml(Ur,"onSelect"),0<n.length&&(t=new Qs("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Mn)))}function tn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Un={animationend:tn("Animation","AnimationEnd"),animationiteration:tn("Animation","AnimationIteration"),animationstart:tn("Animation","AnimationStart"),transitionrun:tn("Transition","TransitionRun"),transitionstart:tn("Transition","TransitionStart"),transitioncancel:tn("Transition","TransitionCancel"),transitionend:tn("Transition","TransitionEnd")},Lr={},ad={};aa&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function an(e){if(Lr[e])return Lr[e];if(!Un[e])return e;var t=Un[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ad)return Lr[e]=t[a];return e}var nd=an("animationend"),id=an("animationiteration"),sd=an("animationstart"),$g=an("transitionrun"),Gg=an("transitionstart"),Pg=an("transitioncancel"),ld=an("transitionend"),rd=new Map,Br="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Br.push("scrollEnd");function Lt(e,t){rd.set(e,t),Wa(t,[e])}var od=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var a=od.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ju(t)},od.set(e,t),t)}return{value:e,source:t,stack:ju(t)}}var Ot=[],zn=0,qr=0;function Is(){for(var e=zn,t=qr=zn=0;t<e;){var a=Ot[t];Ot[t++]=null;var n=Ot[t];Ot[t++]=null;var o=Ot[t];Ot[t++]=null;var d=Ot[t];if(Ot[t++]=null,n!==null&&o!==null){var y=n.pending;y===null?o.next=o:(o.next=y.next,y.next=o),n.pending=o}d!==0&&cd(a,o,d)}}function Js(e,t,a,n){Ot[zn++]=e,Ot[zn++]=t,Ot[zn++]=a,Ot[zn++]=n,qr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Hr(e,t,a,n){return Js(e,t,a,n),Fs(e)}function Ln(e,t){return Js(e,null,null,t),Fs(e)}function cd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,n=d.alternate,n!==null&&(n.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-_t(a),e=d.hiddenUpdates,n=e[o],n===null?e[o]=[t]:n.push(t),t.lane=a|536870912),d):null}function Fs(e){if(50<cs)throw cs=0,Qo=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bn={};function Vg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,a,n){return new Vg(e,t,a,n)}function $r(e){return e=e.prototype,!(!e||!e.isReactComponent)}function na(e,t){var a=e.alternate;return a===null?(a=wt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ud(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ws(e,t,a,n,o,d){var y=0;if(n=e,typeof e=="function")$r(e)&&(y=1);else if(typeof e=="string")y=Kp(e,a,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=wt(31,a,t,o),e.elementType=Z,e.lanes=d,e;case E:return nn(a.children,o,d,t);case R:y=8,o|=24;break;case T:return e=wt(12,a,t,o|2),e.elementType=T,e.lanes=d,e;case q:return e=wt(13,a,t,o),e.elementType=q,e.lanes=d,e;case L:return e=wt(19,a,t,o),e.elementType=L,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case M:y=10;break e;case D:y=9;break e;case Y:y=11;break e;case P:y=14;break e;case ae:y=16,n=null;break e}y=29,a=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=wt(y,a,t,o),t.elementType=e,t.type=n,t.lanes=d,t}function nn(e,t,a,n){return e=wt(7,e,n,t),e.lanes=a,e}function Gr(e,t,a){return e=wt(6,e,null,t),e.lanes=a,e}function Pr(e,t,a){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qn=[],Hn=0,el=null,tl=0,Rt=[],kt=0,sn=null,ia=1,sa="";function ln(e,t){qn[Hn++]=tl,qn[Hn++]=el,el=e,tl=t}function dd(e,t,a){Rt[kt++]=ia,Rt[kt++]=sa,Rt[kt++]=sn,sn=e;var n=ia;e=sa;var o=32-_t(n)-1;n&=~(1<<o),a+=1;var d=32-_t(t)+o;if(30<d){var y=o-o%5;d=(n&(1<<y)-1).toString(32),n>>=y,o-=y,ia=1<<32-_t(t)+o|a<<o|n,sa=d+e}else ia=1<<d|a<<o|n,sa=e}function Vr(e){e.return!==null&&(ln(e,1),dd(e,1,0))}function Yr(e){for(;e===el;)el=qn[--Hn],qn[Hn]=null,tl=qn[--Hn],qn[Hn]=null;for(;e===sn;)sn=Rt[--kt],Rt[kt]=null,sa=Rt[--kt],Rt[kt]=null,ia=Rt[--kt],Rt[kt]=null}var ut=null,He=null,Ee=!1,rn=null,Yt=!1,Kr=Error(l(519));function on(e){var t=Error(l(418,""));throw $i(Ct(t,e)),Kr}function fd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[lt]=e,t[ft]=n,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<ds.length;a++)_e(ds[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Tu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),$s(t);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Cu(t,n.value,n.defaultValue,n.children),$s(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Oh(t.textContent,a)?(n.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),n.onScroll!=null&&_e("scroll",t),n.onScrollEnd!=null&&_e("scrollend",t),n.onClick!=null&&(t.onclick=Ul),t=!0):t=!1,t||on(e)}function hd(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:ut=ut.return}}function qi(e){if(e!==ut)return!1;if(!Ee)return hd(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||cc(e.type,e.memoizedProps)),a=!a),a&&He&&on(e),hd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){He=qt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}He=null}}else t===27?(t=He,qa(e.type)?(e=hc,hc=null,He=e):He=t):He=ut?qt(e.stateNode.nextSibling):null;return!0}function Hi(){He=ut=null,Ee=!1}function md(){var e=rn;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),rn=null),e}function $i(e){rn===null?rn=[e]:rn.push(e)}var Qr=K(null),cn=null,la=null;function ja(e,t,a){I(Qr,t._currentValue),t._currentValue=a}function ra(e){e._currentValue=Qr.current,F(Qr)}function Xr(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Zr(e,t,a,n){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var y=o.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=o;for(var j=0;j<t.length;j++)if(_.context===t[j]){d.lanes|=a,_=d.alternate,_!==null&&(_.lanes|=a),Xr(d.return,a,e),n||(y=null);break e}d=_.next}}else if(o.tag===18){if(y=o.return,y===null)throw Error(l(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Xr(y,a,e),y=null}else y=o.child;if(y!==null)y.return=o;else for(y=o;y!==null;){if(y===e){y=null;break}if(o=y.sibling,o!==null){o.return=y.return,y=o;break}y=y.return}o=y}}function Gi(e,t,a,n){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var y=o.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var _=o.type;bt(o.pendingProps.value,y.value)||(e!==null?e.push(_):e=[_])}}else if(o===ct.current){if(y=o.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ps):e=[ps])}o=o.return}e!==null&&Zr(t,e,a,n),t.flags|=262144}function al(e){for(e=e.firstContext;e!==null;){if(!bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function un(e){cn=e,la=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return vd(cn,e)}function nl(e,t){return cn===null&&un(e),vd(e,t)}function vd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},la===null){if(e===null)throw Error(l(308));la=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else la=la.next=t;return a}var Yg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Kg=r.unstable_scheduleCallback,Qg=r.unstable_NormalPriority,Ke={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ir(){return{controller:new Yg,data:new Map,refCount:0}}function Pi(e){e.refCount--,e.refCount===0&&Kg(Qg,function(){e.controller.abort()})}var Vi=null,Jr=0,$n=0,Gn=null;function Xg(e,t){if(Vi===null){var a=Vi=[];Jr=0,$n=ec(),Gn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Jr++,t.then(gd,gd),t}function gd(){if(--Jr===0&&Vi!==null){Gn!==null&&(Gn.status="fulfilled");var e=Vi;Vi=null,$n=0,Gn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Zg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(n.status="rejected",n.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),n}var pd=H.S;H.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Xg(e,t),pd!==null&&pd(e,t)};var dn=K(null);function Fr(){var e=dn.current;return e!==null?e:Me.pooledCache}function il(e,t){t===null?I(dn,dn.current):I(dn,t.pool)}function yd(){var e=Fr();return e===null?null:{parent:Ke._currentValue,pool:e}}var Yi=Error(l(460)),_d=Error(l(474)),sl=Error(l(542)),Wr={then:function(){}};function bd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ll(){}function wd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ll,ll),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xd(e),e;default:if(typeof t.status=="string")t.then(ll,ll);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=n}},function(n){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xd(e),e}throw Ki=t,Yi}}var Ki=null;function Sd(){if(Ki===null)throw Error(l(459));var e=Ki;return Ki=null,e}function xd(e){if(e===Yi||e===sl)throw Error(l(483))}var Ea=!1;function eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function to(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Te&2)!==0){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,t=Fs(e),cd(e,null,a),t}return Js(e,n,t,a),Fs(e)}function Qi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,gu(e,a)}}function ao(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var no=!1;function Xi(){if(no){var e=Gn;if(e!==null)throw e}}function Zi(e,t,a,n){no=!1;var o=e.updateQueue;Ea=!1;var d=o.firstBaseUpdate,y=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var j=_,U=j.next;j.next=null,y===null?d=U:y.next=U,y=j;var $=e.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==y&&(_===null?$.firstBaseUpdate=U:_.next=U,$.lastBaseUpdate=j))}if(d!==null){var V=o.baseState;y=0,$=U=j=null,_=d;do{var z=_.lane&-536870913,B=z!==_.lane;if(B?(Se&z)===z:(n&z)===z){z!==0&&z===$n&&(no=!0),$!==null&&($=$.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ce=e,le=_;z=t;var Re=a;switch(le.tag){case 1:if(ce=le.payload,typeof ce=="function"){V=ce.call(Re,V,z);break e}V=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=le.payload,z=typeof ce=="function"?ce.call(Re,V,z):ce,z==null)break e;V=p({},V,z);break e;case 2:Ea=!0}}z=_.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=o.callbacks,B===null?o.callbacks=[z]:B.push(z))}else B={lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(U=$=B,j=V):$=$.next=B,y|=z;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;B=_,_=B.next,B.next=null,o.lastBaseUpdate=B,o.shared.pending=null}}while(!0);$===null&&(j=V),o.baseState=j,o.firstBaseUpdate=U,o.lastBaseUpdate=$,d===null&&(o.shared.lanes=0),Ua|=y,e.lanes=y,e.memoizedState=V}}function jd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Ed(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jd(a[e],t)}var Pn=K(null),rl=K(0);function Nd(e,t){e=ma,I(rl,e),I(Pn,t),ma=e|t.baseLanes}function io(){I(rl,ma),I(Pn,Pn.current)}function so(){ma=rl.current,F(Pn),F(rl)}var Aa=0,ge=null,Ce=null,Ve=null,ol=!1,Vn=!1,fn=!1,cl=0,Ii=0,Yn=null,Ig=0;function Ge(){throw Error(l(321))}function lo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!bt(e[a],t[a]))return!1;return!0}function ro(e,t,a,n,o,d){return Aa=d,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?uf:df,fn=!1,d=a(n,o),fn=!1,Vn&&(d=Ad(t,a,n,o)),Td(e),d}function Td(e){H.H=vl;var t=Ce!==null&&Ce.next!==null;if(Aa=0,Ve=Ce=ge=null,ol=!1,Ii=0,Yn=null,t)throw Error(l(300));e===null||Je||(e=e.dependencies,e!==null&&al(e)&&(Je=!0))}function Ad(e,t,a,n){ge=e;var o=0;do{if(Vn&&(Yn=null),Ii=0,Vn=!1,25<=o)throw Error(l(301));if(o+=1,Ve=Ce=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=np,d=t(a,n)}while(Vn);return d}function Jg(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?Ji(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(ge.flags|=1024),t}function oo(){var e=cl!==0;return cl=0,e}function co(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function uo(e){if(ol){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ol=!1}Aa=0,Ve=Ce=ge=null,Vn=!1,Ii=cl=0,Yn=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?ge.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ye(){if(Ce===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ve===null?ge.memoizedState:Ve.next;if(t!==null)Ve=t,Ce=e;else{if(e===null)throw ge.alternate===null?Error(l(467)):Error(l(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ve===null?ge.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ji(e){var t=Ii;return Ii+=1,Yn===null&&(Yn=[]),e=wd(Yn,e,t),t=ge,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?uf:df),e}function ul(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ji(e);if(e.$$typeof===M)return rt(e)}throw Error(l(438,String(e)))}function ho(e){var t=null,a=ge.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=ge.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=fo(),ge.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ee;return t.index++,a}function oa(e,t){return typeof t=="function"?t(e):t}function dl(e){var t=Ye();return mo(t,Ce,e)}function mo(e,t,a){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=a;var o=e.baseQueue,d=n.pending;if(d!==null){if(o!==null){var y=o.next;o.next=d.next,d.next=y}t.baseQueue=o=d,n.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var _=y=null,j=null,U=t,$=!1;do{var V=U.lane&-536870913;if(V!==U.lane?(Se&V)===V:(Aa&V)===V){var z=U.revertLane;if(z===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),V===$n&&($=!0);else if((Aa&z)===z){U=U.next,z===$n&&($=!0);continue}else V={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},j===null?(_=j=V,y=d):j=j.next=V,ge.lanes|=z,Ua|=z;V=U.action,fn&&a(d,V),d=U.hasEagerState?U.eagerState:a(d,V)}else z={lane:V,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},j===null?(_=j=z,y=d):j=j.next=z,ge.lanes|=V,Ua|=V;U=U.next}while(U!==null&&U!==t);if(j===null?y=d:j.next=_,!bt(d,e.memoizedState)&&(Je=!0,$&&(a=Gn,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=j,n.lastRenderedState=d}return o===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function vo(e){var t=Ye(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var y=o=o.next;do d=e(d,y.action),y=y.next;while(y!==o);bt(d,t.memoizedState)||(Je=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,n]}function Cd(e,t,a){var n=ge,o=Ye(),d=Ee;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var y=!bt((Ce||o).memoizedState,a);y&&(o.memoizedState=a,Je=!0),o=o.queue;var _=kd.bind(null,n,o,e);if(Fi(2048,8,_,[e]),o.getSnapshot!==t||y||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Kn(9,fl(),Rd.bind(null,n,o,a,t),null),Me===null)throw Error(l(349));d||(Aa&124)!==0||Od(n,t,a)}return a}function Od(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ge.updateQueue,t===null?(t=fo(),ge.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Rd(e,t,a,n){t.value=a,t.getSnapshot=n,Dd(t)&&Md(e)}function kd(e,t,a){return a(function(){Dd(t)&&Md(e)})}function Dd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!bt(e,a)}catch{return!0}}function Md(e){var t=Ln(e,2);t!==null&&Nt(t,e,2)}function go(e){var t=mt();if(typeof e=="function"){var a=e;if(e=a(),fn){wa(!0);try{a()}finally{wa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function Ud(e,t,a,n){return e.baseState=a,mo(e,Ce,typeof n=="function"?n:oa)}function Fg(e,t,a,n,o){if(ml(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};H.T!==null?a(!0):d.isTransition=!1,n(d),a=t.pending,a===null?(d.next=t.pending=d,zd(t,d)):(d.next=a.next,t.pending=a.next=d)}}function zd(e,t){var a=t.action,n=t.payload,o=e.state;if(t.isTransition){var d=H.T,y={};H.T=y;try{var _=a(o,n),j=H.S;j!==null&&j(y,_),Ld(e,t,_)}catch(U){po(e,t,U)}finally{H.T=d}}else try{d=a(o,n),Ld(e,t,d)}catch(U){po(e,t,U)}}function Ld(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Bd(e,t,n)},function(n){return po(e,t,n)}):Bd(e,t,a)}function Bd(e,t,a){t.status="fulfilled",t.value=a,qd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,zd(e,a)))}function po(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,qd(t),t=t.next;while(t!==n)}e.action=null}function qd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hd(e,t){return t}function $d(e,t){if(Ee){var a=Me.formState;if(a!==null){e:{var n=ge;if(Ee){if(He){t:{for(var o=He,d=Yt;o.nodeType!==8;){if(!d){o=null;break t}if(o=qt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){He=qt(o.nextSibling),n=o.data==="F!";break e}}on(n)}n=!1}n&&(t=a[0])}}return a=mt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:t},a.queue=n,a=rf.bind(null,ge,n),n.dispatch=a,n=go(!1),d=So.bind(null,ge,!1,n.queue),n=mt(),o={state:t,dispatch:null,action:e,pending:null},n.queue=o,a=Fg.bind(null,ge,o,d,a),o.dispatch=a,n.memoizedState=e,[t,a,!1]}function Gd(e){var t=Ye();return Pd(t,Ce,e)}function Pd(e,t,a){if(t=mo(e,t,Hd)[0],e=dl(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Ji(t)}catch(y){throw y===Yi?sl:y}else n=t;t=Ye();var o=t.queue,d=o.dispatch;return a!==t.memoizedState&&(ge.flags|=2048,Kn(9,fl(),Wg.bind(null,o,a),null)),[n,d,e]}function Wg(e,t){e.action=t}function Vd(e){var t=Ye(),a=Ce;if(a!==null)return Pd(t,a,e);Ye(),t=t.memoizedState,a=Ye();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Kn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=ge.updateQueue,t===null&&(t=fo(),ge.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function fl(){return{destroy:void 0,resource:void 0}}function Yd(){return Ye().memoizedState}function hl(e,t,a,n){var o=mt();n=n===void 0?null:n,ge.flags|=e,o.memoizedState=Kn(1|t,fl(),a,n)}function Fi(e,t,a,n){var o=Ye();n=n===void 0?null:n;var d=o.memoizedState.inst;Ce!==null&&n!==null&&lo(n,Ce.memoizedState.deps)?o.memoizedState=Kn(t,d,a,n):(ge.flags|=e,o.memoizedState=Kn(1|t,d,a,n))}function Kd(e,t){hl(8390656,8,e,t)}function Qd(e,t){Fi(2048,8,e,t)}function Xd(e,t){return Fi(4,2,e,t)}function Zd(e,t){return Fi(4,4,e,t)}function Id(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jd(e,t,a){a=a!=null?a.concat([e]):null,Fi(4,4,Id.bind(null,t,e),a)}function yo(){}function Fd(e,t){var a=Ye();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&lo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Wd(e,t){var a=Ye();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&lo(t,n[1]))return n[0];if(n=e(),fn){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[n,t],n}function _o(e,t,a){return a===void 0||(Aa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=nh(),ge.lanes|=e,Ua|=e,a)}function ef(e,t,a,n){return bt(a,t)?a:Pn.current!==null?(e=_o(e,a,n),bt(e,t)||(Je=!0),e):(Aa&42)===0?(Je=!0,e.memoizedState=a):(e=nh(),ge.lanes|=e,Ua|=e,t)}function tf(e,t,a,n,o){var d=X.p;X.p=d!==0&&8>d?d:8;var y=H.T,_={};H.T=_,So(e,!1,t,a);try{var j=o(),U=H.S;if(U!==null&&U(_,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var $=Zg(j,n);Wi(e,t,$,Et(e))}else Wi(e,t,n,Et(e))}catch(V){Wi(e,t,{then:function(){},status:"rejected",reason:V},Et())}finally{X.p=d,H.T=y}}function ep(){}function bo(e,t,a,n){if(e.tag!==5)throw Error(l(476));var o=af(e).queue;tf(e,o,t,te,a===null?ep:function(){return nf(e),a(n)})}function af(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function nf(e){var t=af(e).next.queue;Wi(e,t,{},Et())}function wo(){return rt(ps)}function sf(){return Ye().memoizedState}function lf(){return Ye().memoizedState}function tp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Et();e=Na(a);var n=Ta(t,e,a);n!==null&&(Nt(n,t,a),Qi(n,t,a)),t={cache:Ir()},e.payload=t;return}t=t.return}}function ap(e,t,a){var n=Et();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ml(e)?of(t,a):(a=Hr(e,t,a,n),a!==null&&(Nt(a,e,n),cf(a,t,n)))}function rf(e,t,a){var n=Et();Wi(e,t,a,n)}function Wi(e,t,a,n){var o={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ml(e))of(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var y=t.lastRenderedState,_=d(y,a);if(o.hasEagerState=!0,o.eagerState=_,bt(_,y))return Js(e,t,o,0),Me===null&&Is(),!1}catch{}finally{}if(a=Hr(e,t,o,n),a!==null)return Nt(a,e,n),cf(a,t,n),!0}return!1}function So(e,t,a,n){if(n={lane:2,revertLane:ec(),action:n,hasEagerState:!1,eagerState:null,next:null},ml(e)){if(t)throw Error(l(479))}else t=Hr(e,a,n,2),t!==null&&Nt(t,e,2)}function ml(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function of(e,t){Vn=ol=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function cf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,gu(e,a)}}var vl={readContext:rt,use:ul,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},uf={readContext:rt,use:ul,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Kd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,hl(4194308,4,Id.bind(null,t,e),a)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){hl(4,2,e,t)},useMemo:function(e,t){var a=mt();t=t===void 0?null:t;var n=e();if(fn){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=mt();if(a!==void 0){var o=a(t);if(fn){wa(!0);try{a(t)}finally{wa(!1)}}}else o=t;return n.memoizedState=n.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},n.queue=e,e=e.dispatch=ap.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=go(e);var t=e.queue,a=rf.bind(null,ge,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:yo,useDeferredValue:function(e,t){var a=mt();return _o(a,e,t)},useTransition:function(){var e=go(!1);return e=tf.bind(null,ge,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=ge,o=mt();if(Ee){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Me===null)throw Error(l(349));(Se&124)!==0||Od(n,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,Kd(kd.bind(null,n,d,e),[e]),n.flags|=2048,Kn(9,fl(),Rd.bind(null,n,d,a,t),null),a},useId:function(){var e=mt(),t=Me.identifierPrefix;if(Ee){var a=sa,n=ia;a=(n&~(1<<32-_t(n)-1)).toString(32)+a,t=""+t+"R"+a,a=cl++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Ig++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:wo,useFormState:$d,useActionState:$d,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=So.bind(null,ge,!0,a),a.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return mt().memoizedState=tp.bind(null,ge)}},df={readContext:rt,use:ul,useCallback:Fd,useContext:rt,useEffect:Qd,useImperativeHandle:Jd,useInsertionEffect:Xd,useLayoutEffect:Zd,useMemo:Wd,useReducer:dl,useRef:Yd,useState:function(){return dl(oa)},useDebugValue:yo,useDeferredValue:function(e,t){var a=Ye();return ef(a,Ce.memoizedState,e,t)},useTransition:function(){var e=dl(oa)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Ji(e),t]},useSyncExternalStore:Cd,useId:sf,useHostTransitionStatus:wo,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,t){var a=Ye();return Ud(a,Ce,e,t)},useMemoCache:ho,useCacheRefresh:lf},np={readContext:rt,use:ul,useCallback:Fd,useContext:rt,useEffect:Qd,useImperativeHandle:Jd,useInsertionEffect:Xd,useLayoutEffect:Zd,useMemo:Wd,useReducer:vo,useRef:Yd,useState:function(){return vo(oa)},useDebugValue:yo,useDeferredValue:function(e,t){var a=Ye();return Ce===null?_o(a,e,t):ef(a,Ce.memoizedState,e,t)},useTransition:function(){var e=vo(oa)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Ji(e),t]},useSyncExternalStore:Cd,useId:sf,useHostTransitionStatus:wo,useFormState:Vd,useActionState:Vd,useOptimistic:function(e,t){var a=Ye();return Ce!==null?Ud(a,Ce,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ho,useCacheRefresh:lf},Qn=null,es=0;function gl(e){var t=es;return es+=1,Qn===null&&(Qn=[]),wd(Qn,e,t)}function ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pl(e,t){throw t.$$typeof===b?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ff(e){var t=e._init;return t(e._payload)}function hf(e){function t(O,A){if(e){var k=O.deletions;k===null?(O.deletions=[A],O.flags|=16):k.push(A)}}function a(O,A){if(!e)return null;for(;A!==null;)t(O,A),A=A.sibling;return null}function n(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function o(O,A){return O=na(O,A),O.index=0,O.sibling=null,O}function d(O,A,k){return O.index=k,e?(k=O.alternate,k!==null?(k=k.index,k<A?(O.flags|=67108866,A):k):(O.flags|=67108866,A)):(O.flags|=1048576,A)}function y(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function _(O,A,k,G){return A===null||A.tag!==6?(A=Gr(k,O.mode,G),A.return=O,A):(A=o(A,k),A.return=O,A)}function j(O,A,k,G){var W=k.type;return W===E?$(O,A,k.props.children,G,k.key):A!==null&&(A.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ae&&ff(W)===A.type)?(A=o(A,k.props),ts(A,k),A.return=O,A):(A=Ws(k.type,k.key,k.props,null,O.mode,G),ts(A,k),A.return=O,A)}function U(O,A,k,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=Pr(k,O.mode,G),A.return=O,A):(A=o(A,k.children||[]),A.return=O,A)}function $(O,A,k,G,W){return A===null||A.tag!==7?(A=nn(k,O.mode,G,W),A.return=O,A):(A=o(A,k),A.return=O,A)}function V(O,A,k){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Gr(""+A,O.mode,k),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return k=Ws(A.type,A.key,A.props,null,O.mode,k),ts(k,A),k.return=O,k;case x:return A=Pr(A,O.mode,k),A.return=O,A;case ae:var G=A._init;return A=G(A._payload),V(O,A,k)}if(Ne(A)||J(A))return A=nn(A,O.mode,k,null),A.return=O,A;if(typeof A.then=="function")return V(O,gl(A),k);if(A.$$typeof===M)return V(O,nl(O,A),k);pl(O,A)}return null}function z(O,A,k,G){var W=A!==null?A.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return W!==null?null:_(O,A,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return k.key===W?j(O,A,k,G):null;case x:return k.key===W?U(O,A,k,G):null;case ae:return W=k._init,k=W(k._payload),z(O,A,k,G)}if(Ne(k)||J(k))return W!==null?null:$(O,A,k,G,null);if(typeof k.then=="function")return z(O,A,gl(k),G);if(k.$$typeof===M)return z(O,A,nl(O,k),G);pl(O,k)}return null}function B(O,A,k,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return O=O.get(k)||null,_(A,O,""+G,W);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return O=O.get(G.key===null?k:G.key)||null,j(A,O,G,W);case x:return O=O.get(G.key===null?k:G.key)||null,U(A,O,G,W);case ae:var pe=G._init;return G=pe(G._payload),B(O,A,k,G,W)}if(Ne(G)||J(G))return O=O.get(k)||null,$(A,O,G,W,null);if(typeof G.then=="function")return B(O,A,k,gl(G),W);if(G.$$typeof===M)return B(O,A,k,nl(A,G),W);pl(A,G)}return null}function ce(O,A,k,G){for(var W=null,pe=null,ne=A,re=A=0,We=null;ne!==null&&re<k.length;re++){ne.index>re?(We=ne,ne=null):We=ne.sibling;var xe=z(O,ne,k[re],G);if(xe===null){ne===null&&(ne=We);break}e&&ne&&xe.alternate===null&&t(O,ne),A=d(xe,A,re),pe===null?W=xe:pe.sibling=xe,pe=xe,ne=We}if(re===k.length)return a(O,ne),Ee&&ln(O,re),W;if(ne===null){for(;re<k.length;re++)ne=V(O,k[re],G),ne!==null&&(A=d(ne,A,re),pe===null?W=ne:pe.sibling=ne,pe=ne);return Ee&&ln(O,re),W}for(ne=n(ne);re<k.length;re++)We=B(ne,O,re,k[re],G),We!==null&&(e&&We.alternate!==null&&ne.delete(We.key===null?re:We.key),A=d(We,A,re),pe===null?W=We:pe.sibling=We,pe=We);return e&&ne.forEach(function(Va){return t(O,Va)}),Ee&&ln(O,re),W}function le(O,A,k,G){if(k==null)throw Error(l(151));for(var W=null,pe=null,ne=A,re=A=0,We=null,xe=k.next();ne!==null&&!xe.done;re++,xe=k.next()){ne.index>re?(We=ne,ne=null):We=ne.sibling;var Va=z(O,ne,xe.value,G);if(Va===null){ne===null&&(ne=We);break}e&&ne&&Va.alternate===null&&t(O,ne),A=d(Va,A,re),pe===null?W=Va:pe.sibling=Va,pe=Va,ne=We}if(xe.done)return a(O,ne),Ee&&ln(O,re),W;if(ne===null){for(;!xe.done;re++,xe=k.next())xe=V(O,xe.value,G),xe!==null&&(A=d(xe,A,re),pe===null?W=xe:pe.sibling=xe,pe=xe);return Ee&&ln(O,re),W}for(ne=n(ne);!xe.done;re++,xe=k.next())xe=B(ne,O,re,xe.value,G),xe!==null&&(e&&xe.alternate!==null&&ne.delete(xe.key===null?re:xe.key),A=d(xe,A,re),pe===null?W=xe:pe.sibling=xe,pe=xe);return e&&ne.forEach(function(iy){return t(O,iy)}),Ee&&ln(O,re),W}function Re(O,A,k,G){if(typeof k=="object"&&k!==null&&k.type===E&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case w:e:{for(var W=k.key;A!==null;){if(A.key===W){if(W=k.type,W===E){if(A.tag===7){a(O,A.sibling),G=o(A,k.props.children),G.return=O,O=G;break e}}else if(A.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ae&&ff(W)===A.type){a(O,A.sibling),G=o(A,k.props),ts(G,k),G.return=O,O=G;break e}a(O,A);break}else t(O,A);A=A.sibling}k.type===E?(G=nn(k.props.children,O.mode,G,k.key),G.return=O,O=G):(G=Ws(k.type,k.key,k.props,null,O.mode,G),ts(G,k),G.return=O,O=G)}return y(O);case x:e:{for(W=k.key;A!==null;){if(A.key===W)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){a(O,A.sibling),G=o(A,k.children||[]),G.return=O,O=G;break e}else{a(O,A);break}else t(O,A);A=A.sibling}G=Pr(k,O.mode,G),G.return=O,O=G}return y(O);case ae:return W=k._init,k=W(k._payload),Re(O,A,k,G)}if(Ne(k))return ce(O,A,k,G);if(J(k)){if(W=J(k),typeof W!="function")throw Error(l(150));return k=W.call(k),le(O,A,k,G)}if(typeof k.then=="function")return Re(O,A,gl(k),G);if(k.$$typeof===M)return Re(O,A,nl(O,k),G);pl(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,A!==null&&A.tag===6?(a(O,A.sibling),G=o(A,k),G.return=O,O=G):(a(O,A),G=Gr(k,O.mode,G),G.return=O,O=G),y(O)):a(O,A)}return function(O,A,k,G){try{es=0;var W=Re(O,A,k,G);return Qn=null,W}catch(ne){if(ne===Yi||ne===sl)throw ne;var pe=wt(29,ne,null,O.mode);return pe.lanes=G,pe.return=O,pe}finally{}}}var Xn=hf(!0),mf=hf(!1),Dt=K(null),Kt=null;function Ca(e){var t=e.alternate;I(Qe,Qe.current&1),I(Dt,e),Kt===null&&(t===null||Pn.current!==null||t.memoizedState!==null)&&(Kt=e)}function vf(e){if(e.tag===22){if(I(Qe,Qe.current),I(Dt,e),Kt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Kt=e)}}else Oa()}function Oa(){I(Qe,Qe.current),I(Dt,Dt.current)}function ca(e){F(Dt),Kt===e&&(Kt=null),F(Qe)}var Qe=K(0);function yl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function xo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var jo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Et(),o=Na(n);o.payload=t,a!=null&&(o.callback=a),t=Ta(e,o,n),t!==null&&(Nt(t,e,n),Qi(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Et(),o=Na(n);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ta(e,o,n),t!==null&&(Nt(t,e,n),Qi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Et(),n=Na(a);n.tag=2,t!=null&&(n.callback=t),t=Ta(e,n,a),t!==null&&(Nt(t,e,a),Qi(t,e,a))}};function gf(e,t,a,n,o,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,d,y):t.prototype&&t.prototype.isPureReactComponent?!Li(a,n)||!Li(o,d):!0}function pf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function hn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var _l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yf(e){_l(e)}function _f(e){console.error(e)}function bf(e){_l(e)}function bl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function wf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Eo(e,t,a){return a=Na(a),a.tag=3,a.payload={element:null},a.callback=function(){bl(e,t)},a}function Sf(e){return e=Na(e),e.tag=3,e}function xf(e,t,a,n){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=n.value;e.payload=function(){return o(d)},e.callback=function(){wf(t,a,n)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){wf(t,a,n),typeof o!="function"&&(za===null?za=new Set([this]):za.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})})}function ip(e,t,a,n,o){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Gi(t,a,o,!0),a=Dt.current,a!==null){switch(a.tag){case 13:return Kt===null?Zo():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=o,n===Wr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Jo(e,n,o)),!1;case 22:return a.flags|=65536,n===Wr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Jo(e,n,o)),!1}throw Error(l(435,a.tag))}return Jo(e,n,o),Zo(),!1}if(Ee)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,n!==Kr&&(e=Error(l(422),{cause:n}),$i(Ct(e,a)))):(n!==Kr&&(t=Error(l(423),{cause:n}),$i(Ct(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,n=Ct(n,a),o=Eo(e.stateNode,n,o),ao(e,o),$e!==4&&($e=2)),!1;var d=Error(l(520),{cause:n});if(d=Ct(d,a),os===null?os=[d]:os.push(d),$e!==4&&($e=2),t===null)return!0;n=Ct(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Eo(a.stateNode,n,e),ao(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(za===null||!za.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Sf(o),xf(o,e,a,n),ao(a,o),!1}a=a.return}while(a!==null);return!1}var jf=Error(l(461)),Je=!1;function at(e,t,a,n){t.child=e===null?mf(t,null,a,n):Xn(t,e.child,a,n)}function Ef(e,t,a,n,o){a=a.render;var d=t.ref;if("ref"in n){var y={};for(var _ in n)_!=="ref"&&(y[_]=n[_])}else y=n;return un(t),n=ro(e,t,a,y,d,o),_=oo(),e!==null&&!Je?(co(e,t,o),ua(e,t,o)):(Ee&&_&&Vr(t),t.flags|=1,at(e,t,n,o),t.child)}function Nf(e,t,a,n,o){if(e===null){var d=a.type;return typeof d=="function"&&!$r(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Tf(e,t,d,n,o)):(e=Ws(a.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Do(e,o)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Li,a(y,n)&&e.ref===t.ref)return ua(e,t,o)}return t.flags|=1,e=na(d,n),e.ref=t.ref,e.return=t,t.child=e}function Tf(e,t,a,n,o){if(e!==null){var d=e.memoizedProps;if(Li(d,n)&&e.ref===t.ref)if(Je=!1,t.pendingProps=n=d,Do(e,o))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,ua(e,t,o)}return No(e,t,a,n,o)}function Af(e,t,a){var n=t.pendingProps,o=n.children,d=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=d!==null?d.baseLanes|a:a,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~n}else t.childLanes=0,t.child=null;return Cf(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&il(t,d!==null?d.cachePool:null),d!==null?Nd(t,d):io(),vf(t);else return t.lanes=t.childLanes=536870912,Cf(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(il(t,d.cachePool),Nd(t,d),Oa(),t.memoizedState=null):(e!==null&&il(t,null),io(),Oa());return at(e,t,o,a),t.child}function Cf(e,t,a,n){var o=Fr();return o=o===null?null:{parent:Ke._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&il(t,null),io(),vf(t),e!==null&&Gi(e,t,n,!0),null}function wl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function No(e,t,a,n,o){return un(t),a=ro(e,t,a,n,void 0,o),n=oo(),e!==null&&!Je?(co(e,t,o),ua(e,t,o)):(Ee&&n&&Vr(t),t.flags|=1,at(e,t,a,o),t.child)}function Of(e,t,a,n,o,d){return un(t),t.updateQueue=null,a=Ad(t,n,a,o),Td(e),n=oo(),e!==null&&!Je?(co(e,t,d),ua(e,t,d)):(Ee&&n&&Vr(t),t.flags|=1,at(e,t,a,d),t.child)}function Rf(e,t,a,n,o){if(un(t),t.stateNode===null){var d=Bn,y=a.contextType;typeof y=="object"&&y!==null&&(d=rt(y)),d=new a(n,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=n,d.state=t.memoizedState,d.refs={},eo(t),y=a.contextType,d.context=typeof y=="object"&&y!==null?rt(y):Bn,d.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(xo(t,a,y,n),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&jo.enqueueReplaceState(d,d.state,null),Zi(t,n,d,o),Xi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){d=t.stateNode;var _=t.memoizedProps,j=hn(a,_);d.props=j;var U=d.context,$=a.contextType;y=Bn,typeof $=="object"&&$!==null&&(y=rt($));var V=a.getDerivedStateFromProps;$=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||U!==y)&&pf(t,d,n,y),Ea=!1;var z=t.memoizedState;d.state=z,Zi(t,n,d,o),Xi(),U=t.memoizedState,_||z!==U||Ea?(typeof V=="function"&&(xo(t,a,V,n),U=t.memoizedState),(j=Ea||gf(t,a,j,n,z,U,y))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=U),d.props=n,d.state=U,d.context=y,n=j):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{d=t.stateNode,to(e,t),y=t.memoizedProps,$=hn(a,y),d.props=$,V=t.pendingProps,z=d.context,U=a.contextType,j=Bn,typeof U=="object"&&U!==null&&(j=rt(U)),_=a.getDerivedStateFromProps,(U=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==V||z!==j)&&pf(t,d,n,j),Ea=!1,z=t.memoizedState,d.state=z,Zi(t,n,d,o),Xi();var B=t.memoizedState;y!==V||z!==B||Ea||e!==null&&e.dependencies!==null&&al(e.dependencies)?(typeof _=="function"&&(xo(t,a,_,n),B=t.memoizedState),($=Ea||gf(t,a,$,n,z,B,j)||e!==null&&e.dependencies!==null&&al(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,B,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,B,j)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=B),d.props=n,d.state=B,d.context=j,n=$):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),n=!1)}return d=n,wl(e,t),n=(t.flags&128)!==0,d||n?(d=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&n?(t.child=Xn(t,e.child,null,o),t.child=Xn(t,null,a,o)):at(e,t,a,o),t.memoizedState=d.state,e=t.child):e=ua(e,t,o),e}function kf(e,t,a,n){return Hi(),t.flags|=256,at(e,t,a,n),t.child}var To={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ao(e){return{baseLanes:e,cachePool:yd()}}function Co(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Mt),e}function Df(e,t,a){var n=t.pendingProps,o=!1,d=(t.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),y&&(o=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?Ca(t):Oa(),Ee){var _=He,j;if(j=_){e:{for(j=_,_=Yt;j.nodeType!==8;){if(!_){_=null;break e}if(j=qt(j.nextSibling),j===null){_=null;break e}}_=j}_!==null?(t.memoizedState={dehydrated:_,treeContext:sn!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},j=wt(18,null,null,0),j.stateNode=_,j.return=t,t.child=j,ut=t,He=null,j=!0):j=!1}j||on(t)}if(_=t.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return fc(_)?t.lanes=32:t.lanes=536870912,null;ca(t)}return _=n.children,n=n.fallback,o?(Oa(),o=t.mode,_=Sl({mode:"hidden",children:_},o),n=nn(n,o,a,null),_.return=t,n.return=t,_.sibling=n,t.child=_,o=t.child,o.memoizedState=Ao(a),o.childLanes=Co(e,y,a),t.memoizedState=To,n):(Ca(t),Oo(t,_))}if(j=e.memoizedState,j!==null&&(_=j.dehydrated,_!==null)){if(d)t.flags&256?(Ca(t),t.flags&=-257,t=Ro(e,t,a)):t.memoizedState!==null?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),o=n.fallback,_=t.mode,n=Sl({mode:"visible",children:n.children},_),o=nn(o,_,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,Xn(t,e.child,null,a),n=t.child,n.memoizedState=Ao(a),n.childLanes=Co(e,y,a),t.memoizedState=To,t=o);else if(Ca(t),fc(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var U=y.dgst;y=U,n=Error(l(419)),n.stack="",n.digest=y,$i({value:n,source:null,stack:null}),t=Ro(e,t,a)}else if(Je||Gi(e,t,a,!1),y=(a&e.childLanes)!==0,Je||y){if(y=Me,y!==null&&(n=a&-a,n=(n&42)!==0?1:fr(n),n=(n&(y.suspendedLanes|a))!==0?0:n,n!==0&&n!==j.retryLane))throw j.retryLane=n,Ln(e,n),Nt(y,e,n),jf;_.data==="$?"||Zo(),t=Ro(e,t,a)}else _.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,He=qt(_.nextSibling),ut=t,Ee=!0,rn=null,Yt=!1,e!==null&&(Rt[kt++]=ia,Rt[kt++]=sa,Rt[kt++]=sn,ia=e.id,sa=e.overflow,sn=t),t=Oo(t,n.children),t.flags|=4096);return t}return o?(Oa(),o=n.fallback,_=t.mode,j=e.child,U=j.sibling,n=na(j,{mode:"hidden",children:n.children}),n.subtreeFlags=j.subtreeFlags&65011712,U!==null?o=na(U,o):(o=nn(o,_,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,_=e.child.memoizedState,_===null?_=Ao(a):(j=_.cachePool,j!==null?(U=Ke._currentValue,j=j.parent!==U?{parent:U,pool:U}:j):j=yd(),_={baseLanes:_.baseLanes|a,cachePool:j}),o.memoizedState=_,o.childLanes=Co(e,y,a),t.memoizedState=To,n):(Ca(t),a=e.child,e=a.sibling,a=na(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function Oo(e,t){return t=Sl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Sl(e,t){return e=wt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ro(e,t,a){return Xn(t,e.child,null,a),e=Oo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Xr(e.return,t,a)}function ko(e,t,a,n,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=a,d.tailMode=o)}function Uf(e,t,a){var n=t.pendingProps,o=n.revealOrder,d=n.tail;if(at(e,t,n.children,a),n=Qe.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mf(e,a,t);else if(e.tag===19)Mf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(I(Qe,n),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&yl(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),ko(t,!1,o,a,d);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yl(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}ko(t,!0,a,null,d);break;case"together":ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ua|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Gi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=na(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=na(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Do(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&al(e)))}function sp(e,t,a){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),ja(t,Ke,e.memoizedState.cache),Hi();break;case 27:case 5:Q(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:ja(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ca(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Df(e,t,a):(Ca(t),e=ua(e,t,a),e!==null?e.sibling:null);Ca(t);break;case 19:var o=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Gi(e,t,a,!1),n=(a&t.childLanes)!==0),o){if(n)return Uf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Qe,Qe.current),n)break;return null;case 22:case 23:return t.lanes=0,Af(e,t,a);case 24:ja(t,Ke,e.memoizedState.cache)}return ua(e,t,a)}function zf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Do(e,a)&&(t.flags&128)===0)return Je=!1,sp(e,t,a);Je=(e.flags&131072)!==0}else Je=!1,Ee&&(t.flags&1048576)!==0&&dd(t,tl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,o=n._init;if(n=o(n._payload),t.type=n,typeof n=="function")$r(n)?(e=hn(n,e),t.tag=1,t=Rf(null,t,n,e,a)):(t.tag=0,t=No(null,t,n,e,a));else{if(n!=null){if(o=n.$$typeof,o===Y){t.tag=11,t=Ef(null,t,n,e,a);break e}else if(o===P){t.tag=14,t=Nf(null,t,n,e,a);break e}}throw t=ie(n)||n,Error(l(306,t,""))}}return t;case 0:return No(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,o=hn(n,t.pendingProps),Rf(e,t,n,o,a);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var d=t.memoizedState;o=d.element,to(e,t),Zi(t,n,null,a);var y=t.memoizedState;if(n=y.cache,ja(t,Ke,n),n!==d.cache&&Zr(t,[Ke],a,!0),Xi(),n=y.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=kf(e,t,n,a);break e}else if(n!==o){o=Ct(Error(l(424)),t),$i(o),t=kf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=qt(e.firstChild),ut=t,Ee=!0,rn=null,Yt=!0,a=mf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hi(),n===o){t=ua(e,t,a);break e}at(e,t,n,a)}t=t.child}return t;case 26:return wl(e,t),e===null?(a=Hh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,n=zl(de.current).createElement(a),n[lt]=t,n[ft]=e,it(n,a,e),Ie(n),t.stateNode=n):t.memoizedState=Hh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),e===null&&Ee&&(n=t.stateNode=Lh(t.type,t.pendingProps,de.current),ut=t,Yt=!0,o=He,qa(t.type)?(hc=o,He=qt(n.firstChild)):He=o),at(e,t,t.pendingProps.children,a),wl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=n=He)&&(n=Dp(n,t.type,t.pendingProps,Yt),n!==null?(t.stateNode=n,ut=t,He=qt(n.firstChild),Yt=!1,o=!0):o=!1),o||on(t)),Q(t),o=t.type,d=t.pendingProps,y=e!==null?e.memoizedProps:null,n=d.children,cc(o,d)?n=null:y!==null&&cc(o,y)&&(t.flags|=32),t.memoizedState!==null&&(o=ro(e,t,Jg,null,null,a),ps._currentValue=o),wl(e,t),at(e,t,n,a),t.child;case 6:return e===null&&Ee&&((e=a=He)&&(a=Mp(a,t.pendingProps,Yt),a!==null?(t.stateNode=a,ut=t,He=null,e=!0):e=!1),e||on(t)),null;case 13:return Df(e,t,a);case 4:return De(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xn(t,null,n,a):at(e,t,n,a),t.child;case 11:return Ef(e,t,t.type,t.pendingProps,a);case 7:return at(e,t,t.pendingProps,a),t.child;case 8:return at(e,t,t.pendingProps.children,a),t.child;case 12:return at(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ja(t,t.type,n.value),at(e,t,n.children,a),t.child;case 9:return o=t.type._context,n=t.pendingProps.children,un(t),o=rt(o),n=n(o),t.flags|=1,at(e,t,n,a),t.child;case 14:return Nf(e,t,t.type,t.pendingProps,a);case 15:return Tf(e,t,t.type,t.pendingProps,a);case 19:return Uf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Sl(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=na(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Af(e,t,a);case 24:return un(t),n=rt(Ke),e===null?(o=Fr(),o===null&&(o=Me,d=Ir(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:n,cache:o},eo(t),ja(t,Ke,o)):((e.lanes&a)!==0&&(to(e,t),Zi(t,null,null,a),Xi()),o=e.memoizedState,d=t.memoizedState,o.parent!==n?(o={parent:n,cache:n},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ja(t,Ke,n)):(n=d.cache,ja(t,Ke,n),n!==o.cache&&Zr(t,[Ke],a,!0))),at(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function da(e){e.flags|=4}function Lf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yh(t)){if(t=Dt.current,t!==null&&((Se&4194048)===Se?Kt!==null:(Se&62914560)!==Se&&(Se&536870912)===0||t!==Kt))throw Ki=Wr,_d;e.flags|=8192}}function xl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mu():536870912,e.lanes|=t,Fn|=t)}function as(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags&65011712,n|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function lp(e,t,a){var n=t.pendingProps;switch(Yr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ra(Ke),pt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(qi(t)?da(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,md())),Le(t),null;case 26:return a=t.memoizedState,e===null?(da(t),a!==null?(Le(t),Lf(t,a)):(Le(t),t.flags&=-16777217)):a?a!==e.memoizedState?(da(t),Le(t),Lf(t,a)):(Le(t),t.flags&=-16777217):(e.memoizedProps!==n&&da(t),Le(t),t.flags&=-16777217),null;case 27:me(t),a=de.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&da(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Le(t),null}e=se.current,qi(t)?fd(t):(e=Lh(o,n,a),t.stateNode=e,da(t))}return Le(t),null;case 5:if(me(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&da(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Le(t),null}if(e=se.current,qi(t))fd(t);else{switch(o=zl(de.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}e[lt]=t,e[ft]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(it(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&da(t)}}return Le(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&da(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=de.current,qi(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,o=ut,o!==null)switch(o.tag){case 27:case 5:n=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Oh(e.nodeValue,a)),e||on(t)}else e=zl(e).createTextNode(n),e[lt]=t,t.stateNode=e}return Le(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=qi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[lt]=t}else Hi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),o=!1}else o=md(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ca(t),t):(ca(t),null)}if(ca(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,o=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(o=n.alternate.memoizedState.cachePool.pool);var d=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==o&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),xl(t,t.updateQueue),Le(t),null;case 4:return pt(),e===null&&ic(t.stateNode.containerInfo),Le(t),null;case 10:return ra(t.type),Le(t),null;case 19:if(F(Qe),o=t.memoizedState,o===null)return Le(t),null;if(n=(t.flags&128)!==0,d=o.rendering,d===null)if(n)as(o,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=yl(e),d!==null){for(t.flags|=128,as(o,!1),e=d.updateQueue,t.updateQueue=e,xl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ud(a,e),a=a.sibling;return I(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Vt()>Nl&&(t.flags|=128,n=!0,as(o,!1),t.lanes=4194304)}else{if(!n)if(e=yl(d),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,xl(t,e),as(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ee)return Le(t),null}else 2*Vt()-o.renderingStartTime>Nl&&a!==536870912&&(t.flags|=128,n=!0,as(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Vt(),t.sibling=null,e=Qe.current,I(Qe,n?e&1|2:e&1),t):(Le(t),null);case 22:case 23:return ca(t),so(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),a=t.updateQueue,a!==null&&xl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&F(dn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ra(Ke),Le(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function rp(e,t){switch(Yr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(Ke),pt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 13:if(ca(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(Qe),null;case 4:return pt(),null;case 10:return ra(t.type),null;case 22:case 23:return ca(t),so(),e!==null&&F(dn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra(Ke),null;case 25:return null;default:return null}}function Bf(e,t){switch(Yr(t),t.tag){case 3:ra(Ke),pt();break;case 26:case 27:case 5:me(t);break;case 4:pt();break;case 13:ca(t);break;case 19:F(Qe);break;case 10:ra(t.type);break;case 22:case 23:ca(t),so(),e!==null&&F(dn);break;case 24:ra(Ke)}}function ns(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var o=n.next;a=o;do{if((a.tag&e)===e){n=void 0;var d=a.create,y=a.inst;n=d(),y.destroy=n}a=a.next}while(a!==o)}}catch(_){ke(t,t.return,_)}}function Ra(e,t,a){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var d=o.next;n=d;do{if((n.tag&e)===e){var y=n.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,o=t;var j=a,U=_;try{U()}catch($){ke(o,j,$)}}}n=n.next}while(n!==d)}}catch($){ke(t,t.return,$)}}function qf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ed(t,a)}catch(n){ke(e,e.return,n)}}}function Hf(e,t,a){a.props=hn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ke(e,t,n)}}function is(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(o){ke(e,t,o)}}function Qt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(o){ke(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){ke(e,t,o)}else a.current=null}function $f(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(o){ke(e,e.return,o)}}function Mo(e,t,a){try{var n=e.stateNode;Ap(n,e.type,a,t),n[ft]=t}catch(o){ke(e,e.return,o)}}function Gf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qa(e.type)||e.tag===4}function Uo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ul));else if(n!==4&&(n===27&&qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(zo(e,t,a),e=e.sibling;e!==null;)zo(e,t,a),e=e.sibling}function jl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(jl(e,t,a),e=e.sibling;e!==null;)jl(e,t,a),e=e.sibling}function Pf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);it(t,n,a),t[lt]=e,t[ft]=a}catch(d){ke(e,e.return,d)}}var fa=!1,Pe=!1,Lo=!1,Vf=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function op(e,t){if(e=e.containerInfo,rc=Gl,e=ed(e),Mr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var o=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,_=-1,j=-1,U=0,$=0,V=e,z=null;t:for(;;){for(var B;V!==a||o!==0&&V.nodeType!==3||(_=y+o),V!==d||n!==0&&V.nodeType!==3||(j=y+n),V.nodeType===3&&(y+=V.nodeValue.length),(B=V.firstChild)!==null;)z=V,V=B;for(;;){if(V===e)break t;if(z===a&&++U===o&&(_=y),z===d&&++$===n&&(j=y),(B=V.nextSibling)!==null)break;V=z,z=V.parentNode}V=B}a=_===-1||j===-1?null:{start:_,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(oc={focusedElem:e,selectionRange:a},Gl=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){switch(t=Fe,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,n=a.stateNode;try{var ce=hn(a.type,o,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(ce,d),n.__reactInternalSnapshotBeforeUpdate=e}catch(le){ke(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)dc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}}function Yf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ka(e,a),n&4&&ns(5,a);break;case 1:if(ka(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){ke(a,a.return,y)}else{var o=hn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ke(a,a.return,y)}}n&64&&qf(a),n&512&&is(a,a.return);break;case 3:if(ka(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ed(e,t)}catch(y){ke(a,a.return,y)}}break;case 27:t===null&&n&4&&Pf(a);case 26:case 5:ka(e,a),t===null&&n&4&&$f(a),n&512&&is(a,a.return);break;case 12:ka(e,a);break;case 13:ka(e,a),n&4&&Xf(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=pp.bind(null,a),Up(e,a))));break;case 22:if(n=a.memoizedState!==null||fa,!n){t=t!==null&&t.memoizedState!==null||Pe,o=fa;var d=Pe;fa=n,(Pe=t)&&!d?Da(e,a,(a.subtreeFlags&8772)!==0):ka(e,a),fa=o,Pe=d}break;case 30:break;default:ka(e,a)}}function Kf(e){var t=e.alternate;t!==null&&(e.alternate=null,Kf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,vt=!1;function ha(e,t,a){for(a=a.child;a!==null;)Qf(e,t,a),a=a.sibling}function Qf(e,t,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Ei,a)}catch{}switch(a.tag){case 26:Pe||Qt(a,t),ha(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Qt(a,t);var n=ze,o=vt;qa(a.type)&&(ze=a.stateNode,vt=!1),ha(e,t,a),hs(a.stateNode),ze=n,vt=o;break;case 5:Pe||Qt(a,t);case 6:if(n=ze,o=vt,ze=null,ha(e,t,a),ze=n,vt=o,ze!==null)if(vt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(a.stateNode)}catch(d){ke(a,t,d)}else try{ze.removeChild(a.stateNode)}catch(d){ke(a,t,d)}break;case 18:ze!==null&&(vt?(e=ze,Uh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ws(e)):Uh(ze,a.stateNode));break;case 4:n=ze,o=vt,ze=a.stateNode.containerInfo,vt=!0,ha(e,t,a),ze=n,vt=o;break;case 0:case 11:case 14:case 15:Pe||Ra(2,a,t),Pe||Ra(4,a,t),ha(e,t,a);break;case 1:Pe||(Qt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Hf(a,t,n)),ha(e,t,a);break;case 21:ha(e,t,a);break;case 22:Pe=(n=Pe)||a.memoizedState!==null,ha(e,t,a),Pe=n;break;default:ha(e,t,a)}}function Xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ws(e)}catch(a){ke(t,t.return,a)}}function cp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vf),t;default:throw Error(l(435,e.tag))}}function Bo(e,t){var a=cp(e);t.forEach(function(n){var o=yp.bind(null,e,n);a.has(n)||(a.add(n),n.then(o,o))})}function St(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var o=a[n],d=e,y=t,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(qa(_.type)){ze=_.stateNode,vt=!1;break e}break;case 5:ze=_.stateNode,vt=!1;break e;case 3:case 4:ze=_.stateNode.containerInfo,vt=!0;break e}_=_.return}if(ze===null)throw Error(l(160));Qf(d,y,o),ze=null,vt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Zf(t,e),t=t.sibling}var Bt=null;function Zf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),xt(e),n&4&&(Ra(3,e,e.return),ns(3,e),Ra(5,e,e.return));break;case 1:St(t,e),xt(e),n&512&&(Pe||a===null||Qt(a,a.return)),n&64&&fa&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var o=Bt;if(St(t,e),xt(e),n&512&&(Pe||a===null||Qt(a,a.return)),n&4){var d=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(n){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Ai]||d[lt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(n),o.head.insertBefore(d,o.querySelector("head > title"))),it(d,n,a),d[lt]=e,Ie(d),n=d;break e;case"link":var y=Ph("link","href",o).get(n+(a.href||""));if(y){for(var _=0;_<y.length;_++)if(d=y[_],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(_,1);break t}}d=o.createElement(n),it(d,n,a),o.head.appendChild(d);break;case"meta":if(y=Ph("meta","content",o).get(n+(a.content||""))){for(_=0;_<y.length;_++)if(d=y[_],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(_,1);break t}}d=o.createElement(n),it(d,n,a),o.head.appendChild(d);break;default:throw Error(l(468,n))}d[lt]=e,Ie(d),n=d}e.stateNode=n}else Vh(o,e.type,e.stateNode);else e.stateNode=Gh(o,n,e.memoizedProps);else d!==n?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,n===null?Vh(o,e.type,e.stateNode):Gh(o,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Mo(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(t,e),xt(e),n&512&&(Pe||a===null||Qt(a,a.return)),a!==null&&n&4&&Mo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(t,e),xt(e),n&512&&(Pe||a===null||Qt(a,a.return)),e.flags&32){o=e.stateNode;try{On(o,"")}catch(B){ke(e,e.return,B)}}n&4&&e.stateNode!=null&&(o=e.memoizedProps,Mo(e,o,a!==null?a.memoizedProps:o)),n&1024&&(Lo=!0);break;case 6:if(St(t,e),xt(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(B){ke(e,e.return,B)}}break;case 3:if(ql=null,o=Bt,Bt=Ll(t.containerInfo),St(t,e),Bt=o,xt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{ws(t.containerInfo)}catch(B){ke(e,e.return,B)}Lo&&(Lo=!1,If(e));break;case 4:n=Bt,Bt=Ll(e.stateNode.containerInfo),St(t,e),xt(e),Bt=n;break;case 12:St(t,e),xt(e);break;case 13:St(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vo=Vt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Bo(e,n)));break;case 22:o=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,U=fa,$=Pe;if(fa=U||o,Pe=$||j,St(t,e),Pe=$,fa=U,xt(e),n&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||j||fa||Pe||mn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(d=j.stateNode,o)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=j.stateNode;var V=j.memoizedProps.style,z=V!=null&&V.hasOwnProperty("display")?V.display:null;_.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){ke(j,j.return,B)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=o?"":j.memoizedProps}catch(B){ke(j,j.return,B)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Bo(e,a))));break;case 19:St(t,e),xt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Bo(e,n)));break;case 30:break;case 21:break;default:St(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Gf(n)){a=n;break}n=n.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,d=Uo(e);jl(e,d,o);break;case 5:var y=a.stateNode;a.flags&32&&(On(y,""),a.flags&=-33);var _=Uo(e);jl(e,_,y);break;case 3:case 4:var j=a.stateNode.containerInfo,U=Uo(e);zo(e,U,j);break;default:throw Error(l(161))}}catch($){ke(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function If(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;If(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ka(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Yf(e,t.alternate,t),t=t.sibling}function mn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ra(4,t,t.return),mn(t);break;case 1:Qt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Hf(t,t.return,a),mn(t);break;case 27:hs(t.stateNode);case 26:case 5:Qt(t,t.return),mn(t);break;case 22:t.memoizedState===null&&mn(t);break;case 30:mn(t);break;default:mn(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,o=e,d=t,y=d.flags;switch(d.tag){case 0:case 11:case 15:Da(o,d,a),ns(4,d);break;case 1:if(Da(o,d,a),n=d,o=n.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(U){ke(n,n.return,U)}if(n=d,o=n.updateQueue,o!==null){var _=n.stateNode;try{var j=o.shared.hiddenCallbacks;if(j!==null)for(o.shared.hiddenCallbacks=null,o=0;o<j.length;o++)jd(j[o],_)}catch(U){ke(n,n.return,U)}}a&&y&64&&qf(d),is(d,d.return);break;case 27:Pf(d);case 26:case 5:Da(o,d,a),a&&n===null&&y&4&&$f(d),is(d,d.return);break;case 12:Da(o,d,a);break;case 13:Da(o,d,a),a&&y&4&&Xf(o,d);break;case 22:d.memoizedState===null&&Da(o,d,a),is(d,d.return);break;case 30:break;default:Da(o,d,a)}t=t.sibling}}function qo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Pi(a))}function Ho(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pi(e))}function Xt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jf(e,t,a,n),t=t.sibling}function Jf(e,t,a,n){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Xt(e,t,a,n),o&2048&&ns(9,t);break;case 1:Xt(e,t,a,n);break;case 3:Xt(e,t,a,n),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pi(e)));break;case 12:if(o&2048){Xt(e,t,a,n),e=t.stateNode;try{var d=t.memoizedProps,y=d.id,_=d.onPostCommit;typeof _=="function"&&_(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){ke(t,t.return,j)}}else Xt(e,t,a,n);break;case 13:Xt(e,t,a,n);break;case 23:break;case 22:d=t.stateNode,y=t.alternate,t.memoizedState!==null?d._visibility&2?Xt(e,t,a,n):ss(e,t):d._visibility&2?Xt(e,t,a,n):(d._visibility|=2,Zn(e,t,a,n,(t.subtreeFlags&10256)!==0)),o&2048&&qo(y,t);break;case 24:Xt(e,t,a,n),o&2048&&Ho(t.alternate,t);break;default:Xt(e,t,a,n)}}function Zn(e,t,a,n,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,y=t,_=a,j=n,U=y.flags;switch(y.tag){case 0:case 11:case 15:Zn(d,y,_,j,o),ns(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Zn(d,y,_,j,o):ss(d,y):($._visibility|=2,Zn(d,y,_,j,o)),o&&U&2048&&qo(y.alternate,y);break;case 24:Zn(d,y,_,j,o),o&&U&2048&&Ho(y.alternate,y);break;default:Zn(d,y,_,j,o)}t=t.sibling}}function ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,o=n.flags;switch(n.tag){case 22:ss(a,n),o&2048&&qo(n.alternate,n);break;case 24:ss(a,n),o&2048&&Ho(n.alternate,n);break;default:ss(a,n)}t=t.sibling}}var ls=8192;function In(e){if(e.subtreeFlags&ls)for(e=e.child;e!==null;)Ff(e),e=e.sibling}function Ff(e){switch(e.tag){case 26:In(e),e.flags&ls&&e.memoizedState!==null&&Xp(Bt,e.memoizedState,e.memoizedProps);break;case 5:In(e);break;case 3:case 4:var t=Bt;Bt=Ll(e.stateNode.containerInfo),In(e),Bt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ls,ls=16777216,In(e),ls=t):In(e));break;default:In(e)}}function Wf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Fe=n,th(n,e)}Wf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eh(e),e=e.sibling}function eh(e){switch(e.tag){case 0:case 11:case 15:rs(e),e.flags&2048&&Ra(9,e,e.return);break;case 3:rs(e);break;case 12:rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,El(e)):rs(e);break;default:rs(e)}}function El(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Fe=n,th(n,e)}Wf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ra(8,t,t.return),El(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,El(t));break;default:El(t)}e=e.sibling}}function th(e,t){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Ra(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Pi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Fe=n;else e:for(a=e;Fe!==null;){n=Fe;var o=n.sibling,d=n.return;if(Kf(n),n===a){Fe=null;break e}if(o!==null){o.return=d,Fe=o;break e}Fe=d}}}var up={getCacheForType:function(e){var t=rt(Ke),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},dp=typeof WeakMap=="function"?WeakMap:Map,Te=0,Me=null,ye=null,Se=0,Ae=0,jt=null,Ma=!1,Jn=!1,$o=!1,ma=0,$e=0,Ua=0,vn=0,Go=0,Mt=0,Fn=0,os=null,gt=null,Po=!1,Vo=0,Nl=1/0,Tl=null,za=null,nt=0,La=null,Wn=null,ei=0,Yo=0,Ko=null,ah=null,cs=0,Qo=null;function Et(){if((Te&2)!==0&&Se!==0)return Se&-Se;if(H.T!==null){var e=$n;return e!==0?e:ec()}return pu()}function nh(){Mt===0&&(Mt=(Se&536870912)===0||Ee?hu():536870912);var e=Dt.current;return e!==null&&(e.flags|=32),Mt}function Nt(e,t,a){(e===Me&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(ti(e,0),Ba(e,Se,Mt,!1)),Ti(e,a),((Te&2)===0||e!==Me)&&(e===Me&&((Te&2)===0&&(vn|=a),$e===4&&Ba(e,Se,Mt,!1)),Zt(e))}function ih(e,t,a){if((Te&6)!==0)throw Error(l(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Ni(e,t),o=n?mp(e,t):Io(e,t,!0),d=n;do{if(o===0){Jn&&!n&&Ba(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!fp(a)){o=Io(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var _=e;o=os;var j=_.current.memoizedState.isDehydrated;if(j&&(ti(_,y).flags|=256),y=Io(_,y,!1),y!==2){if($o&&!j){_.errorRecoveryDisabledLanes|=d,vn|=d,o=4;break e}d=gt,gt=o,d!==null&&(gt===null?gt=d:gt.push.apply(gt,d))}o=y}if(d=!1,o!==2)continue}}if(o===1){ti(e,0),Ba(e,t,0,!0);break}e:{switch(n=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ba(n,t,Mt,!Ma);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Vo+300-Vt(),10<o)){if(Ba(n,t,Mt,!Ma),Bs(n,0,!0)!==0)break e;n.timeoutHandle=Dh(sh.bind(null,n,a,gt,Tl,Po,t,Mt,vn,Fn,Ma,d,2,-0,0),o);break e}sh(n,a,gt,Tl,Po,t,Mt,vn,Fn,Ma,d,0,-0,0)}}break}while(!0);Zt(e)}function sh(e,t,a,n,o,d,y,_,j,U,$,V,z,B){if(e.timeoutHandle=-1,V=t.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(gs={stylesheets:null,count:0,unsuspend:Qp},Ff(t),V=Zp(),V!==null)){e.cancelPendingCommit=V(fh.bind(null,e,t,d,a,n,o,y,_,j,$,1,z,B)),Ba(e,d,y,!U);return}fh(e,t,d,a,n,o,y,_,j)}function fp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var o=a[n],d=o.getSnapshot;o=o.value;try{if(!bt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t,a,n){t&=~Go,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var o=t;0<o;){var d=31-_t(o),y=1<<d;n[d]=-1,o&=~y}a!==0&&vu(e,a,t)}function Al(){return(Te&6)===0?(us(0),!1):!0}function Xo(){if(ye!==null){if(Ae===0)var e=ye.return;else e=ye,la=cn=null,uo(e),Qn=null,es=0,e=ye;for(;e!==null;)Bf(e.alternate,e),e=e.return;ye=null}}function ti(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Op(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xo(),Me=e,ye=a=na(e.current,null),Se=t,Ae=0,jt=null,Ma=!1,Jn=Ni(e,t),$o=!1,Fn=Mt=Go=vn=Ua=$e=0,gt=os=null,Po=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var o=31-_t(n),d=1<<o;t|=e[o],n&=~d}return ma=t,Is(),a}function lh(e,t){ge=null,H.H=vl,t===Yi||t===sl?(t=Sd(),Ae=3):t===_d?(t=Sd(),Ae=4):Ae=t===jf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,ye===null&&($e=1,bl(e,Ct(t,e.current)))}function rh(){var e=H.H;return H.H=vl,e===null?vl:e}function oh(){var e=H.A;return H.A=up,e}function Zo(){$e=4,Ma||(Se&4194048)!==Se&&Dt.current!==null||(Jn=!0),(Ua&134217727)===0&&(vn&134217727)===0||Me===null||Ba(Me,Se,Mt,!1)}function Io(e,t,a){var n=Te;Te|=2;var o=rh(),d=oh();(Me!==e||Se!==t)&&(Tl=null,ti(e,t)),t=!1;var y=$e;e:do try{if(Ae!==0&&ye!==null){var _=ye,j=jt;switch(Ae){case 8:Xo(),y=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var U=Ae;if(Ae=0,jt=null,ai(e,_,j,U),a&&Jn){y=0;break e}break;default:U=Ae,Ae=0,jt=null,ai(e,_,j,U)}}hp(),y=$e;break}catch($){lh(e,$)}while(!0);return t&&e.shellSuspendCounter++,la=cn=null,Te=n,H.H=o,H.A=d,ye===null&&(Me=null,Se=0,Is()),y}function hp(){for(;ye!==null;)ch(ye)}function mp(e,t){var a=Te;Te|=2;var n=rh(),o=oh();Me!==e||Se!==t?(Tl=null,Nl=Vt()+500,ti(e,t)):Jn=Ni(e,t);e:do try{if(Ae!==0&&ye!==null){t=ye;var d=jt;t:switch(Ae){case 1:Ae=0,jt=null,ai(e,t,d,1);break;case 2:case 9:if(bd(d)){Ae=0,jt=null,uh(t);break}t=function(){Ae!==2&&Ae!==9||Me!==e||(Ae=7),Zt(e)},d.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:bd(d)?(Ae=0,jt=null,uh(t)):(Ae=0,jt=null,ai(e,t,d,7));break;case 5:var y=null;switch(ye.tag){case 26:y=ye.memoizedState;case 5:case 27:var _=ye;if(!y||Yh(y)){Ae=0,jt=null;var j=_.sibling;if(j!==null)ye=j;else{var U=_.return;U!==null?(ye=U,Cl(U)):ye=null}break t}}Ae=0,jt=null,ai(e,t,d,5);break;case 6:Ae=0,jt=null,ai(e,t,d,6);break;case 8:Xo(),$e=6;break e;default:throw Error(l(462))}}vp();break}catch($){lh(e,$)}while(!0);return la=cn=null,H.H=n,H.A=o,Te=a,ye!==null?0:(Me=null,Se=0,Is(),$e)}function vp(){for(;ye!==null&&!ur();)ch(ye)}function ch(e){var t=zf(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?Cl(e):ye=t}function uh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Of(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Of(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:uo(t);default:Bf(a,t),t=ye=ud(t,ma),t=zf(a,t,ma)}e.memoizedProps=e.pendingProps,t===null?Cl(e):ye=t}function ai(e,t,a,n){la=cn=null,uo(t),Qn=null,es=0;var o=t.return;try{if(ip(e,o,t,a,Se)){$e=1,bl(e,Ct(a,e.current)),ye=null;return}}catch(d){if(o!==null)throw ye=o,d;$e=1,bl(e,Ct(a,e.current)),ye=null;return}t.flags&32768?(Ee||n===1?e=!0:Jn||(Se&536870912)!==0?e=!1:(Ma=e=!0,(n===2||n===9||n===3||n===6)&&(n=Dt.current,n!==null&&n.tag===13&&(n.flags|=16384))),dh(t,e)):Cl(t)}function Cl(e){var t=e;do{if((t.flags&32768)!==0){dh(t,Ma);return}e=t.return;var a=lp(t.alternate,t,ma);if(a!==null){ye=a;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);$e===0&&($e=5)}function dh(e,t){do{var a=rp(e.alternate,e);if(a!==null){a.flags&=32767,ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=a}while(e!==null);$e=6,ye=null}function fh(e,t,a,n,o,d,y,_,j){e.cancelPendingCommit=null;do Ol();while(nt!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=qr,Qv(e,a,d,y,_,j),e===Me&&(ye=Me=null,Se=0),Wn=t,La=e,ei=a,Yo=d,Ko=o,ah=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_p(Us,function(){return ph(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=H.T,H.T=null,o=X.p,X.p=2,y=Te,Te|=4;try{op(e,t,a)}finally{Te=y,X.p=o,H.T=n}}nt=1,hh(),mh(),vh()}}function hh(){if(nt===1){nt=0;var e=La,t=Wn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var n=X.p;X.p=2;var o=Te;Te|=4;try{Zf(t,e);var d=oc,y=ed(e.containerInfo),_=d.focusedElem,j=d.selectionRange;if(y!==_&&_&&_.ownerDocument&&Wu(_.ownerDocument.documentElement,_)){if(j!==null&&Mr(_)){var U=j.start,$=j.end;if($===void 0&&($=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min($,_.value.length);else{var V=_.ownerDocument||document,z=V&&V.defaultView||window;if(z.getSelection){var B=z.getSelection(),ce=_.textContent.length,le=Math.min(j.start,ce),Re=j.end===void 0?le:Math.min(j.end,ce);!B.extend&&le>Re&&(y=Re,Re=le,le=y);var O=Fu(_,le),A=Fu(_,Re);if(O&&A&&(B.rangeCount!==1||B.anchorNode!==O.node||B.anchorOffset!==O.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var k=V.createRange();k.setStart(O.node,O.offset),B.removeAllRanges(),le>Re?(B.addRange(k),B.extend(A.node,A.offset)):(k.setEnd(A.node,A.offset),B.addRange(k))}}}}for(V=[],B=_;B=B.parentNode;)B.nodeType===1&&V.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<V.length;_++){var G=V[_];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Gl=!!rc,oc=rc=null}finally{Te=o,X.p=n,H.T=a}}e.current=t,nt=2}}function mh(){if(nt===2){nt=0;var e=La,t=Wn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var n=X.p;X.p=2;var o=Te;Te|=4;try{Yf(e,t.alternate,t)}finally{Te=o,X.p=n,H.T=a}}nt=3}}function vh(){if(nt===4||nt===3){nt=0,Bv();var e=La,t=Wn,a=ei,n=ah;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,Wn=La=null,gh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(za=null),hr(a),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Ei,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=H.T,o=X.p,X.p=2,H.T=null;try{for(var d=e.onRecoverableError,y=0;y<n.length;y++){var _=n[y];d(_.value,{componentStack:_.stack})}}finally{H.T=t,X.p=o}}(ei&3)!==0&&Ol(),Zt(e),o=e.pendingLanes,(a&4194090)!==0&&(o&42)!==0?e===Qo?cs++:(cs=0,Qo=e):cs=0,us(0)}}function gh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Pi(t)))}function Ol(e){return hh(),mh(),vh(),ph()}function ph(){if(nt!==5)return!1;var e=La,t=Yo;Yo=0;var a=hr(ei),n=H.T,o=X.p;try{X.p=32>a?32:a,H.T=null,a=Ko,Ko=null;var d=La,y=ei;if(nt=0,Wn=La=null,ei=0,(Te&6)!==0)throw Error(l(331));var _=Te;if(Te|=4,eh(d.current),Jf(d,d.current,y,a),Te=_,us(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Ei,d)}catch{}return!0}finally{X.p=o,H.T=n,gh(e,t)}}function yh(e,t,a){t=Ct(a,t),t=Eo(e.stateNode,t,2),e=Ta(e,t,2),e!==null&&(Ti(e,2),Zt(e))}function ke(e,t,a){if(e.tag===3)yh(e,e,a);else for(;t!==null;){if(t.tag===3){yh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(za===null||!za.has(n))){e=Ct(a,e),a=Sf(2),n=Ta(t,a,2),n!==null&&(xf(a,n,t,e),Ti(n,2),Zt(n));break}}t=t.return}}function Jo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new dp;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(a)||($o=!0,o.add(a),e=gp.bind(null,e,t,a),t.then(e,e))}function gp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Me===e&&(Se&a)===a&&($e===4||$e===3&&(Se&62914560)===Se&&300>Vt()-Vo?(Te&2)===0&&ti(e,0):Go|=a,Fn===Se&&(Fn=0)),Zt(e)}function _h(e,t){t===0&&(t=mu()),e=Ln(e,t),e!==null&&(Ti(e,t),Zt(e))}function pp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),_h(e,a)}function yp(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),_h(e,a)}function _p(e,t){return qe(e,t)}var Rl=null,ni=null,Fo=!1,kl=!1,Wo=!1,gn=0;function Zt(e){e!==ni&&e.next===null&&(ni===null?Rl=ni=e:ni=ni.next=e),kl=!0,Fo||(Fo=!0,wp())}function us(e,t){if(!Wo&&kl){Wo=!0;do for(var a=!1,n=Rl;n!==null;){if(e!==0){var o=n.pendingLanes;if(o===0)var d=0;else{var y=n.suspendedLanes,_=n.pingedLanes;d=(1<<31-_t(42|e)+1)-1,d&=o&~(y&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,xh(n,d))}else d=Se,d=Bs(n,n===Me?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(d&3)===0||Ni(n,d)||(a=!0,xh(n,d));n=n.next}while(a);Wo=!1}}function bp(){bh()}function bh(){kl=Fo=!1;var e=0;gn!==0&&(Cp()&&(e=gn),gn=0);for(var t=Vt(),a=null,n=Rl;n!==null;){var o=n.next,d=wh(n,t);d===0?(n.next=null,a===null?Rl=o:a.next=o,o===null&&(ni=a)):(a=n,(e!==0||(d&3)!==0)&&(kl=!0)),n=o}us(e)}function wh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-_t(d),_=1<<y,j=o[y];j===-1?((_&a)===0||(_&n)!==0)&&(o[y]=Kv(_,t)):j<=t&&(e.expiredLanes|=_),d&=~_}if(t=Me,a=Se,a=Bs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Ja(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ni(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Ja(n),hr(a)){case 2:case 8:a=du;break;case 32:a=Us;break;case 268435456:a=fu;break;default:a=Us}return n=Sh.bind(null,e),a=qe(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Ja(n),e.callbackPriority=2,e.callbackNode=null,2}function Sh(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ol()&&e.callbackNode!==a)return null;var n=Se;return n=Bs(e,e===Me?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(ih(e,n,t),wh(e,Vt()),e.callbackNode!=null&&e.callbackNode===a?Sh.bind(null,e):null)}function xh(e,t){if(Ol())return null;ih(e,t,!0)}function wp(){Rp(function(){(Te&6)!==0?qe(uu,bp):bh()})}function ec(){return gn===0&&(gn=hu()),gn}function jh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ps(""+e)}function Eh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Sp(e,t,a,n,o){if(t==="submit"&&a&&a.stateNode===o){var d=jh((o[ft]||null).action),y=n.submitter;y&&(t=(t=y[ft]||null)?jh(t.formAction):y.getAttribute("formAction"),t!==null&&(d=t,y=null));var _=new Qs("action","action",null,n,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(gn!==0){var j=y?Eh(o,y):new FormData(o);bo(a,{pending:!0,data:j,method:o.method,action:d},null,j)}}else typeof d=="function"&&(_.preventDefault(),j=y?Eh(o,y):new FormData(o),bo(a,{pending:!0,data:j,method:o.method,action:d},d,j))},currentTarget:o}]})}}for(var tc=0;tc<Br.length;tc++){var ac=Br[tc],xp=ac.toLowerCase(),jp=ac[0].toUpperCase()+ac.slice(1);Lt(xp,"on"+jp)}Lt(nd,"onAnimationEnd"),Lt(id,"onAnimationIteration"),Lt(sd,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt($g,"onTransitionRun"),Lt(Gg,"onTransitionStart"),Lt(Pg,"onTransitionCancel"),Lt(ld,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ds));function Nh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],o=n.event;n=n.listeners;e:{var d=void 0;if(t)for(var y=n.length-1;0<=y;y--){var _=n[y],j=_.instance,U=_.currentTarget;if(_=_.listener,j!==d&&o.isPropagationStopped())break e;d=_,o.currentTarget=U;try{d(o)}catch($){_l($)}o.currentTarget=null,d=j}else for(y=0;y<n.length;y++){if(_=n[y],j=_.instance,U=_.currentTarget,_=_.listener,j!==d&&o.isPropagationStopped())break e;d=_,o.currentTarget=U;try{d(o)}catch($){_l($)}o.currentTarget=null,d=j}}}}function _e(e,t){var a=t[mr];a===void 0&&(a=t[mr]=new Set);var n=e+"__bubble";a.has(n)||(Th(t,e,2,!1),a.add(n))}function nc(e,t,a){var n=0;t&&(n|=4),Th(a,e,n,t)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function ic(e){if(!e[Dl]){e[Dl]=!0,_u.forEach(function(a){a!=="selectionchange"&&(Ep.has(a)||nc(a,!1,e),nc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dl]||(t[Dl]=!0,nc("selectionchange",!1,t))}}function Th(e,t,a,n){switch(Jh(t)){case 2:var o=Fp;break;case 8:o=Wp;break;default:o=yc}a=o.bind(null,t,a,e),o=void 0,!Er||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function sc(e,t,a,n,o){var d=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var y=n.tag;if(y===3||y===4){var _=n.stateNode.containerInfo;if(_===o)break;if(y===4)for(y=n.return;y!==null;){var j=y.tag;if((j===3||j===4)&&y.stateNode.containerInfo===o)return;y=y.return}for(;_!==null;){if(y=jn(_),y===null)return;if(j=y.tag,j===5||j===6||j===26||j===27){n=d=y;continue e}_=_.parentNode}}n=n.return}Du(function(){var U=d,$=xr(a),V=[];e:{var z=rd.get(e);if(z!==void 0){var B=Qs,ce=e;switch(e){case"keypress":if(Ys(a)===0)break e;case"keydown":case"keyup":B=_g;break;case"focusin":ce="focus",B=Cr;break;case"focusout":ce="blur",B=Cr;break;case"beforeblur":case"afterblur":B=Cr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=zu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Sg;break;case nd:case id:case sd:B=ug;break;case ld:B=jg;break;case"scroll":case"scrollend":B=sg;break;case"wheel":B=Ng;break;case"copy":case"cut":case"paste":B=fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Bu;break;case"toggle":case"beforetoggle":B=Ag}var le=(t&4)!==0,Re=!le&&(e==="scroll"||e==="scrollend"),O=le?z!==null?z+"Capture":null:z;le=[];for(var A=U,k;A!==null;){var G=A;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||O===null||(G=Oi(A,O),G!=null&&le.push(fs(A,G,k))),Re)break;A=A.return}0<le.length&&(z=new B(z,ce,null,a,$),V.push({event:z,listeners:le}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Sr&&(ce=a.relatedTarget||a.fromElement)&&(jn(ce)||ce[xn]))break e;if((B||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ce=a.relatedTarget||a.toElement,B=U,ce=ce?jn(ce):null,ce!==null&&(Re=u(ce),le=ce.tag,ce!==Re||le!==5&&le!==27&&le!==6)&&(ce=null)):(B=null,ce=U),B!==ce)){if(le=zu,G="onMouseLeave",O="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(le=Bu,G="onPointerLeave",O="onPointerEnter",A="pointer"),Re=B==null?z:Ci(B),k=ce==null?z:Ci(ce),z=new le(G,A+"leave",B,a,$),z.target=Re,z.relatedTarget=k,G=null,jn($)===U&&(le=new le(O,A+"enter",ce,a,$),le.target=k,le.relatedTarget=Re,G=le),Re=G,B&&ce)t:{for(le=B,O=ce,A=0,k=le;k;k=ii(k))A++;for(k=0,G=O;G;G=ii(G))k++;for(;0<A-k;)le=ii(le),A--;for(;0<k-A;)O=ii(O),k--;for(;A--;){if(le===O||O!==null&&le===O.alternate)break t;le=ii(le),O=ii(O)}le=null}else le=null;B!==null&&Ah(V,z,B,le,!1),ce!==null&&Re!==null&&Ah(V,Re,ce,le,!0)}}e:{if(z=U?Ci(U):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var W=Ku;else if(Vu(z))if(Qu)W=Bg;else{W=zg;var pe=Ug}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&wr(U.elementType)&&(W=Ku):W=Lg;if(W&&(W=W(e,U))){Yu(V,W,a,$);break e}pe&&pe(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&br(z,"number",z.value)}switch(pe=U?Ci(U):window,e){case"focusin":(Vu(pe)||pe.contentEditable==="true")&&(Mn=pe,Ur=U,Bi=null);break;case"focusout":Bi=Ur=Mn=null;break;case"mousedown":zr=!0;break;case"contextmenu":case"mouseup":case"dragend":zr=!1,td(V,a,$);break;case"selectionchange":if(Hg)break;case"keydown":case"keyup":td(V,a,$)}var ne;if(Rr)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Dn?Gu(e,a)&&(re="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(re="onCompositionStart");re&&(qu&&a.locale!=="ko"&&(Dn||re!=="onCompositionStart"?re==="onCompositionEnd"&&Dn&&(ne=Mu()):(xa=$,Nr="value"in xa?xa.value:xa.textContent,Dn=!0)),pe=Ml(U,re),0<pe.length&&(re=new Lu(re,e,null,a,$),V.push({event:re,listeners:pe}),ne?re.data=ne:(ne=Pu(a),ne!==null&&(re.data=ne)))),(ne=Og?Rg(e,a):kg(e,a))&&(re=Ml(U,"onBeforeInput"),0<re.length&&(pe=new Lu("onBeforeInput","beforeinput",null,a,$),V.push({event:pe,listeners:re}),pe.data=ne)),Sp(V,e,U,a,$)}Nh(V,t)})}function fs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ml(e,t){for(var a=t+"Capture",n=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Oi(e,a),o!=null&&n.unshift(fs(e,o,d)),o=Oi(e,t),o!=null&&n.push(fs(e,o,d))),e.tag===3)return n;e=e.return}return[]}function ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ah(e,t,a,n,o){for(var d=t._reactName,y=[];a!==null&&a!==n;){var _=a,j=_.alternate,U=_.stateNode;if(_=_.tag,j!==null&&j===n)break;_!==5&&_!==26&&_!==27||U===null||(j=U,o?(U=Oi(a,d),U!=null&&y.unshift(fs(a,U,j))):o||(U=Oi(a,d),U!=null&&y.push(fs(a,U,j)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var Np=/\r\n?/g,Tp=/\u0000|\uFFFD/g;function Ch(e){return(typeof e=="string"?e:""+e).replace(Np,`
`).replace(Tp,"")}function Oh(e,t){return t=Ch(t),Ch(e)===t}function Ul(){}function Oe(e,t,a,n,o,d){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||On(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&On(e,""+n);break;case"className":Hs(e,"class",n);break;case"tabIndex":Hs(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Hs(e,a,n);break;case"style":Ru(e,n,d);break;case"data":if(t!=="object"){Hs(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ps(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Oe(e,t,"name",o.name,o,null),Oe(e,t,"formEncType",o.formEncType,o,null),Oe(e,t,"formMethod",o.formMethod,o,null),Oe(e,t,"formTarget",o.formTarget,o,null)):(Oe(e,t,"encType",o.encType,o,null),Oe(e,t,"method",o.method,o,null),Oe(e,t,"target",o.target,o,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ps(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ul);break;case"onScroll":n!=null&&_e("scroll",e);break;case"onScrollEnd":n!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ps(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":_e("beforetoggle",e),_e("toggle",e),qs(e,"popover",n);break;case"xlinkActuate":ta(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ta(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ta(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ta(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ta(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ta(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ta(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ta(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ta(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":qs(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ng.get(a)||a,qs(e,a,n))}}function lc(e,t,a,n,o,d){switch(a){case"style":Ru(e,n,d);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof n=="string"?On(e,n):(typeof n=="number"||typeof n=="bigint")&&On(e,""+n);break;case"onScroll":n!=null&&_e("scroll",e);break;case"onScrollEnd":n!=null&&_e("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ul);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[ft]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof n=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,o);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):qs(e,a,n)}}}function it(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var n=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Oe(e,t,d,y,a,null)}}o&&Oe(e,t,"srcSet",a.srcSet,a,null),n&&Oe(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var _=d=y=o=null,j=null,U=null;for(n in a)if(a.hasOwnProperty(n)){var $=a[n];if($!=null)switch(n){case"name":o=$;break;case"type":y=$;break;case"checked":j=$;break;case"defaultChecked":U=$;break;case"value":d=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Oe(e,t,n,$,a,null)}}Tu(e,d,_,j,U,y,o,!1),$s(e);return;case"select":_e("invalid",e),n=y=d=null;for(o in a)if(a.hasOwnProperty(o)&&(_=a[o],_!=null))switch(o){case"value":d=_;break;case"defaultValue":y=_;break;case"multiple":n=_;default:Oe(e,t,o,_,a,null)}t=d,a=y,e.multiple=!!n,t!=null?Cn(e,!!n,t,!1):a!=null&&Cn(e,!!n,a,!0);return;case"textarea":_e("invalid",e),d=o=n=null;for(y in a)if(a.hasOwnProperty(y)&&(_=a[y],_!=null))switch(y){case"value":n=_;break;case"defaultValue":o=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Oe(e,t,y,_,a,null)}Cu(e,n,o,d),$s(e);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(n=a[j],n!=null))switch(j){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Oe(e,t,j,n,a,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(n=0;n<ds.length;n++)_e(ds[n],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(n=a[U],n!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Oe(e,t,U,n,a,null)}return;default:if(wr(t)){for($ in a)a.hasOwnProperty($)&&(n=a[$],n!==void 0&&lc(e,t,$,n,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(n=a[_],n!=null&&Oe(e,t,_,n,a,null))}function Ap(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,y=null,_=null,j=null,U=null,$=null;for(B in a){var V=a[B];if(a.hasOwnProperty(B)&&V!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":j=V;default:n.hasOwnProperty(B)||Oe(e,t,B,null,n,V)}}for(var z in n){var B=n[z];if(V=a[z],n.hasOwnProperty(z)&&(B!=null||V!=null))switch(z){case"type":d=B;break;case"name":o=B;break;case"checked":U=B;break;case"defaultChecked":$=B;break;case"value":y=B;break;case"defaultValue":_=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==V&&Oe(e,t,z,B,n,V)}}_r(e,y,_,j,U,$,d,o);return;case"select":B=y=_=z=null;for(d in a)if(j=a[d],a.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":B=j;default:n.hasOwnProperty(d)||Oe(e,t,d,null,n,j)}for(o in n)if(d=n[o],j=a[o],n.hasOwnProperty(o)&&(d!=null||j!=null))switch(o){case"value":z=d;break;case"defaultValue":_=d;break;case"multiple":y=d;default:d!==j&&Oe(e,t,o,d,n,j)}t=_,a=y,n=B,z!=null?Cn(e,!!a,z,!1):!!n!=!!a&&(t!=null?Cn(e,!!a,t,!0):Cn(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(_ in a)if(o=a[_],a.hasOwnProperty(_)&&o!=null&&!n.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(e,t,_,null,n,o)}for(y in n)if(o=n[y],d=a[y],n.hasOwnProperty(y)&&(o!=null||d!=null))switch(y){case"value":z=o;break;case"defaultValue":B=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&Oe(e,t,y,o,n,d)}Au(e,z,B);return;case"option":for(var ce in a)if(z=a[ce],a.hasOwnProperty(ce)&&z!=null&&!n.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Oe(e,t,ce,null,n,z)}for(j in n)if(z=n[j],B=a[j],n.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Oe(e,t,j,z,n,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)z=a[le],a.hasOwnProperty(le)&&z!=null&&!n.hasOwnProperty(le)&&Oe(e,t,le,null,n,z);for(U in n)if(z=n[U],B=a[U],n.hasOwnProperty(U)&&z!==B&&(z!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Oe(e,t,U,z,n,B)}return;default:if(wr(t)){for(var Re in a)z=a[Re],a.hasOwnProperty(Re)&&z!==void 0&&!n.hasOwnProperty(Re)&&lc(e,t,Re,void 0,n,z);for($ in n)z=n[$],B=a[$],!n.hasOwnProperty($)||z===B||z===void 0&&B===void 0||lc(e,t,$,z,n,B);return}}for(var O in a)z=a[O],a.hasOwnProperty(O)&&z!=null&&!n.hasOwnProperty(O)&&Oe(e,t,O,null,n,z);for(V in n)z=n[V],B=a[V],!n.hasOwnProperty(V)||z===B||z==null&&B==null||Oe(e,t,V,z,n,B)}var rc=null,oc=null;function zl(e){return e.nodeType===9?e:e.ownerDocument}function Rh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uc=null;function Cp(){var e=window.event;return e&&e.type==="popstate"?e===uc?!1:(uc=e,!0):(uc=null,!1)}var Dh=typeof setTimeout=="function"?setTimeout:void 0,Op=typeof clearTimeout=="function"?clearTimeout:void 0,Mh=typeof Promise=="function"?Promise:void 0,Rp=typeof queueMicrotask=="function"?queueMicrotask:typeof Mh<"u"?function(e){return Mh.resolve(null).then(e).catch(kp)}:Dh;function kp(e){setTimeout(function(){throw e})}function qa(e){return e==="head"}function Uh(e,t){var a=t,n=0,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<n&&8>n){a=n;var y=e.ownerDocument;if(a&1&&hs(y.documentElement),a&2&&hs(y.body),a&4)for(a=y.head,hs(a),y=a.firstChild;y;){var _=y.nextSibling,j=y.nodeName;y[Ai]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=_}}if(o===0){e.removeChild(d),ws(t);return}o--}else a==="$"||a==="$?"||a==="$!"?o++:n=a.charCodeAt(0)-48;else n=0;a=d}while(a);ws(t)}function dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dc(a),vr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Dp(e,t,a,n){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ai])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function Mp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qt(e.nextSibling),e===null))return null;return e}function fc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Up(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var hc=null;function zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Lh(e,t,a){switch(t=zl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function hs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vr(e)}var Ut=new Map,Bh=new Set;function Ll(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var va=X.d;X.d={f:zp,r:Lp,D:Bp,C:qp,L:Hp,m:$p,X:Pp,S:Gp,M:Vp};function zp(){var e=va.f(),t=Al();return e||t}function Lp(e){var t=En(e);t!==null&&t.tag===5&&t.type==="form"?nf(t):va.r(e)}var si=typeof document>"u"?null:document;function qh(e,t,a){var n=si;if(n&&typeof t=="string"&&t){var o=At(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Bh.has(o)||(Bh.add(o),e={rel:e,crossOrigin:a,href:t},n.querySelector(o)===null&&(t=n.createElement("link"),it(t,"link",e),Ie(t),n.head.appendChild(t)))}}function Bp(e){va.D(e),qh("dns-prefetch",e,null)}function qp(e,t){va.C(e,t),qh("preconnect",e,t)}function Hp(e,t,a){va.L(e,t,a);var n=si;if(n&&e&&t){var o='link[rel="preload"][as="'+At(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+At(a.imageSizes)+'"]')):o+='[href="'+At(e)+'"]';var d=o;switch(t){case"style":d=li(e);break;case"script":d=ri(e)}Ut.has(d)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ut.set(d,e),n.querySelector(o)!==null||t==="style"&&n.querySelector(ms(d))||t==="script"&&n.querySelector(vs(d))||(t=n.createElement("link"),it(t,"link",e),Ie(t),n.head.appendChild(t)))}}function $p(e,t){va.m(e,t);var a=si;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+At(n)+'"][href="'+At(e)+'"]',d=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ri(e)}if(!Ut.has(d)&&(e=p({rel:"modulepreload",href:e},t),Ut.set(d,e),a.querySelector(o)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vs(d)))return}n=a.createElement("link"),it(n,"link",e),Ie(n),a.head.appendChild(n)}}}function Gp(e,t,a){va.S(e,t,a);var n=si;if(n&&e){var o=Nn(n).hoistableStyles,d=li(e);t=t||"default";var y=o.get(d);if(!y){var _={loading:0,preload:null};if(y=n.querySelector(ms(d)))_.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ut.get(d))&&mc(e,a);var j=y=n.createElement("link");Ie(j),it(j,"link",e),j._p=new Promise(function(U,$){j.onload=U,j.onerror=$}),j.addEventListener("load",function(){_.loading|=1}),j.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Bl(y,t,n)}y={type:"stylesheet",instance:y,count:1,state:_},o.set(d,y)}}}function Pp(e,t){va.X(e,t);var a=si;if(a&&e){var n=Nn(a).hoistableScripts,o=ri(e),d=n.get(o);d||(d=a.querySelector(vs(o)),d||(e=p({src:e,async:!0},t),(t=Ut.get(o))&&vc(e,t),d=a.createElement("script"),Ie(d),it(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(o,d))}}function Vp(e,t){va.M(e,t);var a=si;if(a&&e){var n=Nn(a).hoistableScripts,o=ri(e),d=n.get(o);d||(d=a.querySelector(vs(o)),d||(e=p({src:e,async:!0,type:"module"},t),(t=Ut.get(o))&&vc(e,t),d=a.createElement("script"),Ie(d),it(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(o,d))}}function Hh(e,t,a,n){var o=(o=de.current)?Ll(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=li(a.href),a=Nn(o).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=li(a.href);var d=Nn(o).hoistableStyles,y=d.get(e);if(y||(o=o.ownerDocument||o,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=o.querySelector(ms(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Ut.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ut.set(e,a),d||Yp(o,e,a,y.state))),t&&n===null)throw Error(l(528,""));return y}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ri(a),a=Nn(o).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function li(e){return'href="'+At(e)+'"'}function ms(e){return'link[rel="stylesheet"]['+e+"]"}function $h(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Yp(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),it(t,"link",a),Ie(t),e.head.appendChild(t))}function ri(e){return'[src="'+At(e)+'"]'}function vs(e){return"script[async]"+e}function Gh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+At(a.href)+'"]');if(n)return t.instance=n,Ie(n),n;var o=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ie(n),it(n,"style",o),Bl(n,a.precedence,e),t.instance=n;case"stylesheet":o=li(a.href);var d=e.querySelector(ms(o));if(d)return t.state.loading|=4,t.instance=d,Ie(d),d;n=$h(a),(o=Ut.get(o))&&mc(n,o),d=(e.ownerDocument||e).createElement("link"),Ie(d);var y=d;return y._p=new Promise(function(_,j){y.onload=_,y.onerror=j}),it(d,"link",n),t.state.loading|=4,Bl(d,a.precedence,e),t.instance=d;case"script":return d=ri(a.src),(o=e.querySelector(vs(d)))?(t.instance=o,Ie(o),o):(n=a,(o=Ut.get(d))&&(n=p({},a),vc(n,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ie(o),it(o,"link",n),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Bl(n,a.precedence,e));return t.instance}function Bl(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=n.length?n[n.length-1]:null,d=o,y=0;y<n.length;y++){var _=n[y];if(_.dataset.precedence===t)d=_;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ql=null;function Ph(e,t,a){if(ql===null){var n=new Map,o=ql=new Map;o.set(a,n)}else o=ql,n=o.get(a),n||(n=new Map,o.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Ai]||d[lt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(t)||"";y=e+y;var _=n.get(y);_?_.push(d):n.set(y,[d])}}return n}function Vh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Kp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var gs=null;function Qp(){}function Xp(e,t,a){if(gs===null)throw Error(l(475));var n=gs;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=li(a.href),d=e.querySelector(ms(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Hl.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=d,Ie(d);return}d=e.ownerDocument||e,a=$h(a),(o=Ut.get(o))&&mc(a,o),d=d.createElement("link"),Ie(d);var y=d;y._p=new Promise(function(_,j){y.onload=_,y.onerror=j}),it(d,"link",a),t.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Hl.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Zp(){if(gs===null)throw Error(l(475));var e=gs;return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Hl(){if(this.count--,this.count===0){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $l=null;function gc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$l=new Map,t.forEach(Ip,e),$l=null,Hl.call(e))}function Ip(e,t){if(!(t.state.loading&4)){var a=$l.get(e);if(a)var n=a.get(null);else{a=new Map,$l.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var y=o[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),n=y)}n&&a.set(null,n)}o=t.instance,y=o.getAttribute("data-precedence"),d=a.get(y)||n,d===n&&a.set(null,o),a.set(y,o),this.count++,n=Hl.bind(this),o.addEventListener("load",n),o.addEventListener("error",n),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ps={$$typeof:M,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Jp(e,t,a,n,o,d,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=n,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Kh(e,t,a,n,o,d,y,_,j,U,$,V){return e=new Jp(e,t,a,y,_,j,U,V),t=1,d===!0&&(t|=24),d=wt(3,null,null,t),e.current=d,d.stateNode=e,t=Ir(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:n,isDehydrated:a,cache:t},eo(d),e}function Qh(e){return e?(e=Bn,e):Bn}function Xh(e,t,a,n,o,d){o=Qh(o),n.context===null?n.context=o:n.pendingContext=o,n=Na(t),n.payload={element:a},d=d===void 0?null:d,d!==null&&(n.callback=d),a=Ta(e,n,t),a!==null&&(Nt(a,e,t),Qi(a,e,t))}function Zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function pc(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function Ih(e){if(e.tag===13){var t=Ln(e,67108864);t!==null&&Nt(t,e,67108864),pc(e,67108864)}}var Gl=!0;function Fp(e,t,a,n){var o=H.T;H.T=null;var d=X.p;try{X.p=2,yc(e,t,a,n)}finally{X.p=d,H.T=o}}function Wp(e,t,a,n){var o=H.T;H.T=null;var d=X.p;try{X.p=8,yc(e,t,a,n)}finally{X.p=d,H.T=o}}function yc(e,t,a,n){if(Gl){var o=_c(n);if(o===null)sc(e,t,n,Pl,a),Fh(e,n);else if(ty(o,e,t,a,n))n.stopPropagation();else if(Fh(e,n),t&4&&-1<ey.indexOf(e)){for(;o!==null;){var d=En(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Fa(d.pendingLanes);if(y!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var j=1<<31-_t(y);_.entanglements[1]|=j,y&=~j}Zt(d),(Te&6)===0&&(Nl=Vt()+500,us(0))}}break;case 13:_=Ln(d,2),_!==null&&Nt(_,d,2),Al(),pc(d,2)}if(d=_c(n),d===null&&sc(e,t,n,Pl,a),d===o)break;o=d}o!==null&&n.stopPropagation()}else sc(e,t,n,null,a)}}function _c(e){return e=xr(e),bc(e)}var Pl=null;function bc(e){if(Pl=null,e=jn(e),e!==null){var t=u(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pl=e,null}function Jh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qv()){case uu:return 2;case du:return 8;case Us:case Hv:return 32;case fu:return 268435456;default:return 32}default:return 32}}var wc=!1,Ha=null,$a=null,Ga=null,ys=new Map,_s=new Map,Pa=[],ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fh(e,t){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function bs(e,t,a,n,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:d,targetContainers:[o]},t!==null&&(t=En(t),t!==null&&Ih(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ty(e,t,a,n,o){switch(t){case"focusin":return Ha=bs(Ha,e,t,a,n,o),!0;case"dragenter":return $a=bs($a,e,t,a,n,o),!0;case"mouseover":return Ga=bs(Ga,e,t,a,n,o),!0;case"pointerover":var d=o.pointerId;return ys.set(d,bs(ys.get(d)||null,e,t,a,n,o)),!0;case"gotpointercapture":return d=o.pointerId,_s.set(d,bs(_s.get(d)||null,e,t,a,n,o)),!0}return!1}function Wh(e){var t=jn(e.target);if(t!==null){var a=u(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Xv(e.priority,function(){if(a.tag===13){var n=Et();n=fr(n);var o=Ln(a,n);o!==null&&Nt(o,a,n),pc(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=_c(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Sr=n,a.target.dispatchEvent(n),Sr=null}else return t=En(a),t!==null&&Ih(t),e.blockedOn=a,!1;t.shift()}return!0}function em(e,t,a){Vl(e)&&a.delete(t)}function ay(){wc=!1,Ha!==null&&Vl(Ha)&&(Ha=null),$a!==null&&Vl($a)&&($a=null),Ga!==null&&Vl(Ga)&&(Ga=null),ys.forEach(em),_s.forEach(em)}function Yl(e,t){e.blockedOn===t&&(e.blockedOn=null,wc||(wc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ay)))}var Kl=null;function tm(e){Kl!==e&&(Kl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kl===e&&(Kl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],o=e[t+2];if(typeof n!="function"){if(bc(n||a)===null)continue;break}var d=En(a);d!==null&&(e.splice(t,3),t-=3,bo(d,{pending:!0,data:o,method:a.method,action:n},n,o))}}))}function ws(e){function t(j){return Yl(j,e)}Ha!==null&&Yl(Ha,e),$a!==null&&Yl($a,e),Ga!==null&&Yl(Ga,e),ys.forEach(t),_s.forEach(t);for(var a=0;a<Pa.length;a++){var n=Pa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Pa.length&&(a=Pa[0],a.blockedOn===null);)Wh(a),a.blockedOn===null&&Pa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var o=a[n],d=a[n+1],y=o[ft]||null;if(typeof d=="function")y||tm(a);else if(y){var _=null;if(d&&d.hasAttribute("formAction")){if(o=d,y=d[ft]||null)_=y.formAction;else if(bc(o)!==null)continue}else _=y.action;typeof _=="function"?a[n+1]=_:(a.splice(n,3),n-=3),tm(a)}}}function Sc(e){this._internalRoot=e}Ql.prototype.render=Sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,n=Et();Xh(a,n,e,t,null,null)},Ql.prototype.unmount=Sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xh(e.current,2,null,e,null,null),Al(),t[xn]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=pu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Pa.length&&t!==0&&t<Pa[a].priority;a++);Pa.splice(a,0,e),a===0&&Wh(e)}};var am=i.version;if(am!=="19.1.1")throw Error(l(527,am,"19.1.1"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var ny={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Ei=Xl.inject(ny),yt=Xl}catch{}}return xs.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,n="",o=yf,d=_f,y=bf,_=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(_=t.unstable_transitionCallbacks)),t=Kh(e,1,!1,null,null,a,n,o,d,y,_,null),e[xn]=t.current,ic(e),new Sc(t)},xs.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var n=!1,o="",d=yf,y=_f,_=bf,j=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),t=Kh(e,1,!0,t,a??null,n,o,d,y,_,j,U),t.context=Qh(null),a=t.current,n=Et(),n=fr(n),o=Na(n),o.callback=null,Ta(a,o,n),a=n,t.current.lanes=a,Ti(t,a),Zt(t),e[xn]=t.current,ic(e),new Ql(t)},xs.version="19.1.1",xs}var fm;function vy(){if(fm)return jc.exports;fm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),jc.exports=my(),jc.exports}var gy=vy(),S=Fc();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hm="popstate";function py(r={}){function i(l,c){let{pathname:u,search:h,hash:v}=l.location;return Bc("",{pathname:u,search:h,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:Cs(c)}return _y(i,s,null,r)}function Be(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function Pt(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function yy(){return Math.random().toString(36).substring(2,10)}function mm(r,i){return{usr:r.state,key:r.key,idx:i}}function Bc(r,i,s=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?wi(i):i,state:s,key:i&&i.key||l||yy()}}function Cs({pathname:r="/",search:i="",hash:s=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function wi(r){let i={};if(r){let s=r.indexOf("#");s>=0&&(i.hash=r.substring(s),r=r.substring(0,s));let l=r.indexOf("?");l>=0&&(i.search=r.substring(l),r=r.substring(0,l)),r&&(i.pathname=r)}return i}function _y(r,i,s,l={}){let{window:c=document.defaultView,v5Compat:u=!1}=l,h=c.history,v="POP",m=null,g=p();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function p(){return(h.state||{idx:null}).idx}function b(){v="POP";let T=p(),C=T==null?null:T-g;g=T,m&&m({action:v,location:R.location,delta:C})}function w(T,C){v="PUSH";let D=Bc(R.location,T,C);g=p()+1;let M=mm(D,g),Y=R.createHref(D);try{h.pushState(M,"",Y)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;c.location.assign(Y)}u&&m&&m({action:v,location:R.location,delta:1})}function x(T,C){v="REPLACE";let D=Bc(R.location,T,C);g=p();let M=mm(D,g),Y=R.createHref(D);h.replaceState(M,"",Y),u&&m&&m({action:v,location:R.location,delta:0})}function E(T){return by(T)}let R={get action(){return v},get location(){return r(c,h)},listen(T){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(hm,b),m=T,()=>{c.removeEventListener(hm,b),m=null}},createHref(T){return i(c,T)},createURL:E,encodeLocation(T){let C=E(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:x,go(T){return h.go(T)}};return R}function by(r,i=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Be(s,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Cs(r);return l=l.replace(/ $/,"%20"),!i&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function Xm(r,i,s="/"){return wy(r,i,s,!1)}function wy(r,i,s,l){let c=typeof i=="string"?wi(i):i,u=ba(c.pathname||"/",s);if(u==null)return null;let h=Zm(r);Sy(h);let v=null;for(let m=0;v==null&&m<h.length;++m){let g=Dy(u);v=Ry(h[m],g,l)}return v}function Zm(r,i=[],s=[],l="",c=!1){let u=(h,v,m=c,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:v,route:h};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(l)&&m)return;Be(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length)}let b=ya([l,p.relativePath]),w=s.concat(p);h.children&&h.children.length>0&&(Be(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Zm(h.children,i,w,b,m)),!(h.path==null&&!h.index)&&i.push({path:b,score:Cy(b,h.index),routesMeta:w})};return r.forEach((h,v)=>{if(h.path===""||!h.path?.includes("?"))u(h,v);else for(let m of Im(h.path))u(h,v,!0,m)}),i}function Im(r){let i=r.split("/");if(i.length===0)return[];let[s,...l]=i,c=s.endsWith("?"),u=s.replace(/\?$/,"");if(l.length===0)return c?[u,""]:[u];let h=Im(l.join("/")),v=[];return v.push(...h.map(m=>m===""?u:[u,m].join("/"))),c&&v.push(...h),v.map(m=>r.startsWith("/")&&m===""?"/":m)}function Sy(r){r.sort((i,s)=>i.score!==s.score?s.score-i.score:Oy(i.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var xy=/^:[\w-]+$/,jy=3,Ey=2,Ny=1,Ty=10,Ay=-2,vm=r=>r==="*";function Cy(r,i){let s=r.split("/"),l=s.length;return s.some(vm)&&(l+=Ay),i&&(l+=Ey),s.filter(c=>!vm(c)).reduce((c,u)=>c+(xy.test(u)?jy:u===""?Ny:Ty),l)}function Oy(r,i){return r.length===i.length&&r.slice(0,-1).every((l,c)=>l===i[c])?r[r.length-1]-i[i.length-1]:0}function Ry(r,i,s=!1){let{routesMeta:l}=r,c={},u="/",h=[];for(let v=0;v<l.length;++v){let m=l[v],g=v===l.length-1,p=u==="/"?i:i.slice(u.length)||"/",b=nr({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},p),w=m.route;if(!b&&g&&s&&!l[l.length-1].route.index&&(b=nr({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!b)return null;Object.assign(c,b.params),h.push({params:c,pathname:ya([u,b.pathname]),pathnameBase:Ly(ya([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=ya([u,b.pathnameBase]))}return h}function nr(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,l]=ky(r.path,r.caseSensitive,r.end),c=i.match(s);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),v=c.slice(1);return{params:l.reduce((g,{paramName:p,isOptional:b},w)=>{if(p==="*"){let E=v[w]||"";h=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const x=v[w];return b&&!x?g[p]=void 0:g[p]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function ky(r,i=!1,s=!0){Pt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,v,m)=>(l.push({paramName:v,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),l]}function Dy(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Pt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function ba(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,l=r.charAt(s);return l&&l!=="/"?null:r.slice(s)||"/"}function My(r,i="/"){let{pathname:s,search:l="",hash:c=""}=typeof r=="string"?wi(r):r;return{pathname:s?s.startsWith("/")?s:Uy(s,i):i,search:By(l),hash:qy(c)}}function Uy(r,i){let s=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Cc(r,i,s,l){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zy(r){return r.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function Jm(r){let i=zy(r);return i.map((s,l)=>l===i.length-1?s.pathname:s.pathnameBase)}function Fm(r,i,s,l=!1){let c;typeof r=="string"?c=wi(r):(c={...r},Be(!c.pathname||!c.pathname.includes("?"),Cc("?","pathname","search",c)),Be(!c.pathname||!c.pathname.includes("#"),Cc("#","pathname","hash",c)),Be(!c.search||!c.search.includes("#"),Cc("#","search","hash",c)));let u=r===""||c.pathname==="",h=u?"/":c.pathname,v;if(h==null)v=s;else{let b=i.length-1;if(!l&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;c.pathname=w.join("/")}v=b>=0?i[b]:"/"}let m=My(c,v),g=h&&h!=="/"&&h.endsWith("/"),p=(u||h===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(g||p)&&(m.pathname+="/"),m}var ya=r=>r.join("/").replace(/\/\/+/g,"/"),Ly=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),By=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qy=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Hy(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Wm=["POST","PUT","PATCH","DELETE"];new Set(Wm);var $y=["GET",...Wm];new Set($y);var Si=S.createContext(null);Si.displayName="DataRouter";var lr=S.createContext(null);lr.displayName="DataRouterState";S.createContext(!1);var ev=S.createContext({isTransitioning:!1});ev.displayName="ViewTransition";var Gy=S.createContext(new Map);Gy.displayName="Fetchers";var Py=S.createContext(null);Py.displayName="Await";var Ft=S.createContext(null);Ft.displayName="Navigation";var Rs=S.createContext(null);Rs.displayName="Location";var Wt=S.createContext({outlet:null,matches:[],isDataRoute:!1});Wt.displayName="Route";var Wc=S.createContext(null);Wc.displayName="RouteError";function Vy(r,{relative:i}={}){Be(ks(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=S.useContext(Ft),{hash:c,pathname:u,search:h}=Ds(r,{relative:i}),v=u;return s!=="/"&&(v=u==="/"?s:ya([s,u])),l.createHref({pathname:v,search:h,hash:c})}function ks(){return S.useContext(Rs)!=null}function Za(){return Be(ks(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Rs).location}var tv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function av(r){S.useContext(Ft).static||S.useLayoutEffect(r)}function ea(){let{isDataRoute:r}=S.useContext(Wt);return r?n0():Yy()}function Yy(){Be(ks(),"useNavigate() may be used only in the context of a <Router> component.");let r=S.useContext(Si),{basename:i,navigator:s}=S.useContext(Ft),{matches:l}=S.useContext(Wt),{pathname:c}=Za(),u=JSON.stringify(Jm(l)),h=S.useRef(!1);return av(()=>{h.current=!0}),S.useCallback((m,g={})=>{if(Pt(h.current,tv),!h.current)return;if(typeof m=="number"){s.go(m);return}let p=Fm(m,JSON.parse(u),c,g.relative==="path");r==null&&i!=="/"&&(p.pathname=p.pathname==="/"?i:ya([i,p.pathname])),(g.replace?s.replace:s.push)(p,g.state,g)},[i,s,u,c,r])}S.createContext(null);function nv(){let{matches:r}=S.useContext(Wt),i=r[r.length-1];return i?i.params:{}}function Ds(r,{relative:i}={}){let{matches:s}=S.useContext(Wt),{pathname:l}=Za(),c=JSON.stringify(Jm(s));return S.useMemo(()=>Fm(r,JSON.parse(c),l,i==="path"),[r,c,l,i])}function Ky(r,i){return iv(r,i)}function iv(r,i,s,l,c){Be(ks(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=S.useContext(Ft),{matches:h}=S.useContext(Wt),v=h[h.length-1],m=v?v.params:{},g=v?v.pathname:"/",p=v?v.pathnameBase:"/",b=v&&v.route;{let D=b&&b.path||"";sv(g,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=Za(),x;if(i){let D=typeof i=="string"?wi(i):i;Be(p==="/"||D.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),x=D}else x=w;let E=x.pathname||"/",R=E;if(p!=="/"){let D=p.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=Xm(r,{pathname:R});Pt(b||T!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Pt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Jy(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:ya([p,u.encodeLocation?u.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:ya([p,u.encodeLocation?u.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,s,l,c);return i&&C?S.createElement(Rs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function Qy(){let r=a0(),i=Hy(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},u={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:u},"ErrorBoundary")," or"," ",S.createElement("code",{style:u},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},i),s?S.createElement("pre",{style:c},s):null,h)}var Xy=S.createElement(Qy,null),Zy=class extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){this.props.unstable_onError?this.props.unstable_onError(r,i):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?S.createElement(Wt.Provider,{value:this.props.routeContext},S.createElement(Wc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Iy({routeContext:r,match:i,children:s}){let l=S.useContext(Si);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),S.createElement(Wt.Provider,{value:r},s)}function Jy(r,i=[],s=null,l=null,c=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let u=r,h=s?.errors;if(h!=null){let g=u.findIndex(p=>p.route.id&&h?.[p.route.id]!==void 0);Be(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let v=!1,m=-1;if(s)for(let g=0;g<u.length;g++){let p=u[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:b,errors:w}=s,x=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||x){v=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,p,b)=>{let w,x=!1,E=null,R=null;s&&(w=h&&p.route.id?h[p.route.id]:void 0,E=p.route.errorElement||Xy,v&&(m<0&&b===0?(sv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):m===b&&(x=!0,R=p.route.hydrateFallbackElement||null)));let T=i.concat(u.slice(0,b+1)),C=()=>{let D;return w?D=E:x?D=R:p.route.Component?D=S.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=g,S.createElement(Iy,{match:p,routeContext:{outlet:g,matches:T,isDataRoute:s!=null},children:D})};return s&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?S.createElement(Zy,{location:s.location,revalidation:s.revalidation,component:E,error:w,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:l}):C()},null)}function eu(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fy(r){let i=S.useContext(Si);return Be(i,eu(r)),i}function Wy(r){let i=S.useContext(lr);return Be(i,eu(r)),i}function e0(r){let i=S.useContext(Wt);return Be(i,eu(r)),i}function tu(r){let i=e0(r),s=i.matches[i.matches.length-1];return Be(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function t0(){return tu("useRouteId")}function a0(){let r=S.useContext(Wc),i=Wy("useRouteError"),s=tu("useRouteError");return r!==void 0?r:i.errors?.[s]}function n0(){let{router:r}=Fy("useNavigate"),i=tu("useNavigate"),s=S.useRef(!1);return av(()=>{s.current=!0}),S.useCallback(async(c,u={})=>{Pt(s.current,tv),s.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:i,...u}))},[r,i])}var gm={};function sv(r,i,s){!i&&!gm[r]&&(gm[r]=!0,Pt(!1,s))}S.memo(i0);function i0({routes:r,future:i,state:s,unstable_onError:l}){return iv(r,void 0,s,l,i)}function Ka(r){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s0({basename:r="/",children:i=null,location:s,navigationType:l="POP",navigator:c,static:u=!1}){Be(!ks(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),v=S.useMemo(()=>({basename:h,navigator:c,static:u,future:{}}),[h,c,u]);typeof s=="string"&&(s=wi(s));let{pathname:m="/",search:g="",hash:p="",state:b=null,key:w="default"}=s,x=S.useMemo(()=>{let E=ba(m,h);return E==null?null:{location:{pathname:E,search:g,hash:p,state:b,key:w},navigationType:l}},[h,m,g,p,b,w,l]);return Pt(x!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:S.createElement(Ft.Provider,{value:v},S.createElement(Rs.Provider,{children:i,value:x}))}function l0({children:r,location:i}){return Ky(qc(r),i)}function qc(r,i=[]){let s=[];return S.Children.forEach(r,(l,c)=>{if(!S.isValidElement(l))return;let u=[...i,c];if(l.type===S.Fragment){s.push.apply(s,qc(l.props.children,u));return}Be(l.type===Ka,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=qc(l.props.children,u)),s.push(h)}),s}var tr="get",ar="application/x-www-form-urlencoded";function rr(r){return r!=null&&typeof r.tagName=="string"}function r0(r){return rr(r)&&r.tagName.toLowerCase()==="button"}function o0(r){return rr(r)&&r.tagName.toLowerCase()==="form"}function c0(r){return rr(r)&&r.tagName.toLowerCase()==="input"}function u0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function d0(r,i){return r.button===0&&(!i||i==="_self")&&!u0(r)}function Hc(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((i,s)=>{let l=r[s];return i.concat(Array.isArray(l)?l.map(c=>[s,c]):[[s,l]])},[]))}function f0(r,i){let s=Hc(r);return i&&i.forEach((l,c)=>{s.has(c)||i.getAll(c).forEach(u=>{s.append(c,u)})}),s}var Zl=null;function h0(){if(Zl===null)try{new FormData(document.createElement("form"),0),Zl=!1}catch{Zl=!0}return Zl}var m0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oc(r){return r!=null&&!m0.has(r)?(Pt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ar}"`),null):r}function v0(r,i){let s,l,c,u,h;if(o0(r)){let v=r.getAttribute("action");l=v?ba(v,i):null,s=r.getAttribute("method")||tr,c=Oc(r.getAttribute("enctype"))||ar,u=new FormData(r)}else if(r0(r)||c0(r)&&(r.type==="submit"||r.type==="image")){let v=r.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||v.getAttribute("action");if(l=m?ba(m,i):null,s=r.getAttribute("formmethod")||v.getAttribute("method")||tr,c=Oc(r.getAttribute("formenctype"))||Oc(v.getAttribute("enctype"))||ar,u=new FormData(v,r),!h0()){let{name:g,type:p,value:b}=r;if(p==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(rr(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=tr,l=null,c=ar,h=r}return u&&c==="text/plain"&&(h=u,u=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function au(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function g0(r,i,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${s}`:i&&ba(l.pathname,i)==="/"?l.pathname=`${i.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function p0(r,i){if(r.id in i)return i[r.id];try{let s=await import(r.module);return i[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function y0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _0(r,i,s){let l=await Promise.all(r.map(async c=>{let u=i.routes[c.route.id];if(u){let h=await p0(u,s);return h.links?h.links():[]}return[]}));return x0(l.flat(1).filter(y0).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function pm(r,i,s,l,c,u){let h=(m,g)=>s[g]?m.route.id!==s[g].route.id:!0,v=(m,g)=>s[g].pathname!==m.pathname||s[g].route.path?.endsWith("*")&&s[g].params["*"]!==m.params["*"];return u==="assets"?i.filter((m,g)=>h(m,g)||v(m,g)):u==="data"?i.filter((m,g)=>{let p=l.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(h(m,g)||v(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function b0(r,i,{includeHydrateFallback:s}={}){return w0(r.map(l=>{let c=i.routes[l.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function w0(r){return[...new Set(r)]}function S0(r){let i={},s=Object.keys(r).sort();for(let l of s)i[l]=r[l];return i}function x0(r,i){let s=new Set;return new Set(i),r.reduce((l,c)=>{let u=JSON.stringify(S0(c));return s.has(u)||(s.add(u),l.push({key:u,link:c})),l},[])}function lv(){let r=S.useContext(Si);return au(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function j0(){let r=S.useContext(lr);return au(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var nu=S.createContext(void 0);nu.displayName="FrameworkContext";function rv(){let r=S.useContext(nu);return au(r,"You must render this element inside a <HydratedRouter> element"),r}function E0(r,i){let s=S.useContext(nu),[l,c]=S.useState(!1),[u,h]=S.useState(!1),{onFocus:v,onBlur:m,onMouseEnter:g,onMouseLeave:p,onTouchStart:b}=i,w=S.useRef(null);S.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let R=C=>{C.forEach(D=>{h(D.isIntersecting)})},T=new IntersectionObserver(R,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[r]),S.useEffect(()=>{if(l){let R=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(R)}}},[l]);let x=()=>{c(!0)},E=()=>{c(!1),h(!1)};return s?r!=="intent"?[u,w,{}]:[u,w,{onFocus:js(v,x),onBlur:js(m,E),onMouseEnter:js(g,x),onMouseLeave:js(p,E),onTouchStart:js(b,x)}]:[!1,w,{}]}function js(r,i){return s=>{r&&r(s),s.defaultPrevented||i(s)}}function N0({page:r,...i}){let{router:s}=lv(),l=S.useMemo(()=>Xm(s.routes,r,s.basename),[s.routes,r,s.basename]);return l?S.createElement(A0,{page:r,matches:l,...i}):null}function T0(r){let{manifest:i,routeModules:s}=rv(),[l,c]=S.useState([]);return S.useEffect(()=>{let u=!1;return _0(r,i,s).then(h=>{u||c(h)}),()=>{u=!0}},[r,i,s]),l}function A0({page:r,matches:i,...s}){let l=Za(),{manifest:c,routeModules:u}=rv(),{basename:h}=lv(),{loaderData:v,matches:m}=j0(),g=S.useMemo(()=>pm(r,i,m,c,l,"data"),[r,i,m,c,l]),p=S.useMemo(()=>pm(r,i,m,c,l,"assets"),[r,i,m,c,l]),b=S.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let E=new Set,R=!1;if(i.forEach(C=>{let D=c.routes[C.route.id];!D||!D.hasLoader||(!g.some(M=>M.route.id===C.route.id)&&C.route.id in v&&u[C.route.id]?.shouldRevalidate||D.hasClientLoader?R=!0:E.add(C.route.id))}),E.size===0)return[];let T=g0(r,h,"data");return R&&E.size>0&&T.searchParams.set("_routes",i.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[h,v,l,c,g,i,r,u]),w=S.useMemo(()=>b0(p,c),[p,c]),x=T0(p);return S.createElement(S.Fragment,null,b.map(E=>S.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),w.map(E=>S.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),x.map(({key:E,link:R})=>S.createElement("link",{key:E,nonce:s.nonce,...R})))}function C0(...r){return i=>{r.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ov&&(window.__reactRouterVersion="7.8.2")}catch{}function O0({basename:r,children:i,window:s}){let l=S.useRef();l.current==null&&(l.current=py({window:s,v5Compat:!0}));let c=l.current,[u,h]=S.useState({action:c.action,location:c.location}),v=S.useCallback(m=>{S.startTransition(()=>h(m))},[h]);return S.useLayoutEffect(()=>c.listen(v),[c,v]),S.createElement(s0,{basename:r,children:i,location:u.location,navigationType:u.action,navigator:c})}var cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uv=S.forwardRef(function({onClick:i,discover:s="render",prefetch:l="none",relative:c,reloadDocument:u,replace:h,state:v,target:m,to:g,preventScrollReset:p,viewTransition:b,...w},x){let{basename:E}=S.useContext(Ft),R=typeof g=="string"&&cv.test(g),T,C=!1;if(typeof g=="string"&&R&&(T=g,ov))try{let Z=new URL(window.location.href),ee=g.startsWith("//")?new URL(Z.protocol+g):new URL(g),ue=ba(ee.pathname,E);ee.origin===Z.origin&&ue!=null?g=ue+ee.search+ee.hash:C=!0}catch{Pt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=Vy(g,{relative:c}),[M,Y,q]=E0(l,w),L=M0(g,{replace:h,state:v,target:m,preventScrollReset:p,relative:c,viewTransition:b});function P(Z){i&&i(Z),Z.defaultPrevented||L(Z)}let ae=S.createElement("a",{...w,...q,href:T||D,onClick:C||u?i:P,ref:C0(x,Y),target:m,"data-discover":!R&&s==="render"?"true":void 0});return M&&!R?S.createElement(S.Fragment,null,ae,S.createElement(N0,{page:D})):ae});uv.displayName="Link";var R0=S.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:l="",end:c=!1,style:u,to:h,viewTransition:v,children:m,...g},p){let b=Ds(h,{relative:g.relative}),w=Za(),x=S.useContext(lr),{navigator:E,basename:R}=S.useContext(Ft),T=x!=null&&H0(b)&&v===!0,C=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,D=w.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(D=D.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&R&&(M=ba(M,R)||M);const Y=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let q=D===C||!c&&D.startsWith(C)&&D.charAt(Y)==="/",L=M!=null&&(M===C||!c&&M.startsWith(C)&&M.charAt(C.length)==="/"),P={isActive:q,isPending:L,isTransitioning:T},ae=q?i:void 0,Z;typeof l=="function"?Z=l(P):Z=[l,q?"active":null,L?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ee=typeof u=="function"?u(P):u;return S.createElement(uv,{...g,"aria-current":ae,className:Z,ref:p,style:ee,to:h,viewTransition:v},typeof m=="function"?m(P):m)});R0.displayName="NavLink";var k0=S.forwardRef(({discover:r="render",fetcherKey:i,navigate:s,reloadDocument:l,replace:c,state:u,method:h=tr,action:v,onSubmit:m,relative:g,preventScrollReset:p,viewTransition:b,...w},x)=>{let E=B0(),R=q0(v,{relative:g}),T=h.toLowerCase()==="get"?"get":"post",C=typeof v=="string"&&cv.test(v),D=M=>{if(m&&m(M),M.defaultPrevented)return;M.preventDefault();let Y=M.nativeEvent.submitter,q=Y?.getAttribute("formmethod")||h;E(Y||M.currentTarget,{fetcherKey:i,method:q,navigate:s,replace:c,state:u,relative:g,preventScrollReset:p,viewTransition:b})};return S.createElement("form",{ref:x,method:T,action:R,onSubmit:l?m:D,...w,"data-discover":!C&&r==="render"?"true":void 0})});k0.displayName="Form";function D0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dv(r){let i=S.useContext(Si);return Be(i,D0(r)),i}function M0(r,{target:i,replace:s,state:l,preventScrollReset:c,relative:u,viewTransition:h}={}){let v=ea(),m=Za(),g=Ds(r,{relative:u});return S.useCallback(p=>{if(d0(p,i)){p.preventDefault();let b=s!==void 0?s:Cs(m)===Cs(g);v(r,{replace:b,state:l,preventScrollReset:c,relative:u,viewTransition:h})}},[m,v,g,s,l,i,r,c,u,h])}function U0(r){Pt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=S.useRef(Hc(r)),s=S.useRef(!1),l=Za(),c=S.useMemo(()=>f0(l.search,s.current?null:i.current),[l.search]),u=ea(),h=S.useCallback((v,m)=>{const g=Hc(typeof v=="function"?v(new URLSearchParams(c)):v);s.current=!0,u("?"+g,m)},[u,c]);return[c,h]}var z0=0,L0=()=>`__${String(++z0)}__`;function B0(){let{router:r}=dv("useSubmit"),{basename:i}=S.useContext(Ft),s=t0();return S.useCallback(async(l,c={})=>{let{action:u,method:h,encType:v,formData:m,body:g}=v0(l,i);if(c.navigate===!1){let p=c.fetcherKey||L0();await r.fetch(p,s,c.action||u,{preventScrollReset:c.preventScrollReset,formData:m,body:g,formMethod:c.method||h,formEncType:c.encType||v,flushSync:c.flushSync})}else await r.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:m,body:g,formMethod:c.method||h,formEncType:c.encType||v,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,s])}function q0(r,{relative:i}={}){let{basename:s}=S.useContext(Ft),l=S.useContext(Wt);Be(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),u={...Ds(r||".",{relative:i})},h=Za();if(r==null){u.search=h.search;let v=new URLSearchParams(u.search),m=v.getAll("index");if(m.some(p=>p==="")){v.delete("index"),m.filter(b=>b).forEach(b=>v.append("index",b));let p=v.toString();u.search=p?`?${p}`:""}}return(!r||r===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:ya([s,u.pathname])),Cs(u)}function H0(r,{relative:i}={}){let s=S.useContext(ev);Be(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=dv("useViewTransitionState"),c=Ds(r,{relative:i});if(!s.isTransitioning)return!1;let u=ba(s.currentLocation.pathname,l)||s.currentLocation.pathname,h=ba(s.nextLocation.pathname,l)||s.nextLocation.pathname;return nr(c.pathname,h)!=null||nr(c.pathname,u)!=null}const $0="modulepreload",G0=function(r){return"/Skunk/"+r},ym={},xi=function(i,s,l){let c=Promise.resolve();if(s&&s.length>0){let g=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var h=g;document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),m=v?.nonce||v?.getAttribute("nonce");c=g(s.map(p=>{if(p=G0(p),p in ym)return;ym[p]=!0;const b=p.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const x=document.createElement("link");if(x.rel=b?"stylesheet":$0,b||(x.as="script"),x.crossOrigin="",x.href=p,m&&x.setAttribute("nonce",m),document.head.appendChild(x),b)return new Promise((E,R)=>{x.addEventListener("load",E),x.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(v){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=v,window.dispatchEvent(m),!m.defaultPrevented)throw v}return c.then(v=>{for(const m of v||[])m.status==="rejected"&&u(m.reason);return i().catch(u)})},_m=["Milano","Roma","Torino","Napoli","Bologna","Firenze","Venezia","Palermo","Genova","Bari"];function P0({value:r,onChange:i,onKeyPress:s}){const[l,c]=S.useState(!1),[u,h]=S.useState(r),v=_m.filter(w=>w.toLowerCase().includes(u.toLowerCase())),m=w=>{const x=w.target.value;h(x),i(x),c(x.length>0&&v.length>0)},g=w=>{h(w),i(w),c(!1)},p=()=>{c(u.length===0||v.length>0)},b=()=>{setTimeout(()=>c(!1),200)};return f.jsxs("div",{className:"location-select",children:[f.jsx("input",{type:"text",className:"location-input",placeholder:"Citt",value:u,onChange:m,onFocus:p,onBlur:b,onKeyPress:s}),l&&f.jsx("div",{className:"location-dropdown",children:v.length>0?v.map(w=>f.jsx("div",{className:"location-option",onClick:()=>g(w),children:w},w)):u.length>0?f.jsx("div",{className:"location-option disabled",children:"Nessuna citt trovata"}):_m.map(w=>f.jsx("div",{className:"location-option",onClick:()=>g(w),children:w},w))})]})}const V0=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>xi(async()=>{const{default:l}=await Promise.resolve().then(()=>ji);return{default:l}},[]).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)};class iu extends Error{constructor(i,s="FunctionsError",l){super(i),this.name=s,this.context=l}}class Y0 extends iu{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class bm extends iu{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class wm extends iu{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var $c;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})($c||($c={}));var K0=function(r,i,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function v(p){try{g(l.next(p))}catch(b){h(b)}}function m(p){try{g(l.throw(p))}catch(b){h(b)}}function g(p){p.done?u(p.value):c(p.value).then(v,m)}g((l=l.apply(r,i||[])).next())})};class Q0{constructor(i,{headers:s={},customFetch:l,region:c=$c.Any}={}){this.url=i,this.headers=s,this.region=c,this.fetch=V0(l)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,s={}){var l;return K0(this,void 0,void 0,function*(){try{const{headers:c,method:u,body:h}=s;let v={},{region:m}=s;m||(m=this.region);const g=new URL(`${this.url}/${i}`);m&&m!=="any"&&(v["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",p=h):typeof h=="string"?(v["Content-Type"]="text/plain",p=h):typeof FormData<"u"&&h instanceof FormData?p=h:(v["Content-Type"]="application/json",p=JSON.stringify(h)));const b=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:p}).catch(R=>{throw new Y0(R)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new bm(b);if(!b.ok)throw new wm(b);let x=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),E;return x==="application/json"?E=yield b.json():x==="application/octet-stream"?E=yield b.blob():x==="text/event-stream"?E=b:x==="multipart/form-data"?E=yield b.formData():E=yield b.text(),{data:E,error:null,response:b}}catch(c){return{data:null,error:c,response:c instanceof wm||c instanceof bm?c.context:void 0}}})}}var et={},oi={},ci={},ui={},di={},fi={},X0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bi=X0();const Z0=bi.fetch,fv=bi.fetch.bind(bi),hv=bi.Headers,I0=bi.Request,J0=bi.Response,ji=Object.freeze(Object.defineProperty({__proto__:null,Headers:hv,Request:I0,Response:J0,default:fv,fetch:Z0},Symbol.toStringTag,{value:"Module"})),F0=ly(ji);var Il={},Sm;function mv(){if(Sm)return Il;Sm=1,Object.defineProperty(Il,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Il.default=r,Il}var xm;function vv(){if(xm)return fi;xm=1;var r=fi&&fi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(fi,"__esModule",{value:!0});const i=r(F0),s=r(mv());class l{constructor(u){var h,v;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(h=u.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=u.signal,this.isMaybeSingle=(v=u.isMaybeSingle)!==null&&v!==void 0?v:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=new Headers(this.headers),this.headers.set(u,h),this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const v=this.fetch;let m=v(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,b,w,x;let E=null,R=null,T=null,C=g.status,D=g.statusText;if(g.ok){if(this.method!=="HEAD"){const L=await g.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?R=L:R=JSON.parse(L))}const Y=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),q=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");Y&&q&&q.length>1&&(T=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(E={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,T=null,C=406,D="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const Y=await g.text();try{E=JSON.parse(Y),Array.isArray(E)&&g.status===404&&(R=[],E=null,C=200,D="OK")}catch{g.status===404&&Y===""?(C=204,D="No Content"):E={message:Y}}if(E&&this.isMaybeSingle&&(!((x=E?.details)===null||x===void 0)&&x.includes("0 rows"))&&(E=null,C=200,D="OK"),E&&this.shouldThrowOnError)throw new s.default(E)}return{error:E,data:R,count:T,status:C,statusText:D}});return this.shouldThrowOnError||(m=m.catch(g=>{var p,b,w;return{error:{message:`${(p=g?.name)!==null&&p!==void 0?p:"FetchError"}: ${g?.message}`,details:`${(b=g?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,h)}returns(){return this}overrideTypes(){return this}}return fi.default=l,fi}var jm;function gv(){if(jm)return di;jm=1;var r=di&&di.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(di,"__esModule",{value:!0});const i=r(vv());class s extends i.default{select(c){let u=!1;const h=(c??"*").split("").map(v=>/\s/.test(v)&&!u?"":(v==='"'&&(u=!u),v)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:u=!0,nullsFirst:h,foreignTable:v,referencedTable:m=v}={}){const g=m?`${m}.order`:"order",p=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${p?`${p},`:""}${c}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:h=u}={}){const v=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(v,`${c}`),this}range(c,u,{foreignTable:h,referencedTable:v=h}={}){const m=typeof v>"u"?"offset":`${v}.offset`,g=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(m,`${c}`),this.url.searchParams.set(g,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:u=!1,settings:h=!1,buffers:v=!1,wal:m=!1,format:g="text"}={}){var p;const b=[c?"analyze":null,u?"verbose":null,h?"settings":null,v?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${b};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return di.default=s,di}var Em;function su(){if(Em)return ui;Em=1;var r=ui&&ui.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ui,"__esModule",{value:!0});const i=r(gv());class s extends i.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}in(c,u){const h=Array.from(new Set(u)).map(v=>typeof v=="string"&&new RegExp("[,()]").test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:h,type:v}={}){let m="";v==="plain"?m="pl":v==="phrase"?m="ph":v==="websearch"&&(m="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${m}fts${g}.${u}`),this}match(c){return Object.entries(c).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(c,u,h){return this.url.searchParams.append(c,`not.${u}.${h}`),this}or(c,{foreignTable:u,referencedTable:h=u}={}){const v=h?`${h}.or`:"or";return this.url.searchParams.append(v,`(${c})`),this}filter(c,u,h){return this.url.searchParams.append(c,`${u}.${h}`),this}}return ui.default=s,ui}var Nm;function pv(){if(Nm)return ci;Nm=1;var r=ci&&ci.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ci,"__esModule",{value:!0});const i=r(su());class s{constructor(c,{headers:u={},schema:h,fetch:v}){this.url=c,this.headers=new Headers(u),this.schema=h,this.fetch=v}select(c,{head:u=!1,count:h}={}){const v=u?"HEAD":"GET";let m=!1;const g=(c??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:u,defaultToNull:h=!0}={}){var v;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const g=c.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(g.length>0){const p=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new i.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}upsert(c,{onConflict:u,ignoreDuplicates:h=!1,count:v,defaultToNull:m=!0}={}){var g;const p="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),v&&this.headers.append("Prefer",`count=${v}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const b=c.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(b.length>0){const w=[...new Set(b)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new i.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(c,{count:u}={}){var h;const v="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var u;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new i.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ci.default=s,ci}var Tm;function W0(){if(Tm)return oi;Tm=1;var r=oi&&oi.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(oi,"__esModule",{value:!0});const i=r(pv()),s=r(su());class l{constructor(u,{headers:h={},schema:v,fetch:m}={}){this.url=u,this.headers=new Headers(h),this.schemaName=v,this.fetch=m}from(u){const h=new URL(`${this.url}/${u}`);return new i.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new l(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:v=!1,get:m=!1,count:g}={}){var p;let b;const w=new URL(`${this.url}/rpc/${u}`);let x;v||m?(b=v?"HEAD":"GET",Object.entries(h).filter(([R,T])=>T!==void 0).map(([R,T])=>[R,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([R,T])=>{w.searchParams.append(R,T)})):(b="POST",x=h);const E=new Headers(this.headers);return g&&E.set("Prefer",`count=${g}`),new s.default({method:b,url:w,headers:E,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return oi.default=l,oi}var Am;function e_(){if(Am)return et;Am=1;var r=et&&et.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(et,"__esModule",{value:!0}),et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const i=r(W0());et.PostgrestClient=i.default;const s=r(pv());et.PostgrestQueryBuilder=s.default;const l=r(su());et.PostgrestFilterBuilder=l.default;const c=r(gv());et.PostgrestTransformBuilder=c.default;const u=r(vv());et.PostgrestBuilder=u.default;const h=r(mv());return et.PostgrestError=h.default,et.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:h.default},et}var t_=e_();const a_=sy(t_),{PostgrestClient:n_,PostgrestQueryBuilder:ww,PostgrestFilterBuilder:Sw,PostgrestTransformBuilder:xw,PostgrestBuilder:jw,PostgrestError:Ew}=a_;class i_{static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let s=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(s+=`

Suggested solution: ${i.workaround}`),new Error(s)}static createWebSocket(i,s){const l=this.getWebSocketConstructor();return new l(i,s)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const s_="2.15.1",l_=`realtime-js/${s_}`,r_="1.0.0",Gc=1e4,o_=1e3,c_=100;var Ns;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ns||(Ns={}));var Xe;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Xe||(Xe={}));var $t;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})($t||($t={}));var Pc;(function(r){r.websocket="websocket"})(Pc||(Pc={}));var bn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(bn||(bn={}));class u_{constructor(){this.HEADER_LENGTH=1}decode(i,s){return i.constructor===ArrayBuffer?s(this._binaryDecode(i)):s(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const s=new DataView(i),l=new TextDecoder;return this._decodeBroadcast(i,s,l)}_decodeBroadcast(i,s,l){const c=s.getUint8(1),u=s.getUint8(2);let h=this.HEADER_LENGTH+2;const v=l.decode(i.slice(h,h+c));h=h+c;const m=l.decode(i.slice(h,h+u));h=h+u;const g=JSON.parse(l.decode(i.slice(h,i.byteLength)));return{ref:null,topic:v,event:m,payload:g}}}class yv{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ue||(Ue={}));const Cm=(r,i,s={})=>{var l;const c=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(i).reduce((u,h)=>(u[h]=d_(h,r,i,c),u),{})},d_=(r,i,s,l)=>{const c=i.find(v=>v.name===r),u=c?.type,h=s[r];return u&&!l.includes(u)?_v(u,h):Vc(h)},_v=(r,i)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return v_(i,s)}switch(r){case Ue.bool:return f_(i);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return h_(i);case Ue.json:case Ue.jsonb:return m_(i);case Ue.timestamp:return g_(i);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return Vc(i);default:return Vc(i)}},Vc=r=>r,f_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},h_=r=>{if(typeof r=="string"){const i=parseFloat(r);if(!Number.isNaN(i))return i}return r},m_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(i){return console.log(`JSON parse error: ${i}`),r}return r},v_=(r,i)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let u;const h=r.slice(1,s);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(v=>_v(i,v))}return r},g_=r=>typeof r=="string"?r.replace(" ","T"):r,bv=r=>{let i=r;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"};class Rc{constructor(i,s,l={},c=Gc){this.channel=i,this.event=s,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var l;return this._hasReceived(i)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(l=>l.status===i).forEach(l=>l.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var Om;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Om||(Om={}));class Ts{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:h,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ts.syncState(this.state,c,u,h),this.pendingDiffs.forEach(m=>{this.state=Ts.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],v()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ts.syncDiff(this.state,c,u,h),v())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,l,c){const u=this.cloneDeep(i),h=this.transformState(s),v={},m={};return this.map(u,(g,p)=>{h[g]||(m[g]=p)}),this.map(h,(g,p)=>{const b=u[g];if(b){const w=p.map(T=>T.presence_ref),x=b.map(T=>T.presence_ref),E=p.filter(T=>x.indexOf(T.presence_ref)<0),R=b.filter(T=>w.indexOf(T.presence_ref)<0);E.length>0&&(v[g]=E),R.length>0&&(m[g]=R)}else v[g]=p}),this.syncDiff(u,{joins:v,leaves:m},l,c)}static syncDiff(i,s,l,c){const{joins:u,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(v,m)=>{var g;const p=(g=i[v])!==null&&g!==void 0?g:[];if(i[v]=this.cloneDeep(m),p.length>0){const b=i[v].map(x=>x.presence_ref),w=p.filter(x=>b.indexOf(x.presence_ref)<0);i[v].unshift(...w)}l(v,p,m)}),this.map(h,(v,m)=>{let g=i[v];if(!g)return;const p=m.map(b=>b.presence_ref);g=g.filter(b=>p.indexOf(b.presence_ref)<0),i[v]=g,c(v,g,m),g.length===0&&delete i[v]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(l=>s(l,i[l]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,l)=>{const c=i[l];return"metas"in c?s[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[l]=c,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Rm||(Rm={}));var As;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(As||(As={}));var pa;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class lu{constructor(i,s={config:{}},l){this.topic=i,this.params=s,this.socket=l,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Rc(this,$t.join,this.params,this.timeout),this.rejoinTimer=new yv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on($t.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new Ts(this),this.broadcastEndpointURL=bv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(i,s=this.timeout){var l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Xe.closed){const{config:{broadcast:u,presence:h,private:v}}=this.params,m=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&c!==void 0?c:[],g=!!this.bindings[As.PRESENCE]&&this.bindings[As.PRESENCE].length>0,p={},b={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:m,private:v};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(w=>i?.(pa.CHANNEL_ERROR,w)),this._onClose(()=>i?.(pa.CLOSED)),this.updateJoinPayload(Object.assign({config:b},p)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var x;if(this.socket.setAuth(),w===void 0){i?.(pa.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,R=(x=E?.length)!==null&&x!==void 0?x:0,T=[];for(let C=0;C<R;C++){const D=E[C],{filter:{event:M,schema:Y,table:q,filter:L}}=D,P=w&&w[C];if(P&&P.event===M&&P.schema===Y&&P.table===q&&P.filter===L)T.push(Object.assign(Object.assign({},D),{id:P.id}));else{this.unsubscribe(),this.state=Xe.errored,i?.(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,i&&i(pa.SUBSCRIBED);return}}).receive("error",w=>{this.state=Xe.errored,i?.(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{i?.(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,s={}){return await this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,s,l){return this.state===Xe.joined&&i===As.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(i,s,l)}async send(i,s={}){var l,c;if(!this._canPush()&&i.type==="broadcast"){const{event:u,payload:h}=i,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,v,m;const g=this._push(i.type,i,s.timeout||this.timeout);i.type==="broadcast"&&!(!((m=(v=(h=this.params)===null||h===void 0?void 0:h.config)===null||v===void 0?void 0:v.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Xe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($t.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Rc(this,$t.leave,{},i),l.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xe.closed,this.bindings={}}async _fetchWithTimeout(i,s,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(i,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(u),h}_push(i,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Rc(this,i,s,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>c_){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(i,s,l){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,l){var c,u;const h=i.toLocaleLowerCase(),{close:v,error:m,leave:g,join:p}=$t;if(l&&[v,m,g,p].indexOf(h)>=0&&l!==this._joinRef())return;let w=this._onMessage(h,s,l);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(x=>{var E,R,T;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((T=(R=x.filter)===null||R===void 0?void 0:R.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(x=>x.callback(w,l)):(u=this.bindings[h])===null||u===void 0||u.filter(x=>{var E,R,T,C,D,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in x){const Y=x.id,q=(E=x.filter)===null||E===void 0?void 0:E.event;return Y&&((R=s.ids)===null||R===void 0?void 0:R.includes(Y))&&(q==="*"||q?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const Y=(D=(C=x?.filter)===null||C===void 0?void 0:C.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return Y==="*"||Y===((M=s?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===h}).map(x=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:R,table:T,commit_timestamp:C,type:D,errors:M}=E;w=Object.assign(Object.assign({},{schema:R,table:T,commit_timestamp:C,eventType:D,new:{},old:{},errors:M}),this._getPayloadRecords(E))}x.callback(w,l)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,l){const c=i.toLocaleLowerCase(),u={type:c,filter:s,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(i,s){const l=i.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&lu.isEqual(c.filter,s))})),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const l in i)if(i[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on($t.close,{},i)}_onError(i){this._on($t.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=Cm(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=Cm(i.columns,i.old_record)),s}}const km=()=>{},Jl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p_=[1e3,2e3,5e3,1e4],y_=1e4,__=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b_{constructor(i,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gc,this.transport=null,this.heartbeatIntervalMs=Jl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=km,this.ref=0,this.reconnectTimer=null,this.logger=km,this.conn=null,this.sendBuffer=[],this.serializer=new u_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...h)=>xi(async()=>{const{default:v}=await Promise.resolve().then(()=>ji);return{default:v}},void 0).then(({default:v})=>v(...h)).catch(v=>{throw new Error(`Failed to load @supabase/node-fetch: ${v.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...h)=>u(...h)},!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${i}/${Pc.websocket}`,this.httpEndpoint=bv(i),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i_.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const s=i.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:r_}))}disconnect(i,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},i?this.conn.close(i,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const s=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const i=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,s,l){this.logger(i,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ns.connecting:return bn.Connecting;case Ns.open:return bn.Open;case Ns.closing:return bn.Closing;default:return bn.Closed}}isConnected(){return this.connectionState()===bn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,s={config:{}}){const l=`realtime:${i}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new lu(`realtime:${i}`,s,this);return this.channels.push(u),u}}push(i){const{topic:s,event:l,payload:c,ref:u}=i,h=()=>{this.encode(i,v=>{var m;(m=this.conn)===null||m===void 0||m.send(v)})};this.log("push",`${s} ${l} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var i;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(o_,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Jl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(l=>l.topic===i&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:u,ref:h}=s,v=h?`(${h})`:"",m=u.status||"";this.log("receive",`${m} ${l} ${c} ${v}`.trim(),u),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(c,u,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(i){var s;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){var s;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger($t.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const l=i.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${i}${l}${c}`}_workerObjectUrl(i){let s;if(i)s=i;else{const l=new Blob([__],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(i,s=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(i=null){let s;i?s=i:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const c={access_token:s,version:l_};s&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push($t.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${i}`,s)})}_triggerStateCallbacks(i,s){try{this.stateChangeCallbacks[i].forEach(l=>{try{l(s)}catch(c){this.log("error",`error in ${i} callback`,c)}})}catch(l){this.log("error",`error triggering ${i} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new yv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var s,l,c,u,h,v,m,g;if(this.transport=(s=i?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=i?.timeout)!==null&&l!==void 0?l:Gc,this.heartbeatIntervalMs=(c=i?.heartbeatIntervalMs)!==null&&c!==void 0?c:Jl.HEARTBEAT_INTERVAL,this.worker=(u=i?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=i?.accessToken)!==null&&h!==void 0?h:null,i?.params&&(this.params=i.params),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=i?.reconnectAfterMs)!==null&&v!==void 0?v:(p=>p_[p-1]||y_),this.encode=(m=i?.encode)!==null&&m!==void 0?m:((p,b)=>b(JSON.stringify(p))),this.decode=(g=i?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i?.workerUrl}}}class ru extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function Ze(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class w_ extends ru{constructor(i,s,l){super(i),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yc extends ru{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}}var S_=function(r,i,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function v(p){try{g(l.next(p))}catch(b){h(b)}}function m(p){try{g(l.throw(p))}catch(b){h(b)}}function g(p){p.done?u(p.value):c(p.value).then(v,m)}g((l=l.apply(r,i||[])).next())})};const wv=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>xi(async()=>{const{default:l}=await Promise.resolve().then(()=>ji);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},x_=()=>S_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xi(()=>Promise.resolve().then(()=>ji),void 0)).Response:Response}),Kc=r=>{if(Array.isArray(r))return r.map(s=>Kc(s));if(typeof r=="function"||r!==Object(r))return r;const i={};return Object.entries(r).forEach(([s,l])=>{const c=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));i[c]=Kc(l)}),i},j_=r=>{if(typeof r!="object"||r===null)return!1;const i=Object.getPrototypeOf(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Sn=function(r,i,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function v(p){try{g(l.next(p))}catch(b){h(b)}}function m(p){try{g(l.throw(p))}catch(b){h(b)}}function g(p){p.done?u(p.value):c(p.value).then(v,m)}g((l=l.apply(r,i||[])).next())})};const kc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),E_=(r,i,s)=>Sn(void 0,void 0,void 0,function*(){const l=yield x_();r instanceof l&&!s?.noResolveJson?r.json().then(c=>{const u=r.status||500,h=c?.statusCode||u+"";i(new w_(kc(c),u,h))}).catch(c=>{i(new Yc(kc(c),c))}):i(new Yc(kc(r),r))}),N_=(r,i,s,l)=>{const c={method:r,headers:i?.headers||{}};return r==="GET"||!l?c:(j_(l)?(c.headers=Object.assign({"Content-Type":"application/json"},i?.headers),c.body=JSON.stringify(l)):c.body=l,i?.duplex&&(c.duplex=i.duplex),Object.assign(Object.assign({},c),s))};function Ms(r,i,s,l,c,u){return Sn(this,void 0,void 0,function*(){return new Promise((h,v)=>{r(s,N_(i,l,c,u)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>E_(m,v,l))})})}function ir(r,i,s,l){return Sn(this,void 0,void 0,function*(){return Ms(r,"GET",i,s,l)})}function It(r,i,s,l,c){return Sn(this,void 0,void 0,function*(){return Ms(r,"POST",i,l,c,s)})}function Qc(r,i,s,l,c){return Sn(this,void 0,void 0,function*(){return Ms(r,"PUT",i,l,c,s)})}function T_(r,i,s,l){return Sn(this,void 0,void 0,function*(){return Ms(r,"HEAD",i,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function Sv(r,i,s,l,c){return Sn(this,void 0,void 0,function*(){return Ms(r,"DELETE",i,l,c,s)})}var dt=function(r,i,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function v(p){try{g(l.next(p))}catch(b){h(b)}}function m(p){try{g(l.throw(p))}catch(b){h(b)}}function g(p){p.done?u(p.value):c(p.value).then(v,m)}g((l=l.apply(r,i||[])).next())})};const A_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class C_{constructor(i,s={},l,c){this.url=i,this.headers=s,this.bucketId=l,this.fetch=wv(c)}uploadOrUpdate(i,s,l,c){return dt(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},Dm),c);let v=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=l,v["cache-control"]=`max-age=${h.cacheControl}`,v["content-type"]=h.contentType,m&&(v["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),c?.headers&&(v=Object.assign(Object.assign({},v),c.headers));const g=this._removeEmptyFolders(s),p=this._getFinalPath(g),b=yield(i=="PUT"?Qc:It)(this.fetch,`${this.url}/object/${p}`,u,Object.assign({headers:v},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(Ze(u))return{data:null,error:u};throw u}})}upload(i,s,l){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,s,l)})}uploadToSignedUrl(i,s,l,c){return dt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(i),h=this._getFinalPath(u),v=new URL(this.url+`/object/upload/sign/${h}`);v.searchParams.set("token",s);try{let m;const g=Object.assign({upsert:Dm.upsert},c),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",g.cacheControl)):(m=l,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType);const b=yield Qc(this.fetch,v.toString(),m,{headers:p});return{data:{path:u,fullPath:b.Key},error:null}}catch(m){if(Ze(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(i,s){return dt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(i);const c=Object.assign({},this.headers);s?.upsert&&(c["x-upsert"]="true");const u=yield It(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(this.url+u.url),v=h.searchParams.get("token");if(!v)throw new ru("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:v},error:null}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}update(i,s,l){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,s,l)})}move(i,s,l){return dt(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}copy(i,s,l){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}createSignedUrl(i,s,l){return dt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(i),u=yield It(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}createSignedUrls(i,s,l){return dt(this,void 0,void 0,function*(){try{const c=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:i},{headers:this.headers}),u=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}download(i,s){return dt(this,void 0,void 0,function*(){const c=typeof s?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(s?.transform||{}),h=u?`?${u}`:"";try{const v=this._getFinalPath(i);return{data:yield(yield ir(this.fetch,`${this.url}/${c}/${v}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(v){if(Ze(v))return{data:null,error:v};throw v}})}info(i){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{const l=yield ir(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Kc(l),error:null}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}exists(i){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{return yield T_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(Ze(l)&&l instanceof Yc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(i,s){const l=this._getFinalPath(i),c=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&c.push(u);const v=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&c.push(m);let g=c.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${v}/public/${l}${g}`)}}}remove(i){return dt(this,void 0,void 0,function*(){try{return{data:yield Sv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}list(i,s,l){return dt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},A_),s),{prefix:i||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}listV2(i,s){return dt(this,void 0,void 0,function*(){try{const l=Object.assign({},i);return{data:yield It(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}}const O_="2.11.0",R_={"X-Client-Info":`storage-js/${O_}`};var hi=function(r,i,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function v(p){try{g(l.next(p))}catch(b){h(b)}}function m(p){try{g(l.throw(p))}catch(b){h(b)}}function g(p){p.done?u(p.value):c(p.value).then(v,m)}g((l=l.apply(r,i||[])).next())})};class k_{constructor(i,s={},l,c){const u=new URL(i);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},R_),s),this.fetch=wv(l)}listBuckets(){return hi(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}getBucket(i){return hi(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createBucket(i,s={public:!1}){return hi(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}updateBucket(i,s){return hi(this,void 0,void 0,function*(){try{return{data:yield Qc(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}emptyBucket(i){return hi(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}deleteBucket(i){return hi(this,void 0,void 0,function*(){try{return{data:yield Sv(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}}class D_ extends k_{constructor(i,s={},l,c){super(i,s,l,c)}from(i){return new C_(this.url,this.headers,i,this.fetch)}}const M_="2.56.0";let Es="";typeof Deno<"u"?Es="deno":typeof document<"u"?Es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Es="react-native":Es="node";const U_={"X-Client-Info":`supabase-js-${Es}/${M_}`},z_={headers:U_},L_={schema:"public"},B_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q_={};var H_=function(r,i,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function v(p){try{g(l.next(p))}catch(b){h(b)}}function m(p){try{g(l.throw(p))}catch(b){h(b)}}function g(p){p.done?u(p.value):c(p.value).then(v,m)}g((l=l.apply(r,i||[])).next())})};const $_=r=>{let i;return r?i=r:typeof fetch>"u"?i=fv:i=fetch,(...s)=>i(...s)},G_=()=>typeof Headers>"u"?hv:Headers,P_=(r,i,s)=>{const l=$_(s),c=G_();return(u,h)=>H_(void 0,void 0,void 0,function*(){var v;const m=(v=yield i())!==null&&v!==void 0?v:r;let g=new c(h?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(u,Object.assign(Object.assign({},h),{headers:g}))})};var V_=function(r,i,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function v(p){try{g(l.next(p))}catch(b){h(b)}}function m(p){try{g(l.throw(p))}catch(b){h(b)}}function g(p){p.done?u(p.value):c(p.value).then(v,m)}g((l=l.apply(r,i||[])).next())})};function Y_(r){return r.endsWith("/")?r:r+"/"}function K_(r,i){var s,l;const{db:c,auth:u,realtime:h,global:v}=r,{db:m,auth:g,realtime:p,global:b}=i,w={db:Object.assign(Object.assign({},m),c),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},p),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),v),{headers:Object.assign(Object.assign({},(s=b?.headers)!==null&&s!==void 0?s:{}),(l=v?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>V_(this,void 0,void 0,function*(){return""})};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}const xv="2.71.1",yi=30*1e3,Xc=3,Dc=Xc*yi,Q_="http://localhost:9999",X_="supabase.auth.token",Z_={"X-Client-Info":`gotrue-js/${xv}`},Zc="X-Supabase-Api-Version",jv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},I_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J_=600*1e3;class ou extends Error{constructor(i,s,l){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function he(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class F_ extends ou{constructor(i,s,l){super(i,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function W_(r){return he(r)&&r.name==="AuthApiError"}class Ev extends ou{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class Ia extends ou{constructor(i,s,l,c){super(i,l,c),this.name=s,this.status=l}}class Qa extends Ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eb(r){return he(r)&&r.name==="AuthSessionMissingError"}class Fl extends Ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wl extends Ia{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class er extends Ia{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tb(r){return he(r)&&r.name==="AuthImplicitGrantRedirectError"}class Mm extends Ia{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ic extends Ia{constructor(i,s){super(i,"AuthRetryableFetchError",s,void 0)}}function Mc(r){return he(r)&&r.name==="AuthRetryableFetchError"}class Um extends Ia{constructor(i,s,l){super(i,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class Jc extends Ia{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zm=` 	
\r=`.split(""),ab=(()=>{const r=new Array(128);for(let i=0;i<r.length;i+=1)r[i]=-1;for(let i=0;i<zm.length;i+=1)r[zm[i].charCodeAt(0)]=-2;for(let i=0;i<sr.length;i+=1)r[sr[i].charCodeAt(0)]=i;return r})();function Lm(r,i,s){if(r!==null)for(i.queue=i.queue<<8|r,i.queuedBits+=8;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(sr[l]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(sr[l]),i.queuedBits-=6}}function Nv(r,i,s){const l=ab[r];if(l>-1)for(i.queue=i.queue<<6|l,i.queuedBits+=6;i.queuedBits>=8;)s(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Bm(r){const i=[],s=h=>{i.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{sb(h,l,s)};for(let h=0;h<r.length;h+=1)Nv(r.charCodeAt(h),c,u);return i.join("")}function nb(r,i){if(r<=127){i(r);return}else if(r<=2047){i(192|r>>6),i(128|r&63);return}else if(r<=65535){i(224|r>>12),i(128|r>>6&63),i(128|r&63);return}else if(r<=1114111){i(240|r>>18),i(128|r>>12&63),i(128|r>>6&63),i(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function ib(r,i){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}nb(l,i)}}function sb(r,i,s){if(i.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){i.utf8seq=l;break}if(i.utf8seq===2)i.codepoint=r&31;else if(i.utf8seq===3)i.codepoint=r&15;else if(i.utf8seq===4)i.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|r&63,i.utf8seq-=1,i.utf8seq===0&&s(i.codepoint)}}function lb(r){const i=[],s={queue:0,queuedBits:0},l=c=>{i.push(c)};for(let c=0;c<r.length;c+=1)Nv(r.charCodeAt(c),s,l);return new Uint8Array(i)}function rb(r){const i=[];return ib(r,s=>i.push(s)),new Uint8Array(i)}function ob(r){const i=[],s={queue:0,queuedBits:0},l=c=>{i.push(c)};return r.forEach(c=>Lm(c,s,l)),Lm(null,s,l),i.join("")}function cb(r){return Math.round(Date.now()/1e3)+r}function ub(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const i=Math.random()*16|0;return(r=="x"?i:i&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",pn={tested:!1,writable:!1},Tv=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pn.tested)return pn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),pn.tested=!0,pn.writable=!0}catch{pn.tested=!0,pn.writable=!1}return pn.writable};function db(r){const i={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,u)=>{i[u]=c})}catch{}return s.searchParams.forEach((l,c)=>{i[c]=l}),i}const Av=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...s)=>xi(async()=>{const{default:l}=await Promise.resolve().then(()=>ji);return{default:l}},void 0).then(({default:l})=>l(...s)):i=fetch,(...s)=>i(...s)},fb=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",_i=async(r,i,s)=>{await r.setItem(i,JSON.stringify(s))},yn=async(r,i)=>{const s=await r.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ya=async(r,i)=>{await r.removeItem(i)};class or{constructor(){this.promise=new or.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}or.promiseConstructor=Promise;function Uc(r){const i=r.split(".");if(i.length!==3)throw new Jc("Invalid JWT structure");for(let l=0;l<i.length;l++)if(!I_.test(i[l]))throw new Jc("JWT not in base64url format");return{header:JSON.parse(Bm(i[0])),payload:JSON.parse(Bm(i[1])),signature:lb(i[2]),raw:{header:i[0],payload:i[1]}}}async function hb(r){return await new Promise(i=>{setTimeout(()=>i(null),r)})}function mb(r,i){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await r(u);if(!i(u,null,h)){l(h);return}}catch(h){if(!i(u,h)){c(h);return}}})()})}function vb(r){return("0"+r.toString(16)).substr(-2)}function gb(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let c="";for(let u=0;u<56;u++)c+=s.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(i),Array.from(i,vb).join("")}async function pb(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function yb(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await pb(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mi(r,i,s=!1){const l=gb();let c=l;s&&(c+="/PASSWORD_RECOVERY"),await _i(r,`${i}-code-verifier`,c);const u=await yb(l);return[u,l===u?"plain":"s256"]}const _b=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bb(r){const i=r.headers.get(Zc);if(!i||!i.match(_b))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function wb(r){if(!r)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(r<=i)throw new Error("JWT has expired")}function Sb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vi(r){if(!xb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zc(){const r={};return new Proxy(r,{get:(i,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qm(r){return JSON.parse(JSON.stringify(r))}var jb=function(r,i){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)i.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(s[l[c]]=r[l[c]]);return s};const _n=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Eb=[502,503,504];async function Hm(r){var i;if(!fb(r))throw new Ic(_n(r),0);if(Eb.includes(r.status))throw new Ic(_n(r),r.status);let s;try{s=await r.json()}catch(u){throw new Ev(_n(u),u)}let l;const c=bb(r);if(c&&c.getTime()>=jv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Um(_n(s),r.status,((i=s.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(l==="session_not_found")throw new Qa}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new Um(_n(s),r.status,s.weak_password.reasons);throw new F_(_n(s),r.status||500,l)}const Nb=(r,i,s,l)=>{const c={method:r,headers:i?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),s))};async function be(r,i,s,l){var c;const u=Object.assign({},l?.headers);u[Zc]||(u[Zc]=jv["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const v=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Tb(r,i,s+v,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function Tb(r,i,s,l,c,u){const h=Nb(i,l,c,u);let v;try{v=await r(s,Object.assign({},h))}catch(m){throw console.error(m),new Ic(_n(m),0)}if(v.ok||await Hm(v),l?.noResolveJson)return v;try{return await v.json()}catch(m){await Hm(m)}}function ga(r){var i;let s=null;Rb(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=cb(r.expires_in)));const l=(i=r.user)!==null&&i!==void 0?i:r;return{data:{session:s,user:l},error:null}}function $m(r){const i=ga(r);return!i.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(i.data.weak_password=r.weak_password),i}function Xa(r){var i;return{data:{user:(i=r.user)!==null&&i!==void 0?i:r},error:null}}function Ab(r){return{data:r,error:null}}function Cb(r){const{action_link:i,email_otp:s,hashed_token:l,redirect_to:c,verification_type:u}=r,h=jb(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:i,email_otp:s,hashed_token:l,redirect_to:c,verification_type:u},m=Object.assign({},h);return{data:{properties:v,user:m},error:null}}function Ob(r){return r}function Rb(r){return r.access_token&&r.refresh_token&&r.expires_in}const Lc=["global","local","others"];var kb=function(r,i){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&i.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)i.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(s[l[c]]=r[l[c]]);return s};class Db{constructor({url:i="",headers:s={},fetch:l}){this.url=i,this.headers=s,this.fetch=Av(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,s=Lc[0]){if(Lc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lc.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}async inviteUserByEmail(i,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Xa})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async generateLink(i){try{const{options:s}=i,l=kb(i,["options"]),c=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Cb,redirectTo:s?.redirectTo})}catch(s){if(he(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(i){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Xa})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async listUsers(i){var s,l,c,u,h,v,m;try{const g={nextPage:null,lastPage:0,total:0},p=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=i?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=i?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Ob});if(p.error)throw p.error;const b=await p.json(),w=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,x=(m=(v=p.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(E=>{const R=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);g[`${T}Page`]=R}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(he(g))return{data:{users:[]},error:g};throw g}}async getUserById(i){vi(i);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Xa})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async updateUserById(i,s){vi(i);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:Xa})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async deleteUser(i,s=!1){vi(i);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:Xa})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async _listFactors(i){vi(i.userId);try{const{data:s,error:l}=await be(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:l}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteFactor(i){vi(i.userId),vi(i.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}}function Gm(r={}){return{getItem:i=>r[i]||null,setItem:(i,s)=>{r[i]=s},removeItem:i=>{delete r[i]}}}function Mb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gi={debug:!!(globalThis&&Tv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cv extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class Ub extends Cv{}async function zb(r,i,s){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,i);const l=new globalThis.AbortController;return i>0&&setTimeout(()=>{l.abort(),gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await s()}finally{gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(i===0)throw gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ub(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(gi.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Mb();const Lb={url:Q_,storageKey:X_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pm(r,i,s){return await s()}const pi={};class Os{constructor(i){var s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Os.nextInstanceID,Os.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},Lb),i);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Db({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Av(c.fetch),this.lock=c.lock||Pm,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Ht()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=zb:this.lock=Pm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Tv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Gm(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var i,s;return(s=(i=pi[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(i){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,s;return(s=(i=pi[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{cachedAt:i})}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xv}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const s=db(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),Ht()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(s,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),tb(u)){const m=(i=u.details)===null||i===void 0?void 0:i.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:v}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",v),await this._saveSession(h),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return he(s)?{error:s}:{error:new Ev("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var s,l,c;try{const u=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=i?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=i?.options)===null||c===void 0?void 0:c.captchaToken}},xform:ga}),{data:h,error:v}=u;if(v||!h)return{data:{user:null,session:null},error:v};const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(i){var s,l,c;try{let u;if("email"in i){const{email:p,password:b,options:w}=i;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await mi(this.storage,this.storageKey)),u=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:p,password:b,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:E},xform:ga})}else if("phone"in i){const{phone:p,password:b,options:w}=i;u=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(c=w?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ga})}else throw new Wl("You must provide either an email or phone number and a password");const{data:h,error:v}=u;if(v||!h)return{data:{user:null,session:null},error:v};const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(i){try{let s;if("email"in i){const{email:u,password:h,options:v}=i;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:$m})}else if("phone"in i){const{phone:u,password:h,options:v}=i;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:$m})}else throw new Wl("You must provide either an email or phone number and a password");const{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(i){var s,l,c,u;return await this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=i.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=i.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=i.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:s}=i;if(s==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(i){var s,l,c,u,h,v,m,g,p,b,w,x;let E,R;if("message"in i)E=i.message,R=i.signature;else{const{chain:T,wallet:C,statement:D,options:M}=i;let Y;if(Ht())if(typeof C=="object")Y=C;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))Y=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=C}const q=new URL((s=M?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Y&&Y.signIn){const L=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),D?{statement:D}:null));let P;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")P=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)P=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)E=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),R=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${q.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(c=(l=M?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=M?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((v=M?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(p=M?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const L=await Y.signMessage(new TextEncoder().encode(E),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=L}}try{const{data:T,error:C}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:ob(R)},!((w=i.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=i.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ga});if(C)throw C;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Fl}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:C})}catch(T){if(he(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(i){const s=await yn(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(s??"").split("/");try{const{data:u,error:h}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:l},xform:ga});if(await Ya(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Fl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(he(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(i){try{const{options:s,provider:l,token:c,access_token:u,nonce:h}=i,v=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ga}),{data:m,error:g}=v;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Fl}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(i){var s,l,c,u,h;try{if("email"in i){const{email:v,options:m}=i;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await mi(this.storage,this.storageKey));const{error:b}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in i){const{phone:v,options:m}=i,{data:g,error:p}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(c=m?.data)!==null&&c!==void 0?c:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:p}}throw new Wl("You must provide either an email or phone number.")}catch(v){if(he(v))return{data:{user:null,session:null},error:v};throw v}}async verifyOtp(i){var s,l;try{let c,u;"options"in i&&(c=(s=i.options)===null||s===void 0?void 0:s.redirectTo,u=(l=i.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:v}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:ga});if(v)throw v;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,g=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(i){var s,l,c;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await mi(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(l=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=i?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:Ab})}catch(u){if(he(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;if(l)throw l;if(!s)throw new Qa;const{error:c}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:c}})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const s=`${this.url}/resend`;if("email"in i){const{email:l,type:c,options:u}=i,{error:h}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in i){const{phone:l,type:c,options:u}=i,{data:h,error:v}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:v}}throw new Wl("You must provide either an email or phone number and a type")}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(i,s){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await i(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const s=await yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?i=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const l=i.expires_at?i.expires_at*1e3-Date.now()<Dc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",i.expires_at),!l){if(this.userStorage){const h=await yn(this.userStorage,this.storageKey+"-user");h?.user?i.user=h.user:i.user=zc()}if(this.storage.isServer&&i.user){let h=this.suppressGetSessionWarning;i=new Proxy(i,{get:(m,g,p)=>(!h&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,p))})}return{data:{session:i},error:null}}const{session:c,error:u}=await this._callRefreshToken(i.refresh_token);return u?{data:{session:null},error:u}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Xa}):await this._useSession(async s=>{var l,c,u;const{data:h,error:v}=s;if(v)throw v;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qa}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Xa})})}catch(s){if(he(s))return eb(s)&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(i,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,s))}async _updateUser(i,s={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new Qa;const h=c.session;let v=null,m=null;this.flowType==="pkce"&&i.email!=null&&([v,m]=await mi(this.storage,this.storageKey));const{data:g,error:p}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:v,code_challenge_method:m}),jwt:h.access_token,xform:Xa});if(p)throw p;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(l){if(he(l))return{data:{user:null},error:l};throw l}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Qa;const s=Date.now()/1e3;let l=s,c=!0,u=null;const{payload:h}=Uc(i.access_token);if(h.exp&&(l=h.exp,c=l<=s),c){const{session:v,error:m}=await this._callRefreshToken(i.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!v)return{data:{user:null,session:null},error:null};u=v}else{const{data:v,error:m}=await this._getUser(i.access_token);if(m)throw m;u={access_token:i.access_token,refresh_token:i.refresh_token,user:v.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(he(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async s=>{var l;if(!i){const{data:h,error:v}=s;if(v)throw v;i=(l=h.session)!==null&&l!==void 0?l:void 0}if(!i?.refresh_token)throw new Qa;const{session:c,error:u}=await this._callRefreshToken(i.refresh_token);return u?{data:{user:null,session:null},error:u}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(i,s){try{if(!Ht())throw new er("No browser detected.");if(i.error||i.error_description||i.error_code)throw new er(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Mm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new er("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Mm("No code detected.");const{data:D,error:M}=await this._exchangeCodeForSession(i.code);if(M)throw M;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:v,expires_at:m,token_type:g}=i;if(!u||!v||!h||!g)throw new er("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(v);let w=p+b;m&&(w=parseInt(m));const x=w-p;x*1e3<=yi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${b}s`);const E=w-b;p-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,p):p-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,p);const{data:R,error:T}=await this._getUser(u);if(T)throw T;const C={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:b,expires_at:w,refresh_token:h,token_type:g,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:i.type},error:null}}catch(l){if(he(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const s=await yn(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&s)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:c,error:u}=s;if(u)return{error:u};const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:v}=await this.admin.signOut(h,i);if(v&&!(W_(v)&&(v.status===404||v.status===401||v.status===403)))return{error:v}}return i!=="others"&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const s=ub(),l={id:s,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(i){return await this._useSession(async s=>{var l,c;try{const{data:{session:u},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(i))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",i,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(i))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",u),console.error(u)}})}async resetPasswordForEmail(i,s={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await mi(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(he(u))return{data:null,error:u};throw u}}async getUserIdentities(){var i;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(i=s.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async linkIdentity(i){var s;try{const{data:l,error:c}=await this._useSession(async u=>{var h,v,m,g,p;const{data:b,error:w}=u;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(h=i.options)===null||h===void 0?void 0:h.redirectTo,scopes:(v=i.options)===null||v===void 0?void 0:v.scopes,queryParams:(m=i.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(c)throw c;return Ht()&&!(!((s=i.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:i.provider,url:l?.url},error:null}}catch(l){if(he(l))return{data:{provider:i.provider,url:null},error:l};throw l}}async unlinkIdentity(i){try{return await this._useSession(async s=>{var l,c;const{data:u,error:h}=s;if(h)throw h;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _refreshAccessToken(i){const s=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await mb(async c=>(c>0&&await hb(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:ga})),(c,u)=>{const h=200*Math.pow(2,c);return u&&Mc(u)&&Date.now()+h-l<yi})}catch(l){if(this._debug(s,"error",l),he(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",s,"url",l),Ht()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:i,url:l},error:null}}async _recoverAndRefresh(){var i,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await yn(this.storage,this.storageKey);if(c&&this.userStorage){let h=await yn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await _i(this.userStorage,this.storageKey+"-user",h)),c.user=(i=h?.user)!==null&&i!==void 0?i:zc()}else if(c&&!c.user&&!c.user){const h=await yn(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await Ya(this.storage,this.storageKey+"-user"),await _i(this.storage,this.storageKey,c)):c.user=zc()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Dc;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${Dc}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Mc(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:v}=await this._getUser(c.access_token);!v&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(i){var s,l;if(!i)throw new Qa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new or;const{data:u,error:h}=await this._refreshAccessToken(i);if(h)throw h;if(!u.session)throw new Qa;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const v={session:u.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(u){if(this._debug(c,"error",u),he(u)){const h={session:null,error:u};return Mc(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(i,s,l=!0){const c=`#_notifyAllSubscribers(${i})`;this._debug(c,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:i,session:s});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(i,s)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let v=0;v<u.length;v+=1)console.error(u[v]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const s=Object.assign({},i),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await _i(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const u=qm(c);await _i(this.storage,this.storageKey,u)}else{const c=qm(s);await _i(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Ya(this.storage,this.storageKey),await Ya(this.storage,this.storageKey+"-code-verifier"),await Ya(this.storage,this.storageKey+"-user"),this.userStorage&&await Ya(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),yi);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-i)/yi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${yi}ms, refresh threshold is ${Xc} ticks`),c<=Xc&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof Cv)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const s=`#_onVisibilityChanged(${i})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,s,l){const c=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await mi(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(v.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${i}?${c.join("&")}`}async _unenroll(i){try{return await this._useSession(async s=>{var l;const{data:c,error:u}=s;return u?{data:null,error:u}:await be(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _enroll(i){try{return await this._useSession(async s=>{var l,c;const{data:u,error:h}=s;if(h)return{data:null,error:h};const v=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:m,error:g}=await be(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(i.factorType==="totp"&&(!((c=m?.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:u}=s;if(u)return{data:null,error:u};const{data:h,error:v}=await be(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:v})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:u}=s;return u?{data:null,error:u}:await be(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(i){const{data:s,error:l}=await this._challenge({factorId:i.factorId});return l?{data:null,error:l}:await this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})}async _listFactors(){const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=i?.factors||[],c=l.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=l.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:l,totp:c,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var s,l;const{data:{session:c},error:u}=i;if(u)return{data:null,error:u};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Uc(c.access_token);let v=null;h.aal&&(v=h.aal);let m=v;((l=(s=c.user.factors)===null||s===void 0?void 0:s.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(m="aal2");const p=h.amr||[];return{data:{currentLevel:v,nextLevel:m,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(i,s={keys:[]}){let l=s.keys.find(v=>v.kid===i);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(v=>v.kid===i),l&&this.jwks_cached_at+J_>c)return l;const{data:u,error:h}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(v=>v.kid===i),!l)?null:l}async getClaims(i,s={}){try{let l=i;if(!l){const{data:x,error:E}=await this.getSession();if(E||!x.session)return{data:null,error:E};l=x.session.access_token}const{header:c,payload:u,signature:h,raw:{header:v,payload:m}}=Uc(l);s?.allowExpired||wb(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:x}=await this.getUser(l);if(x)throw x;return{data:{claims:u,header:c,signature:h},error:null}}const p=Sb(c.alg),b=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,h,rb(`${v}.${m}`)))throw new Jc("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(l){if(he(l))return{data:null,error:l};throw l}}}Os.nextInstanceID=0;const Bb=Os;class qb extends Bb{constructor(i){super(i)}}var Hb=function(r,i,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function v(p){try{g(l.next(p))}catch(b){h(b)}}function m(p){try{g(l.throw(p))}catch(b){h(b)}}function g(p){p.done?u(p.value):c(p.value).then(v,m)}g((l=l.apply(r,i||[])).next())})};class $b{constructor(i,s,l){var c,u,h;if(this.supabaseUrl=i,this.supabaseKey=s,!i)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const v=Y_(i),m=new URL(v);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:L_,realtime:q_,auth:Object.assign(Object.assign({},B_),{storageKey:g}),global:z_},b=K_(l??{},p);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(u=b.global.headers)!==null&&u!==void 0?u:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=P_(s,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new n_(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new D_(this.storageUrl.href,this.headers,this.fetch,l?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Q0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,s={},l={}){return this.rest.rpc(i,s,l)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,s;return Hb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:c,storageKey:u,flowType:h,lock:v,debug:m},g,p){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qb({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),g),storageKey:u,autoRefreshToken:i,persistSession:s,detectSessionInUrl:l,storage:c,flowType:h,lock:v,debug:m,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new b_(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(i,s,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:i==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gb=(r,i,s)=>new $b(r,i,s);function Pb(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const i=r.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}Pb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vb="https://shzouqqrxebzrqtkynqg.supabase.co",Yb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNoem91cXFyeGVienJxdGt5bnFnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5NDc3MjksImV4cCI6MjA3MTUyMzcyOX0.vWu0hP3sQqVQCXwG1SsGadCnzCVy3DCgdgbemxFogWQ",fe=Gb(Vb,Yb),Ov=S.createContext(void 0);function Kb({children:r}){const[i,s]=S.useState(null),[l,c]=S.useState(null),[u,h]=S.useState(!0),v=async E=>{try{const{data:R}=await fe.from("profiles").select("*").eq("user_id",E).maybeSingle();return R}catch{return console.error("Error fetching profile"),null}};S.useEffect(()=>{let E=!0;const R=async C=>{if(E){if(s(C?.user??null),C?.user)try{const D=await v(C.user.id);E&&c(D)}catch{console.error("Error fetching user profile"),E&&c(null)}else c(null);E&&h(!1)}};fe.auth.getSession().then(({data:{session:C}})=>{R(C)});const{data:{subscription:T}}=fe.auth.onAuthStateChange((C,D)=>{R(D)});return()=>{E=!1,T.unsubscribe()}},[]);const x={user:i,profile:l,loading:u,signUp:async(E,R)=>{const{error:T}=await fe.auth.signUp({email:E,password:R});return{error:T}},signIn:async(E,R)=>{const{error:T}=await fe.auth.signInWithPassword({email:E,password:R});return{error:T}},signInWithGoogle:async()=>{const{error:E}=await fe.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return{error:E}},signOut:async()=>{await fe.auth.signOut(),localStorage.removeItem("supabase.auth.token")},refreshProfile:async()=>{if(i?.id)try{const E=await v(i.id);c(E)}catch{console.error("Error refreshing user profile")}}};return f.jsx(Ov.Provider,{value:x,children:r})}function st(){const r=S.useContext(Ov);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function Qb(r){const i=[];return r.length<8&&i.push("La password deve contenere almeno 8 caratteri"),/[A-Z]/.test(r)||i.push("La password deve contenere almeno una lettera maiuscola"),/[a-z]/.test(r)||i.push("La password deve contenere almeno una lettera minuscola"),/\d/.test(r)||i.push("La password deve contenere almeno un numero"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(r)||i.push("La password deve contenere almeno un carattere speciale"),{isValid:i.length===0,errors:i}}function Xb(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function Rv({isOpen:r,onClose:i}){const{signIn:s,signUp:l,signInWithGoogle:c,loading:u}=st(),[h,v]=S.useState("login"),[m,g]=S.useState({email:"",password:"",confirmPassword:"",fullName:""}),[p,b]=S.useState({}),[w,x]=S.useState(!1),[E,R]=S.useState("");S.useEffect(()=>{r||(g({email:"",password:"",confirmPassword:"",fullName:""}),b({}),R(""),v("login"))},[r]),S.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),S.useEffect(()=>{const q=L=>{L.key==="Escape"&&i()};return r&&(document.addEventListener("keydown",q),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",q),document.body.style.overflow="unset"}},[r,i]);const T=()=>{const q={};if(m.email?Xb(m.email)||(q.email="Email non valida"):q.email="Email richiesta",!m.password)q.password=["Password richiesta"];else if(h==="register"){const L=Qb(m.password);L.isValid||(q.password=L.errors)}return h==="register"&&(m.fullName.trim()||(q.fullName="Nome completo richiesto"),m.confirmPassword?m.password!==m.confirmPassword&&(q.confirmPassword="Le password non coincidono"):q.confirmPassword="Conferma password richiesta"),b(q),Object.keys(q).length===0},C=async q=>{if(q.preventDefault(),!(!T()||w)){x(!0),b({}),R("");try{if(h==="login"){const{error:L}=await s(m.email,m.password);L?L.message.includes("Invalid login credentials")?b({general:"Email o password non corretti"}):b({general:"Errore durante il login. Riprova."}):i()}else{const{error:L}=await l(m.email,m.password);L?L.message.includes("User already registered")?b({email:"Questo indirizzo email  gi registrato"}):L.message.includes("Password should be at least 6 characters")?b({password:["La password deve essere di almeno 6 caratteri"]}):b({general:"Errore durante la registrazione. Riprova."}):(R("Account creato con successo! Controlla la tua email per confermare l'account."),g({email:"",password:"",confirmPassword:"",fullName:""}),setTimeout(()=>{v("login"),R("")},3e3))}}catch{b({general:"Errore imprevisto. Riprova."})}finally{x(!1)}}},D=async()=>{x(!0),b({});try{const{error:q}=await c();q?b({general:"Errore durante l'accesso con Google. Riprova."}):i()}catch{b({general:"Errore imprevisto. Riprova."})}finally{x(!1)}},M=(q,L)=>{g(P=>({...P,[q]:L})),p[q]&&b(P=>{const ae={...P};return delete ae[q],ae})},Y=q=>{q.target===q.currentTarget&&i()};return r?f.jsx("div",{className:"auth-overlay",onClick:Y,children:f.jsxs("div",{className:"auth-modal",children:[f.jsx("div",{className:"auth-header-sticky",children:f.jsx("button",{className:"auth-close-btn",onClick:i,children:""})}),f.jsx("div",{className:"auth-modal-header",children:f.jsxs("div",{className:"view-toggle",children:[f.jsx("button",{className:`toggle-btn ${h==="login"?"active":""}`,onClick:()=>v("login"),children:"Accedi"}),f.jsx("button",{className:`toggle-btn ${h==="register"?"active":""}`,onClick:()=>v("register"),children:"Registrati"})]})}),f.jsxs("div",{className:"auth-content",children:[p.general&&f.jsx("div",{className:"auth-error",children:p.general}),E&&f.jsx("div",{className:"auth-success",children:E}),f.jsx("div",{className:"auth-social",children:f.jsxs("button",{type:"button",className:"btn-google",onClick:D,disabled:w,children:[f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",className:"google-icon",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),w?"Accesso...":"Accedi con Google"]})}),f.jsx("div",{className:"auth-divider",children:f.jsx("span",{children:"oppure"})}),f.jsxs("form",{className:"auth-form",onSubmit:C,children:[h==="register"&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",htmlFor:"fullName",children:"Nome Completo *"}),f.jsx("input",{id:"fullName",type:"text",className:`form-input ${p.fullName?"error":""}`,value:m.fullName,onChange:q=>M("fullName",q.target.value),placeholder:"Inserisci il tuo nome completo"}),p.fullName&&f.jsx("div",{className:"form-error",children:p.fullName})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",htmlFor:"email",children:"Email *"}),f.jsx("input",{id:"email",type:"email",className:`form-input ${p.email?"error":""}`,value:m.email,onChange:q=>M("email",q.target.value),placeholder:"inserisci@email.com"}),p.email&&f.jsx("div",{className:"form-error",children:p.email})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",htmlFor:"password",children:"Password *"}),f.jsx("input",{id:"password",type:"password",className:`form-input ${p.password?"error":""}`,value:m.password,onChange:q=>M("password",q.target.value),placeholder:"Inserisci la tua password"}),p.password&&f.jsx("div",{className:"form-errors",children:p.password.map((q,L)=>f.jsx("div",{className:"form-error",children:q},L))}),h==="register"&&m.password&&f.jsxs("div",{className:"password-requirements",children:[f.jsx("strong",{children:"Requisiti password:"}),f.jsxs("ul",{children:[f.jsx("li",{className:m.password.length>=8?"valid":"invalid",children:"Almeno 8 caratteri"}),f.jsx("li",{className:/[A-Z]/.test(m.password)?"valid":"invalid",children:"Una lettera maiuscola"}),f.jsx("li",{className:/[a-z]/.test(m.password)?"valid":"invalid",children:"Una lettera minuscola"}),f.jsx("li",{className:/\d/.test(m.password)?"valid":"invalid",children:"Un numero"}),f.jsx("li",{className:/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(m.password)?"valid":"invalid",children:"Un carattere speciale"})]})]})]}),h==="register"&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",htmlFor:"confirmPassword",children:"Conferma Password *"}),f.jsx("input",{id:"confirmPassword",type:"password",className:`form-input ${p.confirmPassword?"error":""}`,value:m.confirmPassword,onChange:q=>M("confirmPassword",q.target.value),placeholder:"Conferma la tua password"}),p.confirmPassword&&f.jsx("div",{className:"form-error",children:p.confirmPassword})]}),f.jsx("button",{type:"submit",className:"action-btn",disabled:w||u,children:w?h==="login"?"Accesso...":"Registrazione...":h==="login"?"Accedi":"Registrati"})]})]})]})}):null}const Zb=Object.freeze(Object.defineProperty({__proto__:null,AuthOverlay:Rv},Symbol.toStringTag,{value:"Module"}));function Ib(){const r=ea(),i=()=>{r("/messages")},s=()=>{r("/saved")},l=()=>{};return f.jsxs("div",{className:"header-icons",children:[f.jsx("button",{className:"header-icon-btn",onClick:i,"aria-label":"Messaggi",title:"Messaggi",children:f.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),f.jsx("button",{className:"header-icon-btn",onClick:s,"aria-label":"Elementi salvati",title:"Elementi salvati",children:f.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),f.jsx("button",{className:"header-icon-btn",onClick:l,"aria-label":"Notifiche",title:"Notifiche",children:f.jsx("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})})]})}function Gt({src:r,alt:i,name:s,size:l="md",variant:c="default",onClick:u,className:h=""}){const v=b=>{if(!b)return"U";if(b.includes("@")){const x=b.split("@")[0];return v(x)}if(b.includes(".")&&!b.includes(" "))return b.split(".").map(E=>E.charAt(0).toUpperCase()).slice(0,2).join("");const w=b.trim().split(/\s+/);if(w.length===1){const x=w[0];return x.length>=2?(x.charAt(0)+x.charAt(1)).toUpperCase():x.charAt(0).toUpperCase()}return w.map(x=>x.charAt(0).toUpperCase()).slice(0,2).join("")},m=()=>{const b="avatar",w=`avatar-${l}`,x=`avatar-${c}`;return[b,w,x,u?"avatar-clickable":"",h].filter(Boolean).join(" ")},g=()=>{u&&u()},p=b=>{u&&(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),u())};return f.jsx("div",{className:m(),onClick:g,onKeyPress:p,tabIndex:u?0:void 0,role:u?"button":void 0,"aria-label":i||`Avatar di ${s||"utente"}`,children:r?f.jsx("img",{src:r,alt:i||`Avatar di ${s||"utente"}`,className:"avatar-image",loading:"lazy"}):f.jsx("div",{className:"avatar-placeholder",children:v(s)})})}function Jb(){const{user:r,profile:i,loading:s,signOut:l}=st(),[c,u]=S.useState(!1),h=S.useRef(null),v=ea();if(S.useEffect(()=>{const p=b=>{h.current&&!h.current.contains(b.target)&&u(!1)};return c&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[c]),s||!r)return null;const m=()=>{if(i?.full_name)return i.full_name;if(i?.username)return i.username;if(r?.email){const p=r.email.split("@")[0];return p.includes(".")?p.split(".").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" "):p}return"Utente"},g=p=>{switch(p){case"client":return"Cliente";case"artist":return"Artista";default:return p}};if(!i){const b=(()=>{if(!r?.email)return"U";const w=r.email.split("@")[0];return w.includes(".")?w.split(".").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" "):w})();return f.jsxs("div",{className:"profile-dropdown",children:[f.jsx(Gt,{name:b,size:"sm",variant:"default",onClick:()=>u(!c)}),c&&f.jsxs("div",{className:"dropdown-menu",children:[f.jsxs("div",{className:"dropdown-header",children:[f.jsx(Gt,{name:b,size:"md",variant:"default"}),f.jsxs("div",{className:"user-info",children:[f.jsx("div",{className:"user-name",children:b}),f.jsx("div",{className:"user-type",children:"Cliente"})]})]}),f.jsx("div",{className:"dropdown-divider"}),f.jsx("button",{className:"dropdown-item become-artist-btn",onClick:()=>{v("/become-artist"),u(!1)},children:"Diventi un'artista"}),f.jsx("div",{className:"dropdown-divider"}),f.jsx("button",{className:"dropdown-item",onClick:()=>{v("/profile"),u(!1)},children:"Il mio profilo"}),f.jsx("button",{className:"dropdown-item",onClick:()=>{},children:"Impostazioni"}),f.jsx("div",{className:"dropdown-divider"}),f.jsx("button",{className:"dropdown-item logout-item",onClick:()=>{l(),u(!1)},children:"Esci"})]})]})}return f.jsxs("div",{className:"profile-dropdown",ref:h,children:[f.jsx(Gt,{src:i.avatar_url,name:i.full_name,alt:`Avatar di ${m()}`,size:"sm",variant:"default",onClick:()=>u(!c)}),c&&f.jsxs("div",{className:"dropdown-menu",children:[f.jsxs("div",{className:"dropdown-header",children:[f.jsx(Gt,{src:i.avatar_url,name:i.full_name,alt:`Avatar di ${m()}`,size:"md",variant:"default"}),f.jsxs("div",{className:"user-info",children:[f.jsx("div",{className:"user-name",children:i.full_name&&i.full_name.trim()?i.full_name:m()}),f.jsx("div",{className:"user-type",children:g(i.profile_type)})]})]}),f.jsx("div",{className:"dropdown-divider"}),i.profile_type!=="artist"&&f.jsx("button",{className:"dropdown-item become-artist-btn",onClick:()=>{v("/become-artist"),u(!1)},children:"Diventi un'artista"}),f.jsx("div",{className:"dropdown-divider"}),f.jsx("button",{className:"dropdown-item",onClick:()=>{v("/profile"),u(!1)},children:"Il mio profilo"}),f.jsx("button",{className:"dropdown-item",onClick:()=>{},children:"Impostazioni"}),f.jsx("div",{className:"dropdown-divider"}),f.jsx("button",{className:"dropdown-item logout-item",onClick:()=>{l(),u(!1)},children:"Esci"})]})]})}function Fb({onLogoClick:r,children:i,onAuthRequired:s}){const{user:l,loading:c}=st(),u=()=>{s?.()};return f.jsx("header",{className:"header",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"header-content",children:[f.jsx("span",{className:"logo",onClick:r,children:"SKUNK"}),i,f.jsx("div",{className:"user-section",children:c?f.jsx("div",{className:"auth-loading",children:"..."}):l?f.jsxs(f.Fragment,{children:[f.jsx(Ib,{}),f.jsx(Jb,{})]}):f.jsx("button",{className:"btn btn-primary auth-btn",onClick:u,children:"Login/Registrati"})})]})})})}function Jt({onSearch:r,onLogoClick:i}){const s=ea(),[l,c]=S.useState(""),[u,h]=S.useState(""),[v,m]=S.useState(!1),g=()=>{s(`/?search=${encodeURIComponent(l)}&location=${encodeURIComponent(u)}`),r?.(l,u)},p=b=>{b.key==="Enter"&&g()};return f.jsxs(f.Fragment,{children:[f.jsx(Fb,{onLogoClick:i,onAuthRequired:()=>m(!0),children:f.jsxs("div",{className:"search-form",children:[f.jsxs("div",{className:"search-input-container",children:[f.jsx("span",{className:"search-icon",children:""}),f.jsx("input",{type:"text",className:"search-input",placeholder:"Cerca tatuaggi, artisti...",value:l,onChange:b=>c(b.target.value),onKeyPress:p})]}),f.jsxs("div",{className:"location-input-container",children:[f.jsx("span",{className:"location-icon",children:""}),f.jsx(P0,{value:u,onChange:h,onKeyPress:p})]}),f.jsxs("button",{className:"btn btn-accent search-btn",onClick:g,children:[f.jsx("span",{className:"btn-icon",children:""}),"Cerca"]})]})}),f.jsx(Rv,{isOpen:v,onClose:()=>m(!1)})]})}const Wb=["NEOREALISMO","OLD SCHOOL","NEW SCHOOL","REALISMO","TRIBALE","GIAPPONESE","BLACKWORK","MINIMALISTA","WATERCOLOR","GEOMETRICO"];function ew({onCategoryChange:r,onViewModeChange:i,viewMode:s="portfolio",searchSource:l}){const[c,u]=S.useState("");S.useEffect(()=>{l==="search-bar"&&u("")},[l]);const h=m=>{const g=c===m?"":m;u(g),r?.(g)},v=m=>{i?.(m)};return f.jsx("section",{className:"category-bar",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"category-content",children:[f.jsx("div",{className:"category-filters",children:f.jsx("div",{className:"category-tags",children:Wb.map(m=>f.jsx("button",{className:`category-tag ${c===m?"active":""}`,onClick:()=>h(m),children:m},m))})}),f.jsxs("div",{className:"view-toggle",children:[f.jsx("button",{className:`toggle-btn ${s==="portfolio"?"active":""}`,onClick:()=>v("portfolio"),children:"Opere"}),f.jsx("button",{className:`toggle-btn ${s==="artists"?"active":""}`,onClick:()=>v("artists"),children:"Artisti"})]})]})})})}function cu(){const{user:r,profile:i}=st(),[s,l]=S.useState(new Set),[c,u]=S.useState(!1),h=S.useCallback(()=>i?.user_id?i.user_id:r?.id?r.id:null,[r,i]),v=S.useCallback(async()=>{const w=h();if(!w){l(new Set);return}try{u(!0);const{data:x,error:E}=await fe.from("saved_tattoos").select("portfolio_item_id").eq("user_id",w);if(E){console.error("Error loading saved tattoos:",E.message);return}const R=new Set(x.map(T=>T.portfolio_item_id));l(R)}catch(x){console.error("Error loading saved tattoos:",x)}finally{u(!1)}},[h]),m=S.useCallback(async w=>{if(!r)return console.warn("User must be logged in to save tattoos"),!1;try{const{error:x}=await fe.from("saved_tattoos").insert([{user_id:r.id,portfolio_item_id:w}]);return x?(console.error("Error saving tattoo:",x.message),!1):(l(E=>new Set([...E,w])),!0)}catch(x){return console.error("Error saving tattoo:",x),!1}},[r]),g=S.useCallback(async w=>{const x=h();if(!x)return console.warn("User must be logged in to unsave tattoos"),!1;try{const{error:E}=await fe.from("saved_tattoos").delete().eq("user_id",x).eq("portfolio_item_id",w);return E?(console.error("Error unsaving tattoo:",E.message),!1):(l(R=>{const T=new Set(R);return T.delete(w),T}),!0)}catch(E){return console.error("Error unsaving tattoo:",E),!1}},[h]),p=S.useCallback(async w=>s.has(w)?await g(w):await m(w),[s,m,g]),b=S.useCallback(w=>s.has(w),[s]);return S.useEffect(()=>{v()},[v]),{savedTattoos:s,loading:c,saveTattoo:m,unsaveTattoo:g,toggleSave:p,isTattooSaved:b,refreshSavedTattoos:v}}function kv(r){const{user:i}=st(),[s,l]=S.useState(!1),[c,u]=S.useState(0),[h,v]=S.useState(!1),[m,g]=S.useState(!1);S.useEffect(()=>{r&&p()},[r,i]);const p=async()=>{try{const{error:x}=await fe.from("portfolio_likes").select("id",{count:"exact",head:!0}).limit(1);if(x&&(x.code==="PGRST116"||x.message?.includes("406"))){console.warn("Portfolio likes table not configured yet - likes feature disabled"),g(!1);return}g(!0),b()}catch(x){console.warn("Portfolio likes table not available:",x),g(!1)}},b=async()=>{try{const{count:x,error:E}=await fe.from("portfolio_likes").select("*",{count:"exact",head:!0}).eq("portfolio_item_id",r);if(E){if(E.code==="PGRST116"||E.message?.includes("406")||E.code==="42501"){console.warn("Portfolio likes: RLS policies not configured correctly, using fallback"),u(0),l(!1);return}throw E}if(u(x||0),i)try{const{data:R,error:T}=await fe.from("portfolio_likes").select("id").eq("portfolio_item_id",r).eq("user_id",i.id).maybeSingle();if(T){if(T.code==="PGRST116"||T.message?.includes("406")||T.code==="42501"){console.warn("Portfolio likes: Cannot check user like status due to RLS policies"),l(!1);return}throw T}l(!!R)}catch(R){console.warn("Cannot verify user like status, assuming not liked:",R),l(!1)}}catch(x){console.error("Error fetching like data:",x),u(0),l(!1)}};return{isLiked:s,likeCount:c,toggleLike:async()=>{if(!i)throw new Error("Authentication required");if(!m)throw new Error("Portfolio likes table not configured. Please run the SQL setup script.");v(!0);try{if(s){const{error:x}=await fe.from("portfolio_likes").delete().eq("portfolio_item_id",r).eq("user_id",i.id);if(x)throw x.code==="PGRST116"||x.message?.includes("406")?new Error("Portfolio likes table not configured. Please run the SQL setup script."):x;l(!1),u(E=>E-1)}else{const{error:x}=await fe.from("portfolio_likes").insert({portfolio_item_id:r,user_id:i.id});if(x)throw x.code==="PGRST116"||x.message?.includes("406")?new Error("Portfolio likes table not configured. Please run the SQL setup script."):x;l(!0),u(E=>E+1)}}catch(x){throw console.error("Error toggling like:",x),x}finally{v(!1)}},loading:h,tableExists:m}}function _a({icon:r,text:i,variant:s="portfolio",active:l=!1,disabled:c=!1,onClick:u,className:h="",requiresAuth:v=!1,onAuthRequired:m}){const{user:g}=st(),p="action-btn",b=l?"active":"",w=c?"disabled":"",x=E=>{if(!c){if(v&&!g&&m){m();return}u&&u(E)}};return f.jsxs("button",{className:`${p} ${b} ${w} ${h}`.trim(),onClick:x,disabled:c,children:[f.jsx("span",{className:"action-icon",children:r}),f.jsx("span",{className:"action-text",children:i})]})}const Dv=()=>f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),Mv=()=>f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),tw=()=>f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})}),Vm=()=>f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M12 5v14m7-7l-7-7-7 7"})}),Uv=r=>{const i=r.currentTarget;i.style.display="none"},zv=r=>r||"";function aw({item:r,isOpen:i,onClose:s,onArtistClick:l,onAuthRequired:c,onContactArtist:u}){const{profile:h}=st(),{toggleSave:v,isTattooSaved:m}=cu(),{isLiked:g,likeCount:p,toggleLike:b,loading:w,tableExists:x}=kv(r.id);if(S.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),S.useEffect(()=>{const M=Y=>{Y.key==="Escape"&&s()};return i&&document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[i,s]),!i)return null;const E=r.is_flash?"FLASH":"REALIZZATO",R=r.full_name||r.artist_name||"Unknown Artist",T=()=>{const M=r.user_id||r.id;l&&M&&(s(),l(M))},C=async()=>{try{await b()}catch(M){console.error("Error toggling like:",M)}},D=M=>{M.target===M.currentTarget&&s()};return f.jsx("div",{className:"portfolio-modal-overlay",onClick:D,children:f.jsxs("div",{className:"portfolio-modal-content",children:[f.jsx("div",{className:"modal-header",children:f.jsx("button",{className:"modal-close-btn",onClick:s,children:""})}),f.jsxs("div",{className:"modal-image-section",children:[r.image_url&&f.jsx("img",{src:zv(r.image_url),alt:r.title||"Portfolio Item",className:"modal-portfolio-image",onError:Uv}),f.jsx("span",{className:`modal-badge ${E.toLowerCase()}`,children:E}),r.price&&f.jsxs("span",{className:"modal-price",children:["",r.price]})]}),f.jsxs("div",{className:"modal-details-section",children:[f.jsxs("div",{className:"modal-artist-info",children:[f.jsx("div",{onClick:T,style:{cursor:"pointer"},children:f.jsx(Gt,{src:null,name:R,alt:`Avatar di ${R}`,size:"lg",variant:"default"})}),f.jsx("span",{className:"modal-artist-name",onClick:T,style:{cursor:"pointer"},children:R})]}),f.jsx("h2",{className:"modal-portfolio-title",children:r.title||"Senza titolo"}),r.tags&&r.tags.length>0&&f.jsx("div",{className:"modal-portfolio-tags",children:r.tags.map((M,Y)=>f.jsx("span",{className:"modal-portfolio-tag",children:M},Y))}),r.description&&f.jsxs("div",{className:"modal-description-section",children:[f.jsx("h3",{className:"modal-section-title",children:"Descrizione"}),f.jsx("p",{className:"modal-portfolio-description",children:r.description})]}),f.jsxs("div",{className:"modal-meta-info",children:[f.jsxs("div",{className:"modal-meta-item",children:[f.jsx("span",{className:"modal-meta-icon",children:""}),f.jsx("span",{className:"modal-meta-label",children:"Creato il:"}),f.jsx("span",{className:"modal-meta-value",children:new Date(r.created_at).toLocaleDateString("it-IT")})]}),r.location&&f.jsxs("div",{className:"modal-meta-item",children:[f.jsx("span",{className:"modal-meta-icon",children:""}),f.jsx("span",{className:"modal-meta-label",children:"Posizione:"}),f.jsx("span",{className:"modal-meta-value",children:r.location})]})]}),f.jsxs("div",{className:"modal-portfolio-actions",children:[x&&f.jsx(_a,{icon:f.jsx(Mv,{}),text:p>0?`Mi piace (${p})`:"Mi piace",variant:"modal",active:g,disabled:w,requiresAuth:!0,onAuthRequired:c,onClick:C}),f.jsx(_a,{icon:f.jsx(Dv,{}),text:m(r.id)?"Salvato":"Salva",variant:"modal",active:m(r.id),requiresAuth:!0,onAuthRequired:c,onClick:()=>v(r.id)}),h?.user_id!==r.user_id&&f.jsx(_a,{icon:f.jsx(tw,{}),text:"Contatta artista",variant:"modal",requiresAuth:!0,onAuthRequired:c,onClick:()=>u&&u(r.user_id)})]})]})]})})}function wn({item:r,onArtistClick:i,onAuthRequired:s,onContactArtist:l,showDeleteButton:c,onDelete:u}){const[h,v]=S.useState(!1),{toggleSave:m,isTattooSaved:g}=cu(),{isLiked:p,likeCount:b,toggleLike:w,loading:x,tableExists:E}=kv(r.id),R=r.is_flash?"FLASH":"REALIZZATO",T=r.price,C=r.full_name||r.artist_name||"Unknown Artist",D=P=>{P.stopPropagation();const ae=r.user_id||r.id;i&&ae&&i(ae)},M=P=>{P.target.closest(".portfolio-actions")||v(!0)},Y=()=>{v(!1)},q=async P=>{P.stopPropagation();try{await w()}catch(ae){console.error("Error toggling like:",ae)}},L=P=>{P.stopPropagation(),u&&u(r.id)};return f.jsxs(f.Fragment,{children:[f.jsxs("article",{className:"card portfolio-card",onClick:M,children:[c&&f.jsx("button",{className:"modal-close-btn delete-portfolio-btn",onClick:L,title:"Elimina elemento",children:f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("polyline",{points:"3,6 5,6 21,6"}),f.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),f.jsxs("div",{className:"image-section",children:[r.image_url?f.jsx("img",{src:zv(r.image_url),alt:r.title||"Portfolio Item",className:"portfolio-image",onError:Uv}):f.jsxs("div",{className:"image-placeholder",children:[f.jsxs("svg",{className:"placeholder-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),f.jsx("polyline",{points:"21,15 16,10 5,21"})]}),f.jsx("span",{className:"placeholder-text",children:"Immagine non disponibile"})]}),f.jsx("span",{className:`badge ${R.toLowerCase()}`,children:R}),T&&f.jsxs("span",{className:"price",children:["",T]})]}),f.jsxs("div",{className:"content-section",children:[f.jsxs("div",{className:"artist-info",children:[f.jsx("div",{onClick:D,style:{cursor:"pointer"},children:f.jsx(Gt,{src:null,name:C,alt:`Avatar di ${C}`,size:"sm",variant:"default"})}),f.jsx("span",{className:"artist-name",onClick:D,style:{cursor:"pointer"},children:C})]}),f.jsx("h3",{className:"portfolio-title",children:r.title||"Senza titolo"}),r.tags&&r.tags.length>0&&f.jsx("div",{className:"portfolio-tags",children:r.tags.map((P,ae)=>f.jsx("span",{className:"portfolio-tag",children:P},ae))}),r.description&&f.jsx("p",{className:"portfolio-description",children:r.description}),f.jsxs("div",{className:"meta-info",children:[f.jsxs("span",{className:"meta-date",children:[f.jsx("span",{className:"meta-icon",children:""}),new Date(r.created_at).toLocaleDateString("it-IT")]}),r.location&&f.jsxs("span",{className:"meta-location",children:[f.jsx("span",{className:"meta-icon",children:""}),r.location]})]}),f.jsxs("div",{className:"portfolio-actions",children:[E&&f.jsx(_a,{icon:f.jsx(Mv,{}),text:b>0?`Mi piace (${b})`:"Mi piace",variant:"portfolio",active:p,disabled:x,requiresAuth:!0,onAuthRequired:s,onClick:q}),f.jsx(_a,{icon:f.jsx(Dv,{}),text:g(r.id)?"Salvato":"Salva",variant:"portfolio",active:g(r.id),requiresAuth:!0,onAuthRequired:s,onClick:P=>{P.stopPropagation(),m(r.id)}})]})]})]}),f.jsx(aw,{item:r,isOpen:h,onClose:Y,onArtistClick:i,onAuthRequired:s,onContactArtist:l})]})}S.memo(wn);function zt({fullScreen:r=!1,size:i="medium"}){const s={small:{width:"12px",height:"12px",gap:"3px"},medium:{width:"16px",height:"16px",gap:"4px"},large:{width:"20px",height:"20px",gap:"5px"}},l=r?"fixed top-0 left-0 w-full h-full bg-white flex justify-center items-center z-50":"flex justify-center items-center p-4",{width:c,height:u,gap:h}=s[i];return f.jsx("div",{className:l,children:f.jsxs("div",{className:"brutalist-spinner",style:{gap:h},children:[f.jsx("div",{className:"brutalist-block",style:{width:c,height:u}}),f.jsx("div",{className:"brutalist-block",style:{width:c,height:u}}),f.jsx("div",{className:"brutalist-block",style:{width:c,height:u}}),f.jsx("div",{className:"brutalist-block",style:{width:c,height:u}})]})})}function nw({items:r,loading:i,error:s,searchTerm:l,locationFilter:c,flashFilter:u,totalCount:h,filteredCount:v,onArtistClick:m,onFlashFilterChange:g,onAuthRequired:p,onContactArtist:b}){const[w,x]=S.useState(!1),E=S.useRef(null);S.useEffect(()=>{const D=M=>{E.current&&!E.current.contains(M.target)&&x(!1)};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]);const R=D=>{g?.(D),x(!1)},T=D=>{switch(D){case"all":return"Tutti";case"flash":return"Flash";case"realizzati":return"Realizzati"}};if(i)return f.jsx("section",{className:"grid-container",children:f.jsx("div",{className:"container",children:f.jsx("div",{className:"loading-state",children:f.jsx(zt,{size:"large"})})})});if(s)return f.jsx("section",{className:"grid-container",children:f.jsx("div",{className:"container",children:f.jsx("div",{className:"error-state",children:f.jsxs("div",{className:"error-card",children:[f.jsx("h2",{className:"error-title",children:"Errore di caricamento"}),f.jsx("p",{className:"error-message",children:s}),f.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>window.location.reload(),children:"Riprova"})]})})})});const C=l.trim()||c.trim();return f.jsx("section",{className:"grid-container",children:f.jsxs("div",{className:"container",children:[f.jsx("div",{className:"grid-header",children:f.jsxs("div",{className:"header-card",children:[f.jsxs("div",{className:"header-top",children:[f.jsx("h2",{className:"grid-title",children:"Portfolio opere"}),f.jsxs("div",{className:"filter-dropdown",ref:E,children:[f.jsxs("button",{className:"action-btn",onClick:()=>x(!w),"aria-expanded":w,children:[f.jsx("span",{className:"action-icon",children:f.jsx("svg",{className:"filter-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})})}),f.jsx("span",{className:"action-text",children:T(u)}),f.jsx("span",{className:"action-icon",children:f.jsx("svg",{className:`chevron-icon ${w?"open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("polyline",{points:"6,9 12,15 18,9"})})})]}),w&&f.jsxs("div",{className:"filter-dropdown-menu",children:[f.jsx("button",{className:`filter-option ${u==="all"?"active":""}`,onClick:()=>R("all"),children:"Tutti"}),f.jsx("button",{className:`filter-option ${u==="flash"?"active":""}`,onClick:()=>R("flash"),children:"Flash"}),f.jsx("button",{className:`filter-option ${u==="realizzati"?"active":""}`,onClick:()=>R("realizzati"),children:"Realizzati"})]})]})]}),f.jsxs("div",{className:"grid-stats",children:[f.jsx("span",{className:"stat-count",children:C?v:h}),f.jsx("span",{className:"stat-label",children:C?"risultati":"opere totali"})]}),C&&f.jsxs("div",{className:"search-info",children:[l&&f.jsxs("span",{className:"search-term",children:['"',l,'"']}),c&&f.jsx("span",{className:"location-term",children:c})]})]})}),r.length===0?f.jsx("div",{className:"empty-state",children:f.jsxs("div",{className:"empty-card",children:[f.jsx("h3",{className:"empty-title",children:"Nessun risultato"}),f.jsx("p",{className:"empty-message",children:C?"Nessuna opera trovata per i criteri selezionati":"Il portfolio  ancora vuoto"})]})}):f.jsx("div",{className:"portfolio-grid",children:r.map(D=>f.jsx(wn,{item:D,onArtistClick:m,onAuthRequired:p,onContactArtist:b},D.id))})]})})}function cr(){const{user:r}=st(),[i,s]=S.useState(new Map),[l,c]=S.useState(!1),u=S.useCallback(async p=>{if(p.length!==0){c(!0);try{const{data:b,error:w}=await fe.from("followers").select("following_id").in("following_id",p);if(w)throw w;const x=p.reduce((T,C)=>(T[C]=b?.filter(D=>D.following_id===C).length||0,T),{});let E={};if(r){const{data:T,error:C}=await fe.from("followers").select("following_id").eq("follower_id",r.id).in("following_id",p);if(C)throw C;E=p.reduce((D,M)=>(D[M]=T?.some(Y=>Y.following_id===M)||!1,D),{})}const R=new Map;p.forEach(T=>{R.set(T,{user_id:T,follower_count:x[T]||0,is_following:E[T]||!1})}),s(R)}catch(b){console.error("Error fetching follower stats:",b)}finally{c(!1)}}},[r]),h=S.useCallback(async p=>{if(!r)return{error:"Authentication required"};try{const{error:b}=await fe.from("followers").insert({follower_id:r.id,following_id:p});if(b)throw b;return s(w=>{const x=new Map(w),E=x.get(p);return E&&x.set(p,{...E,follower_count:E.follower_count+1,is_following:!0}),x}),{success:!0}}catch(b){return console.error("Error following artist:",b),{error:"Failed to follow artist"}}},[r]),v=S.useCallback(async p=>{if(!r)return{error:"Authentication required"};try{const{error:b}=await fe.from("followers").delete().eq("follower_id",r.id).eq("following_id",p);if(b)throw b;return s(w=>{const x=new Map(w),E=x.get(p);return E&&x.set(p,{...E,follower_count:Math.max(0,E.follower_count-1),is_following:!1}),x}),{success:!0}}catch(b){return console.error("Error unfollowing artist:",b),{error:"Failed to unfollow artist"}}},[r]),m=S.useCallback(async p=>i.get(p)?.is_following?await v(p):await h(p),[i,h,v]),g=S.useCallback(p=>i.get(p)||{user_id:p,follower_count:0,is_following:!1},[i]);return{followerStats:i,loading:l,fetchFollowerStats:u,followArtist:h,unfollowArtist:v,toggleFollow:m,getFollowerStats:g}}function Lv({profile:r,onArtistClick:i,onAuthRequired:s,onContactArtist:l,onFollowUpdate:c}){const{user:u}=st(),{getFollowerStats:h,toggleFollow:v}=cr(),m=r.full_name||r.username||"Unknown Artist",p=h(r.user_id).is_following,b=E=>{E.target.closest(".artist-actions")||i&&i(r.user_id)},w=async E=>{if(E.stopPropagation(),!u&&s){s();return}u&&(await v(r.user_id)).success&&c&&c(r.user_id,!p)},x=E=>{if(E.stopPropagation(),!u&&s){s();return}l&&l(r.user_id)};return f.jsxs("article",{className:"card artist-card",onClick:b,style:{cursor:"pointer"},children:[f.jsxs("div",{className:"artist-header",children:[f.jsx(Gt,{src:r.avatar_url,name:m,alt:`Avatar di ${m}`,size:"md",variant:"card"}),f.jsxs("div",{className:"artist-info",children:[f.jsx("h3",{className:"artist-name",children:m}),r.location&&f.jsxs("span",{className:"artist-location",children:[" ",r.location]})]})]}),f.jsx("p",{className:"artist-bio",children:r.bio||""}),f.jsx("div",{className:"artist-meta",children:f.jsxs("span",{className:"join-date",children:[f.jsx("span",{className:"join-icon",children:""}),"Iscritto dal ",new Date(r.created_at).toLocaleDateString("it-IT")]})}),f.jsxs("div",{className:"artist-actions",children:[f.jsxs("button",{className:`action-btn ${p?"active":""}`,onClick:w,children:[f.jsx("span",{className:"action-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}),f.jsx("span",{className:"action-text",children:p?"Seguito":"Segui"})]}),f.jsxs("button",{className:"action-btn",onClick:x,children:[f.jsx("span",{className:"action-icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),f.jsx("span",{className:"action-text",children:"Contatta"})]})]})]})}S.memo(Lv);function iw({profiles:r,loading:i,error:s,searchTerm:l,locationFilter:c,totalCount:u,filteredCount:h,onArtistClick:v,onAuthRequired:m,onContactArtist:g}){const{fetchFollowerStats:p}=cr();if(S.useEffect(()=>{if(r.length>0){const w=r.map(x=>x.user_id);p(w)}},[r,p]),i)return f.jsx("section",{className:"grid-container",children:f.jsx("div",{className:"container",children:f.jsx("div",{className:"loading-state",children:f.jsx(zt,{size:"large"})})})});if(s)return f.jsx("section",{className:"grid-container",children:f.jsx("div",{className:"container",children:f.jsx("div",{className:"error-state",children:f.jsxs("div",{className:"error-card",children:[f.jsx("h2",{className:"error-title",children:"Errore di caricamento"}),f.jsx("p",{className:"error-message",children:s}),f.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>window.location.reload(),children:"Riprova"})]})})})});const b=l.trim()||c.trim();return f.jsx("section",{className:"grid-container",children:f.jsxs("div",{className:"container",children:[f.jsx("div",{className:"grid-header",children:f.jsxs("div",{className:"header-card",children:[f.jsx("h2",{className:"grid-title",children:"Artisti"}),f.jsxs("div",{className:"grid-stats",children:[f.jsx("span",{className:"stat-count",children:b?h:u}),f.jsx("span",{className:"stat-label",children:b?"risultati":"artisti totali"})]}),b&&f.jsxs("div",{className:"search-info",children:[l&&f.jsxs("span",{className:"search-term",children:['"',l,'"']}),c&&f.jsx("span",{className:"location-term",children:c})]})]})}),r.length===0?f.jsx("div",{className:"empty-state",children:f.jsxs("div",{className:"empty-card",children:[f.jsx("h3",{className:"empty-title",children:"Nessun artista"}),f.jsx("p",{className:"empty-message",children:b?"Nessun artista trovato per i criteri selezionati":"Non ci sono ancora artisti registrati"})]})}):f.jsx("div",{className:"artist-grid",children:r.map(w=>f.jsx(Lv,{profile:w,onArtistClick:v,onAuthRequired:m,onContactArtist:g},w.id))})]})})}const Ym={PORTFOLIO_ITEMS_LIMIT:50,ARTIST_PROFILES_LIMIT:100,MAX_BIO_LENGTH:500,MAX_TITLE_LENGTH:100,MAX_LOCATION_LENGTH:100,MAX_DESCRIPTION_LENGTH:500,BREAKPOINTS:{MOBILE_MAX:"767px",TABLET_MIN:"768px",DESKTOP_MIN:"1024px",LARGE_MIN:"1536px"},DEFAULT_FOLLOWER_COUNT:1247,ROUTES:{HOME:"/",PROFILE:"/profile",SAVED:"/saved",MESSAGES:"/messages",ARTIST:"/artist",BECOME_ARTIST:"/become-artist"}};function sw(){const[r,i]=S.useState([]),[s,l]=S.useState([]),[c,u]=S.useState("portfolio"),[h,v]=S.useState(!0),[m,g]=S.useState(null),[p,b]=S.useState(""),[w,x]=S.useState(""),[E,R]=S.useState("all"),T=S.useCallback(async()=>{try{v(!0),g(null);const{data:ee,error:ue}=await fe.from("portfolio_items").select(`
          *,
          profiles!inner(
            user_id,
            full_name,
            username,
            profile_type,
            bio,
            location
          )
        `).eq("profiles.profile_type","artist").order("created_at",{ascending:!1}).limit(Ym.PORTFOLIO_ITEMS_LIMIT);if(ue)throw ue;const J=ee?.map(oe=>{const ie=oe.profiles;return{...oe,profiles:void 0,description:oe.description??"",tags:Array.isArray(oe.tags)?oe.tags:[],image_url:oe.image_url??"",artist_name:ie?.full_name??ie?.username??"",full_name:ie?.full_name??null,location:ie?.location??oe.location??null}})||[];i(J)}catch(ee){g(`Database error: ${ee.message}`),i([])}finally{v(!1)}},[]),C=S.useCallback(async()=>{try{const{data:ee,error:ue}=await fe.from("profiles").select(`
          id,
          user_id,
          email,
          full_name,
          username,
          profile_type,
          bio,
          avatar_url,
          phone,
          location,
          created_at,
          updated_at
        `).eq("profile_type","artist").order("created_at",{ascending:!1}).limit(Ym.ARTIST_PROFILES_LIMIT);if(ue)throw ue;l(ee||[])}catch{console.warn("Failed to fetch artist profiles"),l([])}},[]),D=S.useMemo(()=>{let ee=r;if(E==="flash"?ee=ee.filter(oe=>oe.is_flash===!0):E==="realizzati"&&(ee=ee.filter(oe=>oe.is_flash===!1)),!p.trim()&&!w.trim())return ee;const ue=p.toLowerCase().trim(),J=w.toLowerCase().trim();return ee.filter(oe=>{const ie=!J||oe.location&&oe.location.toLowerCase().includes(J);if(!ue)return ie;const Ne=ue.split(/\s+/).filter(te=>te.length>0),H=[oe.title?.toLowerCase()||"",oe.description?.toLowerCase()||"",...Array.isArray(oe.tags)?oe.tags.map(te=>te?.toLowerCase()||""):[],oe.artist_name?.toLowerCase()||""].join(" ");return Ne.every(te=>H.includes(te))&&ie})},[r,p,w,E]),M=S.useMemo(()=>{if(!p.trim()&&!w.trim())return s;const ee=p.toLowerCase().trim(),ue=w.toLowerCase().trim();return s.filter(J=>{const oe=!ee||J.full_name?.toLowerCase().includes(ee)||J.username?.toLowerCase().includes(ee)||J.bio?.toLowerCase().includes(ee)||J.email?.toLowerCase().includes(ee),ie=!ue||J.location?.toLowerCase().includes(ue);return oe&&ie})},[s,p,w]),Y=(ee,ue)=>{b(ee),x(ue)},q=()=>{b(""),x("")},L=ee=>{R(ee)},P=S.useCallback(ee=>{u(ee)},[]),[ae,Z]=S.useState(!1);return S.useEffect(()=>{ae||Promise.all([T(),C()]).then(()=>Z(!0)).catch(()=>Z(!0))},[T,C,ae]),S.useEffect(()=>{const ee=J=>{J.key==="portfolioItemsUpdated"&&Z(!1)};window.addEventListener("storage",ee);const ue=()=>{const J=localStorage.getItem("portfolioItemsUpdated");if(J){const oe=parseInt(J);Date.now()-oe<5e3&&(Z(!1),localStorage.removeItem("portfolioItemsUpdated"))}};return window.addEventListener("focus",ue),()=>{window.removeEventListener("storage",ee),window.removeEventListener("focus",ue)}},[]),{portfolioItems:D,allItems:r,artistProfiles:M,allProfiles:s,viewMode:c,loading:h,error:m,searchTerm:p,locationFilter:w,flashFilter:E,search:Y,resetSearch:q,setFlashFilter:L,toggleViewMode:P,refetch:S.useCallback(()=>{Z(!1),g(null),v(!0)},[]),totalCount:r.length,filteredCount:D.length,profilesCount:s.length,filteredProfilesCount:M.length}}const lw=S.lazy(()=>xi(()=>Promise.resolve().then(()=>Zb),void 0).then(r=>({default:r.AuthOverlay})));function rw(){const r=ea(),[i]=U0(),{profile:s}=st(),[l,c]=S.useState(null),[u,h]=S.useState(!1),{portfolioItems:v,artistProfiles:m,viewMode:g,loading:p,error:b,searchTerm:w,locationFilter:x,flashFilter:E,search:R,setFlashFilter:T,toggleViewMode:C,totalCount:D,filteredCount:M,profilesCount:Y,filteredProfilesCount:q}=sw();S.useEffect(()=>{const ie=i.get("search")||"",Ne=i.get("location")||"";(ie||Ne)&&(R(ie,Ne),c("search-bar"))},[i,R]);const L=S.useCallback((ie,Ne)=>{c("search-bar"),R(ie,Ne)},[R]),P=S.useCallback(ie=>{c("category"),R(ie,x)},[R,x]),ae=S.useCallback(ie=>{T(ie)},[T]),Z=S.useCallback(ie=>{C(ie)},[C]),ee=S.useCallback(ie=>{s&&s.user_id===ie?r("/profile"):r(`/artist/${ie}`)},[r,s]),ue=S.useCallback(()=>{window.location.reload()},[]),J=S.useCallback(()=>{h(!0)},[]),oe=S.useCallback(ie=>{r(`/messages/${ie}`)},[r]);return f.jsxs("div",{className:"app",children:[f.jsx(Jt,{onSearch:L,onLogoClick:ue}),f.jsx(ew,{onCategoryChange:P,onViewModeChange:Z,viewMode:g,searchSource:l}),f.jsx("main",{className:"main-content",children:g==="portfolio"?f.jsx(nw,{items:v,loading:p,error:b,searchTerm:w,locationFilter:x,flashFilter:E,totalCount:D,filteredCount:M,onArtistClick:ee,onFlashFilterChange:ae,onAuthRequired:J,onContactArtist:oe}):f.jsx(iw,{profiles:m,loading:p,error:b,searchTerm:w,locationFilter:x,totalCount:Y,filteredCount:q,onArtistClick:ee,onAuthRequired:J,onContactArtist:oe})}),u&&f.jsx(S.Suspense,{fallback:f.jsx("div",{className:"loading-state",children:f.jsx(zt,{})}),children:f.jsx(lw,{isOpen:u,onClose:()=>h(!1)})})]})}function ow(r){const[i,s]=S.useState(null),[l,c]=S.useState([]),[u,h]=S.useState([]),[v,m]=S.useState(!0),[g,p]=S.useState(null),b=S.useCallback(async()=>{if(!r){m(!1);return}try{m(!0),p(null);const[w,x,E]=await Promise.allSettled([fe.from("profiles").select(`
            id,
            user_id,
            email,
            full_name,
            username,
            profile_type,
            bio,
            avatar_url,
            phone,
            location,
            created_at,
            updated_at
          `).eq("user_id",r).eq("profile_type","artist").single(),fe.from("portfolio_items").select(`
            id,
            user_id,
            title,
            description,
            image_url,
            tags,
            is_flash,
            price,
            location,
            created_at,
            updated_at
          `).eq("user_id",r).order("created_at",{ascending:!1}),fe.from("artist_services").select("*").eq("user_id",r).order("created_at",{ascending:!0})]);if(w.status==="fulfilled"&&!w.value.error)s(w.value.data);else{const R=w.status==="rejected"?w.reason:w.value.error;throw new Error(`Profile not found: ${R.message}`)}x.status==="fulfilled"&&!x.value.error?c(x.value.data||[]):(console.warn("Failed to fetch portfolio items"),c([])),E.status==="fulfilled"&&!E.value.error?h(E.value.data||[]):(console.warn("Failed to fetch artist services"),h([]))}catch(w){p(w.message),s(null),c([]),h([])}finally{m(!1)}},[r]);return S.useEffect(()=>{b()},[b]),{profile:i,portfolioItems:l,services:u,loading:v,error:g,refetch:b}}function cw(){const{artistId:r}=nv(),i=ea(),{profile:s}=st(),{profile:l,portfolioItems:c,services:u,loading:h,error:v}=ow(r||""),{fetchFollowerStats:m,getFollowerStats:g,toggleFollow:p}=cr(),[b,w]=S.useState("portfolio"),x=l?g(l.user_id):null,E=x?.follower_count||0,R=x?.is_following||!1;if(S.useEffect(()=>{l?.user_id&&m([l.user_id])},[l?.user_id,m]),S.useEffect(()=>{if(s&&r&&s.user_id===r){i("/profile",{replace:!0});return}},[s,r,i]),!r)return i("/"),null;const T=c.filter(L=>!L.is_flash),C=c.filter(L=>L.is_flash),D=(L,P)=>{i(`/?search=${encodeURIComponent(L)}&location=${encodeURIComponent(P)}`)},M=()=>{i("/")},Y=()=>{r&&i(`/messages/${r}`)},q=async()=>{l?.user_id&&await p(l.user_id)};return f.jsxs("div",{className:"artist-profile",children:[f.jsx(Jt,{onSearch:D,onLogoClick:M}),f.jsx("main",{className:"artist-profile-content",children:f.jsx("div",{className:"container",children:h?f.jsx("div",{className:"loading-state",children:f.jsx(zt,{size:"large"})}):v?f.jsxs("div",{className:"error-state",children:[f.jsx("h2",{children:"Errore nel caricamento del profilo"}),f.jsx("p",{children:v})]}):l?f.jsxs("div",{className:"artist-profile-main",children:[f.jsx("section",{className:"artist-profile-header",children:f.jsxs("div",{className:"profile-info",children:[f.jsx(Gt,{src:l.avatar_url,name:l.full_name||l.username,alt:`Avatar di ${l.full_name||l.username||"Artista"}`,size:"lg",variant:"bordered"}),f.jsxs("div",{className:"profile-details",children:[f.jsx("h1",{className:"profile-name",children:l.full_name||l.username||"Artista Sconosciuto"}),l.location&&f.jsxs("p",{className:"profile-location",children:[" ",l.location]}),l.bio&&f.jsx("p",{className:"profile-bio",children:l.bio}),f.jsx("div",{className:"profile-stats",children:f.jsxs("span",{className:"follower-count",children:[f.jsx("strong",{children:E.toLocaleString()})," follower"]})}),f.jsxs("div",{className:"artist-actions",children:[f.jsxs("button",{className:`action-btn ${R?"active":""}`,onClick:q,children:[f.jsx("span",{className:"action-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]})}),f.jsx("span",{className:"action-text",children:R?"Seguito":"Segui"})]}),f.jsxs("button",{className:"action-btn",onClick:Y,children:[f.jsx("span",{className:"action-icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})})}),f.jsx("span",{className:"action-text",children:"Contatta"})]})]})]})]})}),f.jsxs("section",{className:"artist-profile-tabs",children:[f.jsxs("div",{className:"tabs-navigation",children:[f.jsx("button",{className:`tab-button ${b==="portfolio"?"active":""}`,onClick:()=>w("portfolio"),children:"PORTFOLIO"}),f.jsx("button",{className:`tab-button ${b==="flash"?"active":""}`,onClick:()=>w("flash"),children:"FLASH"}),f.jsx("button",{className:`tab-button ${b==="servizi"?"active":""}`,onClick:()=>w("servizi"),children:"SERVIZI"}),f.jsx("button",{className:`tab-button ${b==="recensioni"?"active":""}`,onClick:()=>w("recensioni"),children:"RECENSIONI"})]}),f.jsxs("div",{className:"tab-content",children:[b==="portfolio"&&f.jsxs("div",{className:"tab-panel portfolio-panel",children:[f.jsxs("h3",{children:["GALLERIA LAVORI ",!h&&`(${T.length})`]}),h?f.jsxs("div",{className:"portfolio-loading",children:[f.jsx(zt,{size:"large"}),f.jsx("p",{children:"Caricamento portfolio..."})]}):T.length>0?f.jsx("div",{className:"artist-portfolio-grid",children:T.map(L=>f.jsx(wn,{item:{id:L.id,title:L.title,description:L.description||"",image_url:L.image_url,tags:L.tags||[],is_flash:L.is_flash,price:L.price,location:L.location,created_at:L.created_at,updated_at:L.updated_at,user_id:L.user_id,artist_name:l?.full_name||l?.username||"Artista",full_name:l?.full_name||l?.username||"Artista"},onArtistClick:()=>{}},L.id))}):f.jsx("div",{className:"empty-portfolio",children:f.jsxs("div",{className:"empty-state",children:[f.jsx("h4",{children:"Nessun lavoro pubblicato"}),f.jsx("p",{children:"Questo artista non ha ancora caricato lavori personalizzati nel suo portfolio."})]})})]}),b==="servizi"&&f.jsxs("div",{className:"tab-panel servizi-panel",children:[f.jsxs("h3",{children:["SERVIZI OFFERTI ",!h&&u.length>0&&`(${u.length})`]}),h?f.jsxs("div",{className:"portfolio-loading",children:[f.jsx(zt,{size:"large"}),f.jsx("p",{children:"Caricamento servizi..."})]}):u.length>0?f.jsx("div",{className:"services-list",children:u.map(L=>f.jsxs("div",{className:"service-item",children:[L.image_url&&f.jsx("div",{className:"service-image",children:f.jsx("img",{src:L.image_url,alt:L.name,className:"service-img"})}),f.jsxs("div",{className:"service-info",children:[f.jsx("h4",{children:L.name}),f.jsx("p",{children:L.description||""}),f.jsxs("div",{className:"service-details",children:[L.body_area&&L.body_area!=="N/A"&&f.jsxs("span",{className:"service-detail",children:[f.jsx("strong",{children:"Zona:"})," ",L.body_area]}),L.size_category&&L.size_category!=="N/A"&&f.jsxs("span",{className:"service-detail",children:[f.jsx("strong",{children:"Dimensione:"})," ",L.size_category]})]})]}),f.jsx("div",{className:"service-price",children:L.discount_percentage?f.jsxs("div",{className:"price-with-discount",children:[f.jsx("span",{className:"original-price",children:L.is_price_range?`${L.price_min_range}-${L.price_max_range}`:`${L.fixed_price}`}),f.jsx("span",{className:"discounted-price",children:L.is_price_range?`${Math.round(L.price_min_range*(100-L.discount_percentage)/100)}-${Math.round(L.price_max_range*(100-L.discount_percentage)/100)}`:`${Math.round(L.fixed_price*(100-L.discount_percentage)/100)}`})]}):f.jsx("span",{children:L.is_price_range?`${L.price_min_range}-${L.price_max_range}`:`${L.fixed_price}`})})]},L.id))}):f.jsx("div",{className:"empty-portfolio",children:f.jsxs("div",{className:"empty-state",children:[f.jsx("h4",{children:"Nessun servizio disponibile"}),f.jsx("p",{children:"Questo artista non ha ancora pubblicato i suoi servizi."})]})})]}),b==="flash"&&f.jsxs("div",{className:"tab-panel flash-panel",children:[f.jsxs("h3",{children:["DISEGNI FLASH DISPONIBILI ",!h&&`(${C.length})`]}),h?f.jsxs("div",{className:"portfolio-loading",children:[f.jsx(zt,{size:"large"}),f.jsx("p",{children:"Caricamento flash..."})]}):C.length>0?f.jsx("div",{className:"artist-portfolio-grid",children:C.map(L=>f.jsx(wn,{item:{id:L.id,title:L.title,description:L.description||"",image_url:L.image_url,tags:L.tags||[],is_flash:L.is_flash,price:L.price,location:L.location,created_at:L.created_at,updated_at:L.updated_at,user_id:L.user_id,artist_name:l?.full_name||l?.username||"Artista",full_name:l?.full_name||l?.username||"Artista"},onArtistClick:()=>{}},L.id))}):f.jsx("div",{className:"empty-portfolio",children:f.jsxs("div",{className:"empty-state",children:[f.jsx("h4",{children:"Nessun flash disponibile"}),f.jsx("p",{children:"Questo artista non ha ancora caricato disegni flash disponibili."})]})})]}),b==="recensioni"&&f.jsxs("div",{className:"tab-panel recensioni-panel",children:[f.jsx("h3",{children:"RECENSIONI CLIENTI"}),f.jsxs("div",{className:"reviews-list",children:[f.jsxs("div",{className:"review-item",children:[f.jsxs("div",{className:"review-header",children:[f.jsxs("div",{className:"reviewer-info",children:[f.jsx("strong",{children:"Marco R."}),f.jsx("div",{className:"review-stars",children:""})]}),f.jsx("span",{className:"review-date",children:"15 Gen 2024"})]}),f.jsx("p",{className:"review-text",children:'"Esperienza fantastica! Professionalit al top e risultato perfetto. Il tatuaggio  venuto esattamente come volevo. Consigliatissimo!"'})]}),f.jsxs("div",{className:"review-item",children:[f.jsxs("div",{className:"review-header",children:[f.jsxs("div",{className:"reviewer-info",children:[f.jsx("strong",{children:"Giulia M."}),f.jsx("div",{className:"review-stars",children:""})]}),f.jsx("span",{className:"review-date",children:"8 Gen 2024"})]}),f.jsx("p",{className:"review-text",children:'"Artista incredibile! Studio pulito e igienizzato, grande attenzione ai dettagli. Il mio primo tatuaggio non poteva andare meglio."'})]}),f.jsxs("div",{className:"review-item",children:[f.jsxs("div",{className:"review-header",children:[f.jsxs("div",{className:"reviewer-info",children:[f.jsx("strong",{children:"Alessio T."}),f.jsx("div",{className:"review-stars",children:""})]}),f.jsx("span",{className:"review-date",children:"2 Gen 2024"})]}),f.jsx("p",{className:"review-text",children:`"Cover up riuscitissimo! Ha trasformato un vecchio tatuaggio in un'opera d'arte. Tempi rispettati e prezzo onesto."`})]})]}),f.jsx("div",{className:"reviews-summary",children:f.jsxs("div",{className:"rating-average",children:[f.jsx("span",{className:"rating-number",children:"4.9"}),f.jsx("div",{className:"rating-stars",children:""}),f.jsx("span",{className:"rating-count",children:"127 recensioni"})]})})]})]})]})]}):f.jsxs("div",{className:"error-state",children:[f.jsx("h2",{children:"Profilo non trovato"}),f.jsx("p",{children:"L'artista richiesto non  stato trovato."})]})})})]})}function uw({isOpen:r,title:i,message:s,confirmText:l="Conferma",cancelText:c="Annulla",onConfirm:u,onCancel:h}){if(S.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const v=m=>{m.target===m.currentTarget&&h()};return f.jsx("div",{className:"confirmation-overlay",onClick:v,children:f.jsxs("div",{className:"auth-modal confirmation-modal",children:[f.jsx("button",{className:"modal-close-btn",onClick:h,children:""}),f.jsxs("div",{className:"modal-content",children:[f.jsx("h2",{className:"modal-title",children:i}),f.jsx("p",{className:"modal-message",children:s}),f.jsxs("div",{className:"modal-actions",children:[f.jsx(_a,{icon:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),text:c,variant:"modal",onClick:h}),f.jsx(_a,{icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("polyline",{points:"3,6 5,6 21,6"}),f.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),text:l,variant:"modal",onClick:u})]})]})]})})}function dw(){const r=ea(),{user:i,profile:s,loading:l,refreshProfile:c}=st(),{fetchFollowerStats:u,getFollowerStats:h}=cr(),[v,m]=S.useState(!1),[g,p]=S.useState(!1),[b,w]=S.useState(!1),[x,E]=S.useState(null),[R,T]=S.useState("portfolio"),[C,D]=S.useState(!1),[M,Y]=S.useState([]),[q,L]=S.useState(!0),[P,ae]=S.useState({bio:s?.bio||"",location:s?.location||""}),[Z,ee]=S.useState({title:"",description:"",image_url:"",tags:"",is_flash:!1,price:""}),[ue,J]=S.useState(null),[oe,ie]=S.useState(null),Ne=(Q,me)=>{r(`/?search=${encodeURIComponent(Q)}&location=${encodeURIComponent(me)}`)},H=()=>{r("/")},X=async()=>{if(s?.user_id)try{const{data:Q,error:me}=await fe.from("portfolio_items").select("*").eq("user_id",s.user_id).order("created_at",{ascending:!1});if(me){console.error("Error fetching portfolio items:",me);return}const tt=(Q||[]).map(qe=>({id:qe.id,title:qe.title,description:qe.description||"",image_url:qe.image_url,tags:qe.tags||[],is_flash:qe.is_flash||!1,price:qe.price,location:qe.location,created_at:qe.created_at,updated_at:qe.updated_at,user_id:qe.user_id,artist_name:s.full_name||s.username||"Tu",full_name:s.full_name||s.username||"Tu"}));Y(tt)}catch(Q){console.error("Error fetching portfolio items:",Q)}finally{L(!1)}},te=async Q=>{if(!i?.id||!s?.user_id)throw new Error("User not authenticated");try{const me=Q.name.split(".").pop(),tt=`${Date.now()}-${Math.random().toString(36).substring(2)}.${me}`,qe=`${i.id}/${tt}`,{error:Ja}=await fe.storage.from("portfolio").upload(qe,Q,{cacheControl:"3600",upsert:!1});if(Ja)throw console.error("Storage upload error:",Ja),Ja;const{data:ur}=fe.storage.from("portfolio").getPublicUrl(qe);return ur.publicUrl}catch(me){throw console.error("Error uploading image:",me),me}},je=async()=>{if(!(!i||!s)){D(!0);try{let Q=Z.image_url.trim()||null;if(ue)try{Q=await te(ue)}catch(tt){console.error("Error uploading image:",tt),alert("Errore durante il caricamento dell'immagine. Riprova."),D(!1);return}const{error:me}=await fe.from("portfolio_items").insert({user_id:s.user_id,title:Z.title.trim(),description:Z.description.trim()||null,image_url:Q,tags:Z.tags?Z.tags.split(",").map(tt=>tt.trim()).filter(tt=>tt):[],is_flash:Z.is_flash,price:Z.price?parseFloat(Z.price):null,location:s.location||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(me){console.error("Error uploading portfolio item:",me),alert("Errore durante il caricamento del lavoro");return}F(),await X(),p(!1)}catch(Q){console.error("Error uploading portfolio item:",Q),alert("Errore durante il caricamento del lavoro")}finally{D(!1)}}},N=async()=>{if(!(!i||!s)){D(!0);try{const{error:Q}=await fe.from("profiles").update({bio:P.bio.trim(),location:P.location.trim(),updated_at:new Date().toISOString()}).eq("user_id",s.user_id);if(Q){console.error("Error updating profile:",Q),alert("Errore durante l'aggiornamento del profilo");return}c&&await c(),m(!1)}catch(Q){console.error("Error updating profile:",Q),alert("Errore durante l'aggiornamento del profilo")}finally{D(!1)}}},K=Q=>{const me=Q.target.files?.[0];if(me){if(!me.type.startsWith("image/")){alert("Seleziona un file immagine valido (JPG, PNG, GIF, WebP)");return}const tt=5*1024*1024;if(me.size>tt){alert("Il file  troppo grande. Dimensione massima: 5MB");return}J(me);const qe=new FileReader;qe.onload=()=>{ie(qe.result)},qe.readAsDataURL(me)}},F=()=>{ee({title:"",description:"",image_url:"",tags:"",is_flash:!1,price:""}),J(null),ie(null)},I=["Racconta la tua storia come tatuatore","Descrivi il tuo stile artistico preferito","Menziona gli anni di esperienza","Parla delle tue specializzazioni","Condividi la tua filosofia sull'arte del tatuaggio"];S.useEffect(()=>{s&&(ae({bio:s.bio||"",location:s.location||""}),X())},[s]),S.useEffect(()=>(v||g||b?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[v,g,b]);const we=(s?h(s.user_id):null)?.follower_count||0;S.useEffect(()=>{s?.user_id&&u([s.user_id])},[s?.user_id,u]);const de=Q=>{E(Q),w(!0)},ct=async()=>{if(x)try{const{error:Q}=await fe.from("portfolio_items").delete().eq("id",x);if(Q){console.error("Error deleting portfolio item:",Q),alert("Errore durante l'eliminazione dell'elemento");return}Y(me=>me.filter(tt=>tt.id!==x)),localStorage.setItem("portfolioItemsUpdated",Date.now().toString()),w(!1),E(null)}catch(Q){console.error("Error deleting portfolio item:",Q),alert("Errore durante l'eliminazione dell'elemento")}},De=()=>{w(!1),E(null)};if(l)return f.jsxs("div",{className:"artist-profile",children:[f.jsx(Jt,{onSearch:Ne,onLogoClick:H}),f.jsx("div",{className:"loading-state",children:f.jsx(zt,{size:"large"})})]});if(!i||!s)return r("/"),null;const pt=!s?.bio||!s?.location;return f.jsxs("div",{className:"artist-profile",children:[f.jsx(Jt,{onSearch:Ne,onLogoClick:H}),f.jsx("main",{className:"artist-profile-content",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"artist-profile-main",children:[f.jsx("section",{className:"artist-profile-header",children:f.jsxs("div",{className:"profile-info",children:[f.jsx(Gt,{src:s.avatar_url,name:s.full_name,alt:`Avatar di ${s.full_name||s.username||"Utente"}`,size:"lg",variant:"bordered"}),f.jsxs("div",{className:"profile-details",children:[f.jsx("h1",{className:"profile-name",children:s.full_name||s.username||"Nome non disponibile"}),s.location&&f.jsxs("p",{className:"profile-location",children:[" ",s.location]}),s.bio&&f.jsx("p",{className:"profile-bio",children:s.bio}),f.jsx("div",{className:"profile-stats",children:f.jsxs("span",{className:"follower-count",children:[f.jsx("strong",{children:we.toLocaleString()})," follower"]})}),f.jsx("div",{className:"profile-actions",children:f.jsxs("button",{className:"action-btn",onClick:()=>m(!0),children:[f.jsx("span",{className:"action-icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("span",{className:"action-text",children:pt?"Completa il profilo":"Modifica Profilo"})]})})]})]})}),f.jsxs("section",{className:"artist-profile-tabs",children:[f.jsxs("div",{className:"tabs-navigation",children:[f.jsx("button",{className:`tab-button ${R==="portfolio"?"active":""}`,onClick:()=>T("portfolio"),children:"PORTFOLIO"}),f.jsx("button",{className:`tab-button ${R==="flash"?"active":""}`,onClick:()=>T("flash"),children:"FLASH"}),f.jsx("button",{className:`tab-button ${R==="servizi"?"active":""}`,onClick:()=>T("servizi"),children:"SERVIZI"}),f.jsx("button",{className:`tab-button ${R==="recensioni"?"active":""}`,onClick:()=>T("recensioni"),children:"RECENSIONI"})]}),f.jsxs("div",{className:"tab-content",children:[R==="portfolio"&&f.jsxs("div",{className:"tab-panel portfolio-panel",children:[f.jsxs("h3",{children:["GALLERIA LAVORI (",M.filter(Q=>!Q.is_flash).length,")"]}),q?f.jsxs("div",{className:"portfolio-loading",children:[f.jsx(zt,{size:"large"}),f.jsx("p",{children:"Caricamento portfolio..."})]}):M.filter(Q=>!Q.is_flash).length>0?f.jsx("div",{className:"artist-portfolio-grid",children:M.filter(Q=>!Q.is_flash).map(Q=>f.jsx(wn,{item:Q,onArtistClick:()=>{},showDeleteButton:!0,onDelete:de},Q.id))}):f.jsx("div",{className:"empty-portfolio",children:f.jsxs("div",{className:"empty-state",children:[f.jsx("h4",{children:"Portfolio vuoto"}),f.jsx("p",{children:"I tuoi lavori appariranno qui una volta che inizierai a caricarli."}),f.jsx(_a,{icon:f.jsx(Vm,{}),text:"Aggiungi Lavoro",onClick:()=>p(!0)})]})})]}),R==="servizi"&&f.jsxs("div",{className:"tab-panel servizi-panel",children:[f.jsx("h3",{children:"I MIEI SERVIZI"}),f.jsx("div",{className:"empty-portfolio",children:f.jsxs("div",{className:"empty-state",children:[f.jsx("h4",{children:"Nessun servizio pubblicato"}),f.jsx("p",{children:"Aggiungi i tuoi servizi per far conoscere ai clienti cosa offri."})]})})]}),R==="flash"&&f.jsxs("div",{className:"tab-panel flash-panel",children:[f.jsxs("h3",{children:["DISEGNI FLASH DISPONIBILI (",M.filter(Q=>Q.is_flash).length,")"]}),q?f.jsxs("div",{className:"portfolio-loading",children:[f.jsx(zt,{size:"large"}),f.jsx("p",{children:"Caricamento flash..."})]}):M.filter(Q=>Q.is_flash).length>0?f.jsx("div",{className:"artist-portfolio-grid",children:M.filter(Q=>Q.is_flash).map(Q=>f.jsx(wn,{item:Q,onArtistClick:()=>{},showDeleteButton:!0,onDelete:de},Q.id))}):f.jsx("div",{className:"empty-portfolio",children:f.jsxs("div",{className:"empty-state",children:[f.jsx("h4",{children:"Nessun flash disponibile"}),f.jsx("p",{children:"I tuoi disegni flash appariranno qui una volta che inizierai a caricarli."}),f.jsx(_a,{icon:f.jsx(Vm,{}),text:"Aggiungi Flash",onClick:()=>{ee(Q=>({...Q,is_flash:!0})),p(!0)}})]})})]}),R==="recensioni"&&f.jsxs("div",{className:"tab-panel recensioni-panel",children:[f.jsx("h3",{children:"LE MIE RECENSIONI"}),f.jsx("div",{className:"empty-portfolio",children:f.jsxs("div",{className:"empty-state",children:[f.jsx("h4",{children:"Nessuna recensione"}),f.jsx("p",{children:"Le recensioni dei tuoi clienti appariranno qui."})]})})]})]})]})]})})}),v&&f.jsx("div",{className:"auth-overlay",onClick:Q=>Q.target===Q.currentTarget&&m(!1),children:f.jsxs("div",{className:"auth-modal complete-profile-modal",children:[f.jsx("div",{className:"auth-header-sticky",children:f.jsx("button",{className:"auth-close-btn",onClick:()=>m(!1),children:""})}),f.jsx("div",{className:"auth-modal-header"}),f.jsxs("div",{className:"complete-profile-content",children:[f.jsx("h2",{className:"complete-profile-title",children:pt?"COMPLETA IL TUO PROFILO":"MODIFICA PROFILO"}),f.jsx("p",{className:"complete-profile-description",children:pt?"Aggiungi le informazioni mancanti per completare il tuo profilo":"Modifica le informazioni del tuo profilo"}),f.jsxs("form",{className:"complete-profile-form",onSubmit:Q=>Q.preventDefault(),children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"bio",className:"form-label",children:["BIO ",!s?.bio&&f.jsx("span",{className:"required-indicator",children:"*"})]}),f.jsx("textarea",{id:"bio",className:"form-textarea",placeholder:"Raccontaci qualcosa su di te...",value:P.bio,onChange:Q=>ae(me=>({...me,bio:Q.target.value})),rows:4,maxLength:500}),f.jsxs("div",{className:"bio-suggestions",children:[f.jsx("p",{className:"suggestions-title",children:" Suggerimenti per la bio:"}),f.jsx("ul",{className:"suggestions-list",children:I.map((Q,me)=>f.jsx("li",{className:"suggestion-item",children:Q},me))})]}),f.jsxs("div",{className:"char-count",children:[P.bio.length,"/500 caratteri"]})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"location",className:"form-label",children:["LOCALIT ",!s?.location&&f.jsx("span",{className:"required-indicator",children:"*"})]}),f.jsx("input",{type:"text",id:"location",className:"form-input",placeholder:"Es. Milano, Italia",value:P.location,onChange:Q=>ae(me=>({...me,location:Q.target.value})),maxLength:100})]}),f.jsxs("div",{className:"form-actions",children:[f.jsxs("button",{type:"button",className:"action-btn",onClick:()=>m(!1),disabled:C,children:[f.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),f.jsx("span",{className:"action-text",children:"Annulla"})]}),f.jsxs("button",{type:"button",className:"action-btn",onClick:N,disabled:C||!P.bio.trim()||!P.location.trim(),children:[f.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{d:"M20 6L9 17l-5-5"})}),f.jsx("span",{className:"action-text",children:C?"Salvando...":pt?"Completa Profilo":"Salva Modifiche"})]})]})]})]})]})}),g&&f.jsx("div",{className:"auth-overlay",onClick:Q=>Q.target===Q.currentTarget&&(p(!1),F()),children:f.jsxs("div",{className:"auth-modal upload-portfolio-modal",children:[f.jsx("div",{className:"auth-header-sticky",children:f.jsx("button",{className:"auth-close-btn",onClick:()=>{p(!1),F()},children:""})}),f.jsx("div",{className:"auth-modal-header"}),f.jsxs("div",{className:"upload-portfolio-content",children:[f.jsx("h2",{className:"upload-portfolio-title",children:"AGGIUNGI LAVORO"}),f.jsx("p",{className:"upload-portfolio-description",children:"Carica un nuovo lavoro nel tuo portfolio"}),f.jsxs("form",{className:"upload-portfolio-form",onSubmit:Q=>Q.preventDefault(),children:[f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{htmlFor:"title",className:"form-label",children:["TITOLO ",f.jsx("span",{className:"required-indicator",children:"*"})]}),f.jsx("input",{type:"text",id:"title",className:"form-input",placeholder:"Es. Tatuaggio Tribale",value:Z.title,onChange:Q=>ee(me=>({...me,title:Q.target.value})),maxLength:100})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"description",className:"form-label",children:"DESCRIZIONE"}),f.jsx("textarea",{id:"description",className:"form-textarea",placeholder:"Descrivi il lavoro, tecnica utilizzata, significato...",value:Z.description,onChange:Q=>ee(me=>({...me,description:Q.target.value})),rows:3,maxLength:500}),f.jsxs("div",{className:"char-count",children:[Z.description.length,"/500 caratteri"]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"image_file",className:"form-label",children:"IMMAGINE"}),f.jsx("input",{type:"file",id:"image_file",className:"form-input file-input",accept:"image/*",onChange:K}),f.jsx("div",{className:"form-help",children:"Formati supportati: JPG, PNG, GIF, WebP (max 5MB)"}),oe&&f.jsxs("div",{className:"image-preview",children:[f.jsx("img",{src:oe,alt:"Anteprima",className:"preview-image"}),f.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>{J(null),ie(null);const Q=document.getElementById("image_file");Q&&(Q.value="")},children:""})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"tags",className:"form-label",children:"TAG"}),f.jsx("input",{type:"text",id:"tags",className:"form-input",placeholder:"Es. tribale, braccio, nero",value:Z.tags,onChange:Q=>ee(me=>({...me,tags:Q.target.value}))}),f.jsx("div",{className:"form-help",children:"Separa i tag con virgole"})]}),f.jsx("div",{className:"form-group",children:f.jsxs("label",{className:"checkbox-label",children:[f.jsx("input",{type:"checkbox",checked:Z.is_flash,onChange:Q=>ee(me=>({...me,is_flash:Q.target.checked}))}),f.jsx("span",{className:"checkbox-text",children:" un disegno flash disponibile"})]})}),Z.is_flash&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"price",className:"form-label",children:"PREZZO ()"}),f.jsx("input",{type:"number",id:"price",className:"form-input",placeholder:"120",min:"0",step:"0.01",value:Z.price,onChange:Q=>ee(me=>({...me,price:Q.target.value}))})]}),f.jsxs("div",{className:"form-actions",children:[f.jsxs("button",{type:"button",className:"action-btn",onClick:()=>{p(!1),F()},disabled:C,children:[f.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),f.jsx("span",{className:"action-text",children:"Annulla"})]}),f.jsxs("button",{type:"button",className:"action-btn",onClick:je,disabled:C||!Z.title.trim(),children:[f.jsx("svg",{className:"action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{d:"M12 5v14m7-7l-7-7-7 7"})}),f.jsx("span",{className:"action-text",children:C?"Caricando...":"Aggiungi Lavoro"})]})]})]})]})]})}),f.jsx(uw,{isOpen:b,title:"Elimina elemento",message:"Sei sicuro di voler eliminare questo elemento dal portfolio? Questa azione non pu essere annullata.",confirmText:"Elimina",cancelText:"Annulla",onConfirm:ct,onCancel:De})]})}function fw({title:r,subtitle:i,actions:s,className:l=""}){return f.jsx("div",{className:`page-header ${l}`,children:f.jsxs("div",{className:"header-card",children:[f.jsxs("div",{className:"header-top",children:[f.jsx("h2",{className:"grid-title",children:r}),s&&f.jsx("div",{className:"header-actions",children:s})]}),i&&f.jsx("p",{className:"grid-subtitle",children:i})]})})}function hw({onLogoClick:r,onArtistClick:i}){const{savedTattoos:s,loading:l,refreshSavedTattoos:c}=cu(),[u,h]=S.useState([]),[v,m]=S.useState(!0),[g,p]=S.useState(null);return S.useEffect(()=>{(async()=>{if(l||s.size===0){h([]),m(!1);return}try{m(!0);const w=Array.from(s),{data:x,error:E}=await fe.from("saved_tattoos").select("portfolio_item_id, created_at").in("portfolio_item_id",w).order("created_at",{ascending:!1});if(E){p("Errore nel caricamento degli elementi salvati"),console.error("Error loading saved items:",E.message);return}const{data:R,error:T}=await fe.from("portfolio_items").select(`
            *,
            profiles!inner(
              user_id,
              full_name,
              username,
              profile_type,
              bio,
              location
            )
          `).in("id",w);if(T){p("Errore nel caricamento degli elementi salvati"),console.error("Error loading portfolio items:",T.message);return}const C=new Map(R.map(M=>[M.id,M])),D=x.map(M=>{const Y=C.get(M.portfolio_item_id);return Y?{...Y,artist_name:Y.profiles.full_name||Y.profiles.username||"Unknown",full_name:Y.profiles.full_name,username:Y.profiles.username,profile_type:Y.profiles.profile_type,bio:Y.profiles.bio,artist_location:Y.profiles.location}:null}).filter(M=>M!==null);h(D),p(null)}catch(w){p("Errore nel caricamento degli elementi salvati"),console.error("Error loading saved items:",w)}finally{m(!1)}})()},[s,l]),v||l?f.jsxs("div",{className:"saved-items-page",children:[f.jsx(Jt,{onLogoClick:r}),f.jsx("div",{className:"saved-items-loading",children:f.jsx(zt,{})})]}):f.jsxs("div",{className:"saved-items-page",children:[f.jsx(Jt,{onLogoClick:r}),f.jsx("div",{className:"container",children:f.jsxs("div",{className:"saved-items-content",children:[u.length>0&&f.jsx(fw,{title:"ELEMENTI SALVATI",subtitle:u.length===1?"1 elemento salvato":`${u.length} elementi salvati`}),g&&f.jsx("div",{className:"error-state",children:f.jsxs("div",{className:"error-content",children:[f.jsx("p",{className:"error-message",children:g}),f.jsx("button",{className:"btn btn-accent retry-btn",onClick:()=>c(),style:{marginTop:"1.5rem"},children:"Riprova"})]})}),!g&&u.length===0&&f.jsx("div",{className:"empty-state",children:f.jsxs("div",{className:"empty-content",children:[f.jsx("div",{className:"empty-icon",children:""}),f.jsx("h2",{className:"empty-title",children:"Nessun tatuaggio salvato"}),f.jsx("p",{className:"empty-description",children:"Inizia a esplorare i portfolio degli artisti e salva i tatuaggi che ti piacciono."}),f.jsx("button",{className:"btn btn-accent",onClick:r,style:{marginTop:"1.5rem"},children:"Esplora Portfolio"})]})}),!g&&u.length>0&&f.jsxs("div",{className:"portfolio-grid",children:[u.map(b=>f.jsx(wn,{item:b,onArtistClick:i},b.id)),Array.from({length:Math.max(0,12-u.length%12)},(b,w)=>f.jsx("div",{className:"grid-placeholder"},`placeholder-${w}`))]})]})})]})}function mw({chats:r,selectedChatId:i,onChatSelect:s,onRequestDeleteChat:l}){const c=h=>{const v=new Date(h),g=(new Date().getTime()-v.getTime())/(1e3*60*60);return g<24?v.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}):g<48?"Ieri":v.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"})},u=(h,v)=>{h.stopPropagation(),l(v)};return f.jsxs("div",{className:"chat-list",children:[f.jsxs("div",{className:"chat-list-header",children:[f.jsx("h2",{className:"chat-list-title",children:"MESSAGGI"}),f.jsxs("span",{className:"chat-count",children:[r.length," conversazioni"]})]}),f.jsx("div",{className:"chat-list-items",children:r.length===0?f.jsxs("div",{className:"empty-chat-list",children:[f.jsx("div",{className:"empty-chat-icon",children:""}),f.jsx("p",{className:"empty-chat-text",children:"Nessuna conversazione ancora"})]}):r.map(h=>f.jsxs("div",{className:`chat-item ${i===h.id?"active":""}`,onClick:()=>s(h.id),children:[f.jsx("div",{className:"chat-avatar",children:f.jsx(Gt,{src:h.participant.avatar,name:h.participant.name,alt:`Avatar di ${h.participant.name}`,size:"sm",variant:"default"})}),f.jsxs("div",{className:"chat-content",children:[f.jsxs("div",{className:"chat-header",children:[f.jsx("h3",{className:"chat-participant-name",children:h.participant.name}),f.jsxs("div",{className:"chat-header-actions",children:[f.jsx("span",{className:"chat-timestamp",children:c(h.timestamp)}),f.jsx("button",{className:"chat-delete-btn",onClick:v=>u(v,{id:h.id,participant:{name:h.participant.name}}),title:"Elimina conversazione","aria-label":"Elimina conversazione",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("polyline",{points:"3,6 5,6 21,6"}),f.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"})]})})]})]}),f.jsxs("div",{className:"chat-preview",children:[f.jsx("p",{className:"chat-last-message",children:h.lastMessage}),h.unreadCount>0&&f.jsx("span",{className:"chat-unread-count",children:h.unreadCount})]})]})]},h.id))})]})}function vw(){const{user:r}=st(),[i,s]=S.useState([]),[l,c]=S.useState([]),[u,h]=S.useState(!0),[v,m]=S.useState(null),g=S.useCallback(async()=>{if(r)try{h(!0),m(null);const{data:T,error:C}=await fe.from("user_conversation_deletions").select("participant_id").eq("user_id",r.id);C&&C.code!=="PGRST116"&&console.error("Error fetching deleted conversations:",C);const D=new Set(T?.map(J=>J.participant_id)||[]),{data:M,error:Y}=await fe.from("messages").select(`
          id,
          sender_id,
          receiver_id,
          content,
          created_at,
          is_read
        `).or(`sender_id.eq.${r.id},receiver_id.eq.${r.id}`).is("deleted_at",null).order("created_at",{ascending:!1});if(Y)throw console.error("Supabase query error:",Y),Y;const q=M;if(q.length===0){s([]),c([]);return}const L=q.filter(J=>{const oe=J.sender_id===r.id?J.receiver_id:J.sender_id;return!D.has(oe)});if(L.length===0){s([]),c([]);return}const P=new Set;P.add(r.id),L.forEach(J=>{P.add(J.sender_id),P.add(J.receiver_id)});const ae=new Map;if(P.size>0)try{const{data:J,error:oe}=await fe.from("profiles").select("user_id, full_name, username, avatar_url").in("user_id",Array.from(P));!oe&&J&&J.forEach(ie=>{ae.set(ie.user_id,ie)})}catch(J){console.warn("Could not fetch profile data, using fallback names:",J)}const Z=new Map;L.forEach(J=>{const oe=J.sender_id===r.id,ie=oe?J.receiver_id:J.sender_id,Ne=[r.id,ie].sort(),H=`${Ne[0]}__${Ne[1]}`;if(!Z.has(H)){const X=L.filter(N=>N.sender_id===ie&&N.receiver_id===r.id&&!N.is_read).length,te=ae.get(ie),je=te?.full_name||te?.username||`User ${ie.slice(0,8)}`;Z.set(H,{id:H,participant:{user_id:ie,name:je,username:te?.username||"",avatar:te?.avatar_url||null},lastMessage:J.content,timestamp:J.created_at,unreadCount:X,isFromCurrentUser:oe})}});const ee=Array.from(Z.values());s(ee);const ue=L.map(J=>{const oe=ae.get(J.sender_id),ie=ae.get(J.receiver_id);return{id:J.id,sender_id:J.sender_id,receiver_id:J.receiver_id,content:J.content,created_at:J.created_at,is_read:J.is_read,deleted_at:null,sender:{user_id:J.sender_id,full_name:oe?.full_name||oe?.username||`User ${J.sender_id.slice(0,8)}`,username:oe?.username||"",avatar_url:oe?.avatar_url||null},receiver:{user_id:J.receiver_id,full_name:ie?.full_name||ie?.username||`User ${J.receiver_id.slice(0,8)}`,username:ie?.username||"",avatar_url:ie?.avatar_url||null}}});c(ue)}catch(T){m(T instanceof Error?T.message:"Failed to fetch messages"),console.error("Error fetching conversations:",T)}finally{h(!1)}},[r]),p=S.useCallback(async T=>{if(!r)return[];try{const{data:C,error:D}=await fe.from("user_conversation_deletions").select("participant_id").eq("user_id",r.id).eq("participant_id",T);if(D&&D.code!=="PGRST116"&&console.error("Error checking deleted conversations:",D),C&&C.length>0)return[];const{data:M,error:Y}=await fe.from("messages").select(`
          id,
          sender_id,
          receiver_id,
          content,
          created_at,
          is_read
        `).or(`and(sender_id.eq.${r?.id},receiver_id.eq.${T}),and(sender_id.eq.${T},receiver_id.eq.${r?.id})`).is("deleted_at",null).order("created_at",{ascending:!0});if(Y)throw Y;const q=M;if(q.length===0)return[];const L=[r.id,T],P=new Map;try{const{data:Z,error:ee}=await fe.from("profiles").select("user_id, full_name, username, avatar_url").in("user_id",L);!ee&&Z&&Z.forEach(ue=>{P.set(ue.user_id,ue)})}catch(Z){console.warn("Could not fetch profile data for conversation, using fallback names:",Z)}return q.map(Z=>{const ee=P.get(Z.sender_id),ue=P.get(Z.receiver_id);return{id:Z.id,sender_id:Z.sender_id,receiver_id:Z.receiver_id,content:Z.content,created_at:Z.created_at,is_read:Z.is_read,deleted_at:null,sender:{user_id:Z.sender_id,full_name:ee?.full_name||ee?.username||`User ${Z.sender_id.slice(0,8)}`,username:ee?.username||"",avatar_url:ee?.avatar_url||null},receiver:{user_id:Z.receiver_id,full_name:ue?.full_name||ue?.username||`User ${Z.receiver_id.slice(0,8)}`,username:ue?.username||"",avatar_url:ue?.avatar_url||null}}})}catch(C){return console.error("Error fetching conversation messages:",C),[]}},[r]),b=S.useCallback(async(T,C)=>{if(r)try{const D=[r.id,T].sort(),M=`${D[0]}__${D[1]}`;if(i.find(q=>q.id===M))s(q=>q.map(L=>L.id===M?{...L,lastMessage:C,timestamp:new Date().toISOString(),isFromCurrentUser:!0}:L));else{let q=null;try{const{data:P,error:ae}=await fe.from("profiles").select("user_id, full_name, username, avatar_url").eq("user_id",T).single();!ae&&P&&(q=P)}catch(P){console.warn("Could not fetch receiver profile:",P)}const L={id:M,participant:{user_id:T,name:q?.full_name||q?.username||`User ${T.slice(0,8)}`,username:q?.username||"",avatar:q?.avatar_url||null},lastMessage:C,timestamp:new Date().toISOString(),unreadCount:0,isFromCurrentUser:!0};s(P=>[L,...P])}}catch(D){console.error("Error updating conversation locally:",D)}},[r,i]),w=S.useCallback(async(T,C)=>{if(!r||!C.trim())return!1;try{const{error:D}=await fe.from("messages").insert([{sender_id:r.id,receiver_id:T,content:C.trim()}]);if(D)throw D;return await b(T,C.trim()),!0}catch(D){return console.error("Error sending message:",D),m(D instanceof Error?D.message:"Failed to send message"),!1}},[r,b]),x=async T=>{if(r)try{const{error:C}=await fe.from("messages").update({is_read:!0}).eq("sender_id",T).eq("receiver_id",r.id).eq("is_read",!1);if(C)throw C;s(D=>D.map(M=>M.participant.user_id===T?{...M,unreadCount:0}:M))}catch(C){console.error("Error marking messages as read:",C)}},E=async T=>{if(r)try{const{error:C}=await fe.from("user_conversation_deletions").upsert({user_id:r.id,participant_id:T,deleted_at:new Date().toISOString()},{onConflict:"user_id,participant_id"});if(C)throw C;s(D=>D.filter(M=>M.participant.user_id!==T))}catch(C){console.error("Error deleting conversation:",C),m(C instanceof Error?C.message:"Failed to delete conversation")}},R=()=>i.reduce((T,C)=>T+C.unreadCount,0);return S.useEffect(()=>{g()},[r]),{conversations:i,messages:l,loading:u,error:v,sendMessage:w,fetchConversationMessages:p,markConversationAsRead:x,deleteConversation:E,getUnreadCount:R,refreshConversations:g}}function gw({chat:r,isVisible:i,onRequestDeleteChat:s,sendMessage:l,fetchConversationMessages:c}){const{user:u}=st(),[h,v]=S.useState(""),[m,g]=S.useState([]),[p,b]=S.useState(!1),w=C=>{if(!u)return null;const[D,M]=C.split("__");return D===u.id?M:D};S.useEffect(()=>{if(!r){g([]),v(""),b(!1);return}(async()=>{const D=w(r.id);if(!(!D||!c)){b(!0);try{const Y=(await c(D)).map(q=>({id:q.id,content:q.content,timestamp:q.created_at,isFromCurrentUser:q.sender_id===u?.id}));g(Y)}catch(M){console.error("Error loading conversation messages:",M),g([])}finally{b(!1)}}})()},[r?.id,u?.id,c]);const x=C=>new Date(C).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),E=async()=>{if(!h.trim()||!r||!u||!l)return;const C=w(r.id);if(C)try{const D={id:Date.now().toString(),content:h.trim(),timestamp:new Date().toISOString(),isFromCurrentUser:!0};g(Y=>[...Y,D]),v(""),await l(C,h.trim())||(g(Y=>Y.filter(q=>q.id!==D.id)),v(h.trim()))}catch(D){console.error("Error sending message:",D),g(M=>M.filter(Y=>Y.id===Date.now().toString()))}},R=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),E())},T=()=>{r&&s&&s({id:r.id,participant:{name:r.participant.name}})};return!i||!r?f.jsx("div",{className:"chat-conversation empty",children:f.jsxs("div",{className:"empty-conversation",children:[f.jsx("div",{className:"empty-conversation-icon",children:""}),f.jsx("h3",{className:"empty-conversation-title",children:"Seleziona una conversazione"}),f.jsx("p",{className:"empty-conversation-text",children:"Scegli una chat dalla lista per iniziare a messaggiare"})]})}):f.jsxs("div",{className:"chat-conversation",children:[f.jsxs("div",{className:"conversation-header",children:[f.jsxs("div",{className:"conversation-participant",children:[f.jsx(Gt,{src:r.participant.avatar,name:r.participant.name,alt:`Avatar di ${r.participant.name}`,size:"sm",variant:"default"}),f.jsx("h2",{className:"participant-name",children:r.participant.name})]}),f.jsx("div",{className:"conversation-actions",children:f.jsx("button",{className:"header-icon-btn delete-chat-btn",title:"Elimina conversazione",onClick:C=>{C.stopPropagation(),C.preventDefault(),T()},children:f.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("polyline",{points:"3,6 5,6 21,6"}),f.jsx("path",{d:"m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"}),f.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),f.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})})]}),f.jsx("div",{className:"messages-container",children:f.jsx("div",{className:"messages-list",children:p?f.jsx("div",{className:"loading-messages",children:f.jsx("p",{children:"Caricamento messaggi..."})}):m.length===0?f.jsx("div",{className:"empty-messages",children:f.jsx("p",{children:"Nessun messaggio ancora. Inizia la conversazione!"})}):m.map(C=>f.jsx("div",{className:`message ${C.isFromCurrentUser?"sent":"received"}`,children:f.jsxs("div",{className:"message-bubble",children:[f.jsx("p",{className:"message-content",children:C.content}),f.jsx("span",{className:"message-time",children:x(C.timestamp)})]})},C.id))})}),f.jsx("div",{className:"message-input-container",children:f.jsxs("div",{className:"message-input-wrapper",children:[f.jsx("textarea",{className:"message-input",placeholder:"Scrivi un messaggio...",value:h,onChange:C=>v(C.target.value),onKeyPress:R,rows:1}),f.jsx("button",{className:`header-icon-btn send-button ${h.trim()?"":"disabled"}`,onClick:E,disabled:!h.trim(),title:"Invia messaggio",children:f.jsxs("svg",{className:"header-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[f.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),f.jsx("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]})})]})})]})}const Km=(r,i)=>{const s=[r,i].sort();return`${s[0]}__${s[1]}`};function pw({isOpen:r,title:i,message:s,confirmText:l="Conferma",cancelText:c="Annulla",onConfirm:u,onCancel:h}){S.useEffect(()=>{const p=b=>{b.key==="Escape"&&h()};if(r)return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[r,h]);const v=p=>{p.target===p.currentTarget&&h()},m=()=>{h()},g=()=>{u()};return r?f.jsx("div",{className:"confirmation-overlay",onClick:v,children:f.jsxs("div",{className:"confirmation-modal",children:[f.jsxs("div",{className:"confirmation-header",children:[f.jsx("h3",{className:"confirmation-title",children:i}),f.jsx("button",{className:"confirmation-close-btn",onClick:m,children:""})]}),f.jsx("div",{className:"confirmation-content",children:f.jsx("p",{className:"confirmation-message",children:s})}),f.jsxs("div",{className:"confirmation-actions",children:[f.jsx("button",{className:"confirmation-btn cancel-btn",onClick:m,children:c}),f.jsx("button",{className:"confirmation-btn confirm-btn",onClick:g,children:l})]})]})}):null}function Qm({onLogoClick:r}){const{artistId:i}=nv(),{user:s}=st(),{conversations:l,loading:c,error:u,deleteConversation:h,markConversationAsRead:v,sendMessage:m,fetchConversationMessages:g}=vw(),[p,b]=S.useState(null),[w,x]=S.useState(null),[E,R]=S.useState(null),T=l.map(P=>({id:P.id,participant:{name:P.participant.name,avatar:P.participant.avatar},lastMessage:P.lastMessage,timestamp:P.timestamp,unreadCount:P.unreadCount}));S.useEffect(()=>{if(i&&s){const P=Km(s.id,i);l.find(Z=>Z.id===P)?(b(P),x(null)):C(i)}},[i,s,l]),S.useEffect(()=>{p&&w&&l.find(ae=>ae.id===p)&&x(null)},[l,p,w]);const C=async P=>{try{const{data:ae,error:Z}=await fe.from("profiles").select("user_id, full_name, username, avatar_url").eq("user_id",P).single();if(Z){console.error("Error fetching artist profile:",Z);return}const ee={id:P,name:ae?.full_name||ae?.username||"Unknown Artist",avatar:ae?.avatar_url};if(s){const ue=Km(s.id,P);b(ue),x(ee)}}catch(ae){console.error("Error fetching artist profile:",ae)}};let D=p?T.find(P=>P.id===p):null;if(p&&!D&&!w){b(null);return}!D&&w&&p&&(D={id:p,participant:{name:w.name,avatar:w.avatar},lastMessage:"",timestamp:new Date().toISOString(),unreadCount:0});const M=P=>{b(P);const ae=l.find(Z=>Z.id===P);ae&&ae.unreadCount>0&&v(ae.participant.user_id)},Y=P=>{setTimeout(()=>{R({id:P.id,participantName:P.participant.name})},0)},q=async()=>{if(E)try{const P=l.find(ae=>ae.id===E.id);P&&(p===E.id&&(b(null),x(null)),await h(P.participant.user_id))}catch(P){console.error("Failed to delete conversation:",P)}R(null)},L=()=>{R(null)};return c?f.jsxs("div",{className:"messages-page",children:[f.jsx(Jt,{onLogoClick:r}),f.jsx("div",{className:"messages-container",children:f.jsx("div",{className:"messages-loading",children:f.jsx(zt,{})})})]}):u?f.jsxs("div",{className:"messages-page",children:[f.jsx(Jt,{onLogoClick:r}),f.jsx("div",{className:"messages-container",children:f.jsx("div",{className:"messages-content",children:f.jsxs("div",{className:"error-message",children:[f.jsx("h3",{children:"Errore caricamento messaggi"}),f.jsx("p",{children:u})]})})})]}):f.jsxs("div",{className:"messages-page",children:[f.jsx(Jt,{onLogoClick:r}),f.jsx("div",{className:"messages-container",children:f.jsxs("div",{className:"messages-content",children:[f.jsx(mw,{chats:T,selectedChatId:p,onChatSelect:M,onRequestDeleteChat:Y}),f.jsx(gw,{chat:D,isVisible:p!==null,onRequestDeleteChat:Y,sendMessage:m,fetchConversationMessages:g})]})}),f.jsx(pw,{isOpen:E!==null,title:"Elimina Conversazione",message:E?`Vuoi davvero eliminare la conversazione con ${E.participantName}? Questa azione non pu essere annullata.`:"",confirmText:"Elimina",cancelText:"Annulla",onConfirm:q,onCancel:L})]})}function yw({onLogoClick:r}){const{user:i,profile:s,refreshProfile:l}=st(),[c,u]=S.useState(!1),[h,v]=S.useState(null),[m,g]=S.useState(!1),[p,b]=S.useState(!1),w=ea(),x=async()=>{if(!i||!s){v("Devi essere autenticato per diventare un artista");return}if(s.profile_type==="artist"){v("Il tuo profilo  gi un profilo artista");return}u(!0),v(null);try{const{error:E}=await fe.from("profiles").update({profile_type:"artist"}).eq("user_id",i.id);if(E)throw E;await l(),g(!0),setTimeout(()=>{w("/profile")},2e3)}catch(E){v(`Errore durante l'aggiornamento: ${E.message}`)}finally{u(!1)}};return S.useEffect(()=>(p?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[p]),f.jsxs("div",{className:"become-artist-page",children:[f.jsx(Jt,{onLogoClick:r}),f.jsxs("div",{className:"become-artist-container",children:[f.jsxs("div",{className:"hero-section",children:[f.jsx("h1",{className:"hero-title",children:"DIVENTA UN ARTISTA"}),f.jsx("p",{className:"hero-subtitle",children:"Trasforma la tua passione in una carriera professionale"}),f.jsx("div",{className:"hero-cta",children:m?f.jsxs("div",{className:"success-message",children:[f.jsx("h2",{children:"BENVENUTO TRA GLI ARTISTI!"}),f.jsx("p",{children:"Il tuo profilo  stato aggiornato con successo. Verrai reindirizzato alla home page..."})]}):f.jsxs(f.Fragment,{children:[h&&f.jsx("div",{className:"error-message",children:h}),f.jsx("button",{className:`hero-cta-button ${c?"loading":""}`,onClick:()=>b(!0),disabled:c||!i,children:c?"AGGIORNAMENTO IN CORSO...":"DIVENTA ARTISTA ORA"}),!i&&f.jsxs("p",{className:"auth-notice",children:["Devi essere autenticato per diventare un artista.",f.jsx("button",{className:"auth-link",onClick:()=>w("/"),children:"Torna alla home per accedere"})]})]})})]}),f.jsxs("div",{className:"benefits-section",children:[f.jsxs("div",{className:"benefit-card",children:[f.jsx("div",{className:"benefit-icon",children:""}),f.jsx("h3",{className:"benefit-title",children:"PUBBLICA I TUOI LAVORI"}),f.jsx("p",{className:"benefit-description",children:"Mostra il tuo portfolio e raggiungi migliaia di potenziali clienti. Carica le tue opere, organizza per categorie e attira nuovi clienti."})]}),f.jsxs("div",{className:"benefit-card",children:[f.jsx("div",{className:"benefit-icon",children:""}),f.jsx("h3",{className:"benefit-title",children:"GESTIONALE PERSONALE"}),f.jsx("p",{className:"benefit-description",children:"Accedi a strumenti avanzati per organizzare le tue opere, gestire le vendite e monitorare le performance del tuo business artistico."})]}),f.jsxs("div",{className:"benefit-card",children:[f.jsx("div",{className:"benefit-icon",children:""}),f.jsx("h3",{className:"benefit-title",children:"ADEMPIMENTI LEGALI"}),f.jsx("p",{className:"benefit-description",children:"Strumenti integrati per gestire fatturazione, contratti, consensi e tutti gli aspetti burocratici dell'attivit artistica."})]}),f.jsxs("div",{className:"benefit-card",children:[f.jsx("div",{className:"benefit-icon",children:""}),f.jsx("h3",{className:"benefit-title",children:"COMUNICAZIONE DIRETTA"}),f.jsx("p",{className:"benefit-description",children:"Sistema di messaggistica integrato per comunicare direttamente con i clienti, gestire appuntamenti e follow-up post-tatuaggio."})]})]})]}),p&&f.jsx("div",{className:"auth-overlay",onClick:E=>E.target===E.currentTarget&&b(!1),children:f.jsxs("div",{className:"auth-modal confirmation-modal",children:[f.jsx("div",{className:"auth-header-sticky",children:f.jsx("button",{className:"auth-close-btn",onClick:()=>b(!1),children:""})}),f.jsx("div",{className:"auth-modal-header"}),f.jsxs("div",{className:"confirmation-content",children:[f.jsx("h2",{className:"confirmation-title",children:"CONFERMA UPGRADE"}),f.jsx("p",{className:"confirmation-text",children:"Sei sicuro di voler diventare un artista? Questa azione cambier il tuo profilo da cliente ad artista."}),f.jsxs("p",{className:"confirmation-note",children:[f.jsx("strong",{children:"Nota:"})," Potrai sempre tornare indietro dalle impostazioni del profilo."]}),f.jsxs("div",{className:"confirmation-buttons",children:[f.jsx("button",{className:"action-btn",onClick:()=>b(!1),children:"Annulla"}),f.jsx("button",{className:`action-btn ${c?"disabled":""}`,onClick:()=>{b(!1),x()},disabled:c,children:c?"AGGIORNAMENTO...":"CONFERMA"})]})]})]})})]})}function _w(){const r=ea(),{profile:i}=st(),s=()=>{r("/")},l=c=>{i&&i.user_id===c?r("/profile"):r(`/artist/${c}`)};return f.jsxs(l0,{children:[f.jsx(Ka,{path:"/",element:f.jsx(rw,{})}),f.jsx(Ka,{path:"/artist/:artistId",element:f.jsx(cw,{})}),f.jsx(Ka,{path:"/profile",element:f.jsx(dw,{})}),f.jsx(Ka,{path:"/saved",element:f.jsx(hw,{onLogoClick:s,onArtistClick:l})}),f.jsx(Ka,{path:"/messages",element:f.jsx(Qm,{onLogoClick:s})}),f.jsx(Ka,{path:"/messages/:artistId",element:f.jsx(Qm,{onLogoClick:s})}),f.jsx(Ka,{path:"/become-artist",element:f.jsx(yw,{onLogoClick:s})})]})}function bw(){return f.jsx(Kb,{children:f.jsx(_w,{})})}gy.createRoot(document.getElementById("root")).render(f.jsx(O0,{basename:"/Skunk",children:f.jsx(bw,{})}));
